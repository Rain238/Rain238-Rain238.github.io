{
    "version": "https://jsonfeed.org/version/1",
    "title": "é›¨çš„è®°å¿†",
    "subtitle": "ç¨‹åºæ˜¯æœ‰ç”Ÿå‘½çš„ç²¾çµ",
    "icon": "https://rainrem.top/images/favicon.ico",
    "description": "æˆ‘è¿˜åœ¨åŸåœ°ç­‰ä½ ï¼Œä½ å´å·²ç»å¿˜è®°æ›¾æ¥è¿‡è¿™é‡Œ",
    "home_page_url": "https://rainrem.top",
    "items": [
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/spring/SpringIOC%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3-DI%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/spring/SpringIOC%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3-DI%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/",
            "title": "SpringIOCæ·±å…¥ç†è§£-DIä¾èµ–æ³¨å…¥",
            "date_published": "2023-12-25T15:50:00.000Z",
            "content_html": "<h1 id=\"springiocæ¦‚è¿°\"><a class=\"anchor\" href=\"#springiocæ¦‚è¿°\">#</a> SpringIOC æ¦‚è¿°</h1>\n<blockquote>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRlZS5jb20vUmFpblNhdWNlL3NwcmluZy1pb2MtZGVtbw==\">ğŸš€æœ¬ç¯‡ç« ä»£ç  Demo</span> åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œåˆ›å»ºå¯¹è±¡çš„æ“ä½œéšå¤„å¯è§ä»¥è‡³äºå¯¹å…¶ååˆ†ç†Ÿæ‚‰åˆæ„Ÿè§‰å¾ˆç¹çï¼Œæ¯æ¬¡éœ€è¦å¯¹è±¡éƒ½éœ€è¦äº²æ‰‹ <code>new</code>  ä¸€ä¸ªå¯¹è±¡å‡ºæ¥ï¼Œç”šè‡³æŸäº›æƒ…å†µä¸‹ç”±äºä¸å¥½çš„ç¼–ç¨‹ä¹ æƒ¯å¯èƒ½è¿˜ä¼šé€ æˆå¯¹è±¡æ— æ³•è¢«å›æ”¶ï¼Œå°±ä¼šéå¸¸ç³Ÿç³•ï¼Œæˆ‘ä»¬ä¸€ç›´æå€¡çš„æ¾è€¦åˆï¼Œå°‘å…¥ä¾µåŸåˆ™ï¼Œè¿™ç§æƒ…å†µä¸‹å˜å¾—ä¸€æ— æ˜¯ã€‚å‰è¾ˆä»¬å¼€å§‹è°‹æ±‚æ”¹å˜è¿™ç§ç¼–ç¨‹é™‹ä¹ ï¼Œè€ƒè™‘å¦‚ä½•ä½¿ç¼–ç æ›´åŠ è§£è€¦åˆï¼Œç”±æ­¤è€Œæ¥çš„è§£å†³æ–¹æ³•æ˜¯é¢å‘æ¥å£ç¼–ç¨‹ï¼Œæœªä½¿ç”¨æ¥å£å’Œä½¿ç”¨æ¥å£åçš„ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<h2 id=\"1ï¸âƒ£-ä½¿ç”¨æ¥å£å‰çš„åšæ³•-before\"><a class=\"anchor\" href=\"#1ï¸âƒ£-ä½¿ç”¨æ¥å£å‰çš„åšæ³•-before\">#</a> 1ï¸âƒ£ ä½¿ç”¨æ¥å£å‰çš„åšæ³• - before</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SystemDaoImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo1<span class=\"token punctuation\">.</span>before</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ArrayList</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Description: ç³»ç»Ÿç±»</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @DateTime: 2023-12-30 22:27</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SystemDaoImpl</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     * æ‰“å°ç³»ç»Ÿä¿¡æ¯</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">systemInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Javaè¿è¡Œç‰ˆæœ¬ï¼š%s\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"java.version\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Javaä¾›åº”å•†ï¼š%s\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"java.vendor\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Javaå®‰è£…ç›®å½•ï¼š%s\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"java.home\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ“ä½œç³»ç»Ÿåç§°ï¼š%s\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"os.name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ“ä½œç³»ç»Ÿæ¶æ„ï¼š%s\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"os.arch\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼š%s\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"os.version\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç”¨æˆ·åç§°ï¼š%s\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user.name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç”¨æˆ·ä¸»ç›®å½•ï¼š%s\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user.home\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SystemServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo1<span class=\"token punctuation\">.</span>before</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ç³»ç»Ÿä¸šåŠ¡å±‚</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-30 22:28</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SystemServiceImpl</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * å®ä½“ç±»å¯¹è±¡</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">SystemDaoImpl</span> system<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">getSystemInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">// æœªä½¿ç”¨æ¥å£çš„åšæ³•</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        system <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SystemDaoImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        system<span class=\"token punctuation\">.</span><span class=\"token function\">systemInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"2ï¸âƒ£-ä½¿ç”¨æ¥å£åçš„åšæ³•-after\"><a class=\"anchor\" href=\"#2ï¸âƒ£-ä½¿ç”¨æ¥å£åçš„åšæ³•-after\">#</a> 2ï¸âƒ£ ä½¿ç”¨æ¥å£åçš„åšæ³• - after</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SystemDao.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo1<span class=\"token punctuation\">.</span>after</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">SystemDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     * æ‰“å°ç³»ç»Ÿä¿¡æ¯</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">systemInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SystemDaoImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo1<span class=\"token punctuation\">.</span>after</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ArrayList</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Description: ç³»ç»Ÿå®ç°ç±»</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @DateTime: 2023-12-30 22:43</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SystemDaoImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">SystemDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     * æ‰“å°ç³»ç»Ÿä¿¡æ¯</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">systemInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Javaè¿è¡Œç‰ˆæœ¬ï¼š%s\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"java.version\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Javaä¾›åº”å•†ï¼š%s\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"java.vendor\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Javaå®‰è£…ç›®å½•ï¼š%s\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"java.home\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ“ä½œç³»ç»Ÿåç§°ï¼š%s\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"os.name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ“ä½œç³»ç»Ÿæ¶æ„ï¼š%s\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"os.arch\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼š%s\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"os.version\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç”¨æˆ·åç§°ï¼š%s\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user.name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç”¨æˆ·ä¸»ç›®å½•ï¼š%s\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user.home\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token operator\">::</span><span class=\"token function\">println</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SystemServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo1<span class=\"token punctuation\">.</span>after</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ç³»ç»Ÿä¸šåŠ¡å±‚</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-30 22:45</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SystemServiceImpl</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * ä½¿ç”¨æ¥å£çš„åšæ³•</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">SystemDao</span> systemDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">systemInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">// ä½¿ç”¨æ¥å£æ¥åˆ›å»ºå…·ä½“å®ç°ç±»å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        systemDao <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SystemDaoImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        systemDao<span class=\"token punctuation\">.</span><span class=\"token function\">systemInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p><code>SystemServiceImpl</code>  ç±»ä¸­ç”±åŸæ¥ç›´æ¥ä¸ <code>SystemDaoImpl</code>  æ‰“äº¤é“å˜ä¸ºäº† <code>SystemDao</code> , å³ä½¿ <code>SystemDao</code>  æœ€ç»ˆå®ç°ä¾ç„¶æ˜¯ <code>SystemDaoImpl</code> ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯æ‰€æœ‰è°ƒç”¨éƒ½é€šè¿‡æ¥å£ <code>SystemDao</code>  æ¥å®Œæˆï¼Œè€Œæ¥å£çœŸæ­£å®ç°ç±»å’Œæœ€ç»ˆæ‰§è¡Œè€…å°±æ˜¯ <code>SystemDaoImpl</code>  ç±»ï¼Œå½“æ›¿æ¢ <code>SystemDaoImpl</code>  ç±»æ—¶ä¹Ÿåªéœ€è¦ä¿®æ”¹ <code>SystemDao</code>  æŒ‡å‘æ–°å®ç°ç±»å³å¯ã€‚</p>\n</blockquote>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/26/pibcnmD.png\" alt=\"pibcnmD.png\" /></p>\n<blockquote>\n<p>åœ¨ä¸Šè¿°ä»£ç ä¸­å¾ˆå¤§ç¨‹åº¦ä¸Šé™ä½äº†ä»£ç è€¦åˆåº¦ï¼Œä½†æ˜¯ä»£ç ä¾æ—§å­˜åœ¨å…¥ä¾µæ€§å’Œä¸€å®šç¨‹åº¦çš„è€¦åˆæ€§ï¼Œå¦‚ï¼šåœ¨ä¿®æ”¹ <code>SystemDao</code>  å®ç°ç±»æ—¶ï¼Œæ‰”ç„¶éœ€è¦ä¿®æ”¹ <code>SystemServiceImpl</code>  å†…éƒ¨ä»£ç ï¼Œå½“ä¾èµ–çš„ç±»è¿‡å¤šæ—¶ï¼ŒæŸ¥æ‰¾å’Œä¿®æ”¹çš„è¿‡ç¨‹ä¼šéå¸¸éº»çƒ¦ï¼Œå› æ­¤æˆ‘ä»¬æ‰”éœ€è¦å¯»æ‰¾ä¸€ç§æ–¹å¼ï¼Œå®ƒå¯ä»¥ä»¤å¼€å‘è€…æ— éœ€è§¦åŠ <code>SystemServiceImpl</code>  å†…å®¹ä»£ç çš„æƒ…å†µä¸‹å®ç°ä¿®æ”¹ <code>SystemDao</code>  çš„å®ç°ç±»ï¼Œä»¥ä¾¿è¾¾åˆ°æœ€ä½çš„è€¦åˆåº¦å’Œæœ€å°‘å…¥ä¾µç›®çš„ã€‚</p>\n</blockquote>\n<h2 id=\"3ï¸âƒ£-é€šè¿‡é…ç½®æ–‡ä»¶é™ä½è€¦åˆåº¦\"><a class=\"anchor\" href=\"#3ï¸âƒ£-é€šè¿‡é…ç½®æ–‡ä»¶é™ä½è€¦åˆåº¦\">#</a> 3ï¸âƒ£ é€šè¿‡é…ç½®æ–‡ä»¶é™ä½è€¦åˆåº¦</h2>\n<blockquote>\n<p>å®é™…ä¸Šå­˜åœ¨ä¸€ç§ç§°ä¸ºåå°„çš„ç¼–ç¨‹æŠ€æœ¯å¯ä»¥ååŠ©è§£å†³æ­¤é—®é¢˜ï¼Œåå°„æ˜¯ä¸€ç§æ ¹æ®ç»™å‡ºå®Œæ•´ç±»åæ¥åŠ¨æ€ç”Ÿæˆå¯¹è±¡ï¼Œè¿™ç§ç¼–ç¨‹æ–¹å¼å¯ä»¥è®©å¯¹è±¡åœ¨ç”Ÿæˆæ—¶å†³å®šåˆ°åº•æ˜¯å“ªä¸€ç§å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥è¿™æ ·æ¥åšï¼Œåœ¨æŸä¸ªé…ç½®æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å·²å†™å¥½ <code>SystemDaoImpl</code>  ç±»çš„å®Œå…¨é™å®šåï¼Œé€šè¿‡è¯»å–è¯¥æ–‡ä»¶è€Œè·å–åˆ° <code>SystemDao</code>  çš„çœŸæ­£å®ç°ç±»çš„å®Œå…¨é™å®šåï¼Œç„¶åé€šè¿‡åå°„æŠ€æœ¯åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆè¯¥ç±»ï¼Œæœ€ç»ˆèµ‹å€¼ç»™ <code>SystemDao</code>  æ¥å£ï¼Œè¿™æ ·å°±å¯ä»¥è§£å†³å½“å‰é—®é¢˜äº†ï¼Œä¸‹é¢ä½¿ç”¨ <code>properties</code>  æ–‡ä»¶ä½œä¸ºé…ç½®æ–‡ä»¶ï¼Œ <code>className.properties</code>  å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight properties\"><figcaption data-lang=\".properties\"><span>className.properties</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token attr-name\">systemDao.name</span> <span class=\"token punctuation\">=</span> <span class=\"token attr-value\">top.rem.rain.demo1.reflection.SystemDaoImpl</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SystemService.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo1<span class=\"token punctuation\">.</span>reflection</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">InvocationTargetException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">SystemService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * åå°„åˆ›å»ºå¯¹è±¡</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     * @throws ClassNotFoundException</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     * @throws InstantiationException</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     * @throws IllegalAccessException</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     * @throws NoSuchMethodException</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     * @throws InvocationTargetException</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">reflectionCreationObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InstantiationException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IllegalAccessException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">NoSuchMethodException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InvocationTargetException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SystemServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo1<span class=\"token punctuation\">.</span>reflection</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>logging<span class=\"token punctuation\">.</span>log4j<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">PropertiesUtil</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span>jupiter<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Test</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">InvocationTargetException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Description: ç³»ç»Ÿä¸šåŠ¡å±‚</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @DateTime: 2023-12-30 22:55</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SystemServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">SystemService</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">SystemDao</span> systemDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     * åå°„åˆ›å»ºå¯¹è±¡</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     * @throws ClassNotFoundException</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * @throws InstantiationException</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * @throws IllegalAccessException</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     * @throws NoSuchMethodException</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>     * @throws InvocationTargetException</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">reflectionCreationObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InstantiationException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IllegalAccessException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">NoSuchMethodException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InvocationTargetException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">// è¯»å–é…ç½®æ–‡ä»¶çš„å·¥å…·ç±»</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token class-name\">PropertiesUtil</span> propertiesUtil <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PropertiesUtil</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"className.properties\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">// è·å–å®Œå…¨é™å®šåç§°</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token class-name\">String</span> className <span class=\"token operator\">=</span> propertiesUtil<span class=\"token punctuation\">.</span><span class=\"token function\">getStringProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"systemDao.name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡åå°„</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> c <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token comment\">// åŠ¨æ€ç”Ÿæˆå®ä¾‹å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        systemDao <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SystemDao</span><span class=\"token punctuation\">)</span> c<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token comment\">// æ‰“å°ç³»ç»Ÿä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        systemDao<span class=\"token punctuation\">.</span><span class=\"token function\">systemInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InvocationTargetException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InstantiationException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IllegalAccessException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">NoSuchMethodException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token class-name\">SystemServiceImpl</span> systemService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SystemServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        systemService<span class=\"token punctuation\">.</span><span class=\"token function\">reflectionCreationObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>            Java è¿è¡Œç‰ˆæœ¬ï¼š17.0.6</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>            Java ä¾›åº”å•†ï¼šOracle Corporation</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>            Java å®‰è£…ç›®å½•ï¼šC:\\LightRainData\\IDEA\\JDK\\JDK-17.0.6</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            æ“ä½œç³»ç»Ÿåç§°ï¼šWindows 11</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            æ“ä½œç³»ç»Ÿæ¶æ„ï¼šamd64</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼š10.0</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>            ç”¨æˆ·åç§°ï¼šLightRain</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            ç”¨æˆ·ä¸»ç›®å½•ï¼šC:\\Users\\LightRain</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸Šè¿°ä»£ç çš„ç¡®å¦‚æˆ‘ä»¬æ‰€æ„¿ç”Ÿæˆäº† <code>SystemDao</code>  å®ä¾‹ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯åœ¨æ›¿æ¢ <code>SystemDao</code>  å®ç°ç±»çš„æƒ…å†µä¸‹åªéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶çš„å†…å®¹ï¼Œè€Œæ— éœ€è§¦åŠ <code>SystemServiceImpl</code>  å†…éƒ¨ä»£ç ï¼Œä»è€ŒæŠŠä»£ç ä¿®æ”¹çš„è¿‡ç¨‹è½¬åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œç›¸å½“äº <code>SystemServiceImpl</code>  åŠå…¶å†…éƒ¨çš„ <code>SystemDao</code>  é€šè¿‡é…ç½®æ–‡ä»¶ä¸ <code>SystemDao</code>  çš„å®ç°ç±»è¿›è¡Œå…³è”ï¼Œè¿™æ · <code>SystemServiceImpl</code>  ä¸ <code>SystemDao</code>  çš„å®ç°ç±»é—´ä¹Ÿå°±å®ç°äº†è§£è€¦åˆï¼Œå½“ç„¶ <code>SystemSeviceImpl</code>  ç±»ä¸­å­˜åœ¨ç€ <code>SystemDao</code>  å¯¹è±¡æ˜¯æ— æ³•é¿å…çš„ï¼Œæˆ‘ä»¬åªèƒ½æœ€å¤§ç¨‹åº¦å»è§£è€¦åˆã€‚</p>\n</blockquote>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/30/piOyEWR.png\" alt=\"piOyEWR.png\" /></p>\n<blockquote>\n<p><code>SpringIOC</code>  ä¹Ÿæ˜¯ä¸€ä¸ª <code>Java</code>  å¯¹è±¡ï¼Œåœ¨æŸäº›ç‰¹å®šæ—¶é—´è¢«åˆ›å»ºåï¼Œå¯ä»¥è¿›è¡Œå¯¹å…¶å®ƒå¯¹è±¡çš„æ§åˆ¶ï¼ŒåŒ…æ‹¬åˆå§‹åŒ–ã€åˆ›å»ºã€é”€æ¯ç­‰ã€‚åœ¨ä¸Šè¿°è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡é…ç½®æ–‡ä»¶é…ç½®äº† <code>SystemDaoImpl</code>  å®ç°ç±»çš„å®Œå…¨é™å®šåç§°ï¼Œé€šè¿‡åå°„æœºåˆ¶åœ¨è¿è¡Œæ—¶ä¸º <code>SystemDao</code>  åˆ›å»ºå…·ä½“å®ç°ç±»ï¼ŒåŒ…æ‹¬ <code>SystemServiceImpl</code>  çš„åˆ›å»ºï¼Œ <code>Spring</code>  çš„ <code>IOC</code>  å®¹å™¨éƒ½ä¼šå¸®æˆ‘ä»¬å®Œæˆï¼Œè€Œæˆ‘ä»¬å”¯ä¸€è¦åšçš„å°±æ˜¯æŠŠéœ€è¦åˆ›å»ºçš„ç±»å’Œå…¶å®ƒä¾èµ–çš„ç±»ä»¥é…ç½®æ–‡ä»¶çš„æ–¹å¼å‘Šè¯‰ <code>IOC</code>  å®¹å™¨éœ€è¦åˆ›å»ºå’Œæ³¨å…¥å“ªäº›ç±»ã€‚</p>\n</blockquote>\n<blockquote>\n<p><code>Spring</code>  é€šè¿‡è¿™ç§æ§åˆ¶åè½¬ <code>(IOC)</code>  çš„è®¾è®¡æ¨¡å¼æ¥è§£è€¦åˆï¼Œè¿™ç§æ–¹å¼ä½¿ä¸€ä¸ªå¯¹è±¡ä¾èµ–å…¶å®ƒå¯¹è±¡æ—¶ä¼šé€šè¿‡è¢«åŠ¨çš„æ–¹å¼ä¼ è¿›æ¥ï¼Œè€Œä¸æ˜¯é€šè¿‡æ‰‹åŠ¨åˆ›å»ºè¿™äº›ç±»ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ <code>IOC</code>  æ¨¡å¼çœ‹åšå·¥å‚æ¨¡å¼çš„å‡åç‰ˆï¼Œåªä¸è¿‡è¿™ä¸ªå·¥å‚é‡Œè¦ç”Ÿæˆçš„å¯¹è±¡éƒ½æ˜¯é…ç½®æ–‡ä»¶ <code>(XML)</code>  ä¸­ç»™å‡ºå®šä¹‰çš„ï¼Œç„¶ååˆ©ç”¨ <code>Java</code>  åå°„æŠ€æœ¯æ ¹æ® <code>XML</code>  ä¸­ç»™å‡ºçš„ç±»åç”Ÿæˆç›¸åº”å¯¹è±¡ã€‚</p>\n</blockquote>\n<blockquote>\n<p>ä»æŸç§ç¨‹åº¦ä¸Šæ¥è®² <code>IOC</code>  ç›¸å½“äºæŠŠåœ¨å·¥å‚æ–¹æ³•é‡Œé€šè¿‡ç¡¬ç¼–ç åˆ›å»ºå¯¹è±¡çš„ä»£ç ï¼Œæ”¹æˆäº†ç”± <code>XML</code>  æ–‡ä»¶æ¥å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯æŠŠå·¥å‚å’Œå¯¹è±¡ç”Ÿæˆè¿™ä¸¤è€…ç‹¬ç«‹åˆ†éš”å¼€æ¥ï¼Œç›®çš„å°±æ˜¯æé«˜çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå†å°±æ˜¯å°†å¯¹è±¡ä¹‹é—´çš„è€¦åˆåº¦é™åˆ°æœ€ä½ï¼Œå› æ­¤æˆ‘ä»¬è¦æ˜ç™½æ‰€è°“çš„ <code>IOC</code>  å°±æ˜¯å°†å¯¹è±¡çš„åˆ›å»ºæƒäº¤ç”± <code>Spring</code>  æ¥å®Œæˆï¼Œè®©ç±»ä¹‹é—´çš„å…³ç³»è¾¾åˆ°æœ€ä½è€¦åˆåº¦çŠ¶æ€ã€‚</p>\n</blockquote>\n<h1 id=\"springå¿«é€Ÿå…¥é—¨\"><a class=\"anchor\" href=\"#springå¿«é€Ÿå…¥é—¨\">#</a> Spring å¿«é€Ÿå…¥é—¨</h1>\n<blockquote>\n<p>1ï¸âƒ£ ä½¿ç”¨ <code>SpringIOC</code>  åŠŸèƒ½éœ€è¦å…ˆå¼•å…¥ <code>Spring</code>  æ ¸å¿ƒä¾èµ–åŒ…ï¼Œä½¿ç”¨ <code>Maven</code>  ä½œä¸ºæ„å»ºå·¥å…·ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>pom.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>spring.version</span><span class=\"token punctuation\">></span></span>6.1.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>spring.version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>project.build.sourceEncoding</span><span class=\"token punctuation\">></span></span>UTF-8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>project.build.sourceEncoding</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">&lt;!--    æ·»åŠ  Spring ä¾èµ–    --></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-core<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>$&#123;spring.version&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-beans<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>$&#123;spring.version&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-context<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>$&#123;spring.version&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>2ï¸âƒ£ åˆ›å»º <code>AccountDao</code>  æ¥å£</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountDao.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>dao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">AccountDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     * è´¦æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">accountInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>3ï¸âƒ£ åˆ›å»º <code>Dao</code>  å…·ä½“å®ç°ç±»</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountDaoImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>dao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: å®ç°ç±»</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-31 21:01</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountDaoImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * è´¦æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">accountInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç”¨æˆ·åç§°ï¼š%s\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user.name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>4ï¸âƒ£ åˆ›å»º <code>AccountService</code>  æ¥å£</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountService.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">AccountService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>     * è·å–è´¦æˆ·</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>5ï¸âƒ£ åˆ›å»º <code>Service</code>  å…·ä½“å®ç°ç±»</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span>jupiter<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Test</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDaoImpl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Description: å®ç°ç±»</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @DateTime: 2023-12-31 21:04</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * æ³¨å…¥å¯¹è±¡</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">AccountDao</span> accountDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * è·å–è´¦æˆ·</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        accountDao<span class=\"token punctuation\">.</span><span class=\"token function\">accountInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>     * é€šè¿‡ set æ–¹æ³•æ³¨å…¥ä¾èµ–å¯¹è±¡</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     * @param accountDao AccountDao</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAccountDao</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">AccountDao</span> accountDao<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>accountDao <span class=\"token operator\">=</span> accountDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>6ï¸âƒ£ åœ¨åˆ›å»ºå®Œä¸Šé¢çš„æ¥å£å’Œå…·ä½“å®ç°åï¼Œä¸‹é¢å°†é€šè¿‡ <code>SpringIOC</code>  å®¹å™¨æ¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºå¹¶æ³¨å…¥è¿™äº›ç±»ï¼Œåœ¨é¡¹ç›®çš„ <code>resources</code>  ç›®å½•ä¸‹åˆ›å»º <code>applicationcontext.xml</code>  é…ç½®æ–‡ä»¶ï¼Œå…·ä½“é…ç½®ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>applicationcontext.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">&lt;!--  å£°æ˜ accountDao å¯¹è±¡å¹¶äº¤ç”± Spring æ¥è¿›è¡Œç®¡ç†ä¸åˆ›å»º  --></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo2.dao.AccountDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">&lt;!--  å£°æ˜ accountService å¯¹è±¡å¹¶äº¤ç”± Spring æ¥è¿›è¡Œç®¡ç†ä¸åˆ›å»º  --></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountService<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo2.service.AccountServiceImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">&lt;!--    æ³¨å…¥ accountDao å¯¹è±¡éœ€è¦ set æ–¹æ³•    --></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>ä» <code>XML</code>  æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ª <code>beans</code>  çš„é¡¶çº§æ ‡ç­¾ï¼ŒåŒæ—¶è¿˜å¼•å…¥äº†æ ¸å¿ƒå‘½åç©ºé—´ï¼Œ <code>Spring</code>  çš„åŠŸèƒ½åœ¨ä½¿ç”¨æ—¶éƒ½éœ€è¦å£°æ˜ç›¸åº”çš„å‘½åç©ºé—´ï¼Œåœ¨ä¸Šè¿°çš„ <code>xml</code>  ä¸­çš„å‘½åç©ºé—´æ˜¯æœ€åŸºæœ¬çš„ï¼Œä½¿ç”¨ <code>IntelliJ IDEA</code>  åˆ›å»º <code>Spring</code>  çš„ <code>xml</code>  é…ç½®æ–‡ä»¶æ—¶é»˜è®¤å°±ä¼šç”Ÿæˆã€‚</p>\n</blockquote>\n<blockquote>\n<p>é€šè¿‡ <code>bean</code>  å­æ ‡ç­¾å£°æ˜é‚£äº›éœ€è¦ <code>IOC</code>  å®¹å™¨å¸®åŠ©æˆ‘ä»¬è¦åˆ›å»ºçš„ç±»ï¼Œå…¶ä¸­ <code>name</code>  æ˜¯æŒ‡æ˜ <code>IOC</code>  åˆ›å»ºåè¯¥å¯¹è±¡çš„åç§° (ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>id</code>  æ¥æ›¿ä»£ <code>name</code> ), <code>class</code>  æ˜¯å‘Šè¯‰ <code>IOC</code>  è¿™ä¸ªç±»çš„å®Œå…¨é™å®šåç§°ï¼Œ <code>IOC</code>  ä¼šé€šè¿‡è¿™ç»„ä¿¡æ¯ä½¿ç”¨åå°„æŠ€æœ¯æ¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºå¯¹åº”çš„ç±»å¯¹è±¡ã€‚</p>\n</blockquote>\n<blockquote>\n<p>åœ¨ <code>accountService</code>  æ ‡ç­¾çš„å£°æ˜ä¸­å¤šå‡ºäº†ä¸€ä¸ª <code>property</code>  æ ‡ç­¾ï¼Œè¿™ä¸ªæ ‡ç­¾æŒ‡å‘äº†åˆšæ‰åˆ›å»ºçš„ <code>accountDao</code>  å¯¹è±¡ï¼Œå®ƒçš„ä½œç”¨æ˜¯æŠŠ <code>accountDao</code>  å¯¹è±¡ä¼ é€’ç»™ <code>accountService</code>  å®ç°ç±»ä¸­çš„ <code>accountDao</code>  å±æ€§ï¼Œè¯¥å±æ€§å¿…é¡»æ‹¥æœ‰ <code>set</code>  æ–¹æ³•æ‰å¯ä»¥æ³¨å…¥æˆåŠŸï¼Œæˆ‘ä»¬æŠŠè¿™ç§å¾€ç±»å¯¹è±¡ä¸­æ³¨å…¥å…¶å®ƒå¯¹è±¡çš„æ“ä½œç»Ÿç§°ä¸º <code>ä¾èµ–æ³¨å…¥</code> ï¼Œå…¶ä¸­ <code>property</code>  æ ‡ç­¾çš„ <code>name</code>  å¿…é¡»ä¸ <code>AccountServiceImpl</code>  å®ç°ç±»ä¸­çš„å˜é‡åç§°ç›¸åŒã€‚</p>\n</blockquote>\n<blockquote>\n<p>7ï¸âƒ£ åœ¨ <code>AccountServiceImpl</code>  ç±»ä¸­æ·»åŠ ä¸€ä¸ªæµ‹è¯•æ–¹æ³•ï¼Œå…¶æ¬¡ä½¿ç”¨è¿™äº›ç±»éœ€è¦åˆ©ç”¨ <code>Spring</code>  æä¾›çš„æ ¸å¿ƒç±»ï¼Œ <code>ApplicationContext</code>  é€šè¿‡è¯¥ç±»å»åŠ è½½å·²å£°æ˜å¥½çš„é…ç½®æ–‡ä»¶ï¼Œç„¶åå°±å¯ä»¥è·å–åˆ°æˆ‘ä»¬éœ€è¦çš„ç±»äº†ï¼Œæµ‹è¯•æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span>jupiter<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Test</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDaoImpl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Description: å®ç°ç±»</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @DateTime: 2023-12-31 21:04</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * çœç•¥ä¸Šè¿°é‡å¤è´´è¿‡çš„ä»£ç ....</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     * ä½¿ç”¨ XML æ–‡ä»¶è¿›è¡Œé…ç½®</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">testAccountXML</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡ ApplicationContext åŠ è½½é…ç½®æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token class-name\">ApplicationContext</span> applicationContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"applicationcontext.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token comment\">// å¤šæ¬¡è·å–å¹¶ä¸ä¼šåˆ›å»ºå¤šä¸ª accountService å¯¹è±¡ï¼Œå› ä¸º Spring é»˜è®¤åˆ›å»ºæ˜¯å•å®ä¾‹çš„ä½œç”¨åŸŸ</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token class-name\">AccountService</span> accountService <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">AccountService</span><span class=\"token punctuation\">)</span> applicationContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountService\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        accountService<span class=\"token punctuation\">.</span><span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            æ‰§è¡Œç»“æœï¼šç”¨æˆ·åç§°ï¼šLightRain</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"springå®¹å™¨è£…é…-xmlæ³¨è§£é…ç½®æ–¹å¼\"><a class=\"anchor\" href=\"#springå®¹å™¨è£…é…-xmlæ³¨è§£é…ç½®æ–¹å¼\">#</a> Spring å®¹å™¨è£…é… - XML &amp; æ³¨è§£é…ç½®æ–¹å¼</h1>\n<h2 id=\"xmlé…ç½®æ–¹å¼\"><a class=\"anchor\" href=\"#xmlé…ç½®æ–¹å¼\">#</a> XML é…ç½®æ–¹å¼</h2>\n<blockquote>\n<p>é‡‡ç”¨ <code>xml</code>  é…ç½®æ–‡ä»¶çš„æ–¹å¼å¯¹ <code>bean</code>  è¿›è¡Œå£°æ˜å’Œç®¡ç†ï¼Œæ¯ä¸€ä¸ª <code>bean</code>  æ ‡ç­¾éƒ½ä»£è¡¨ç€éœ€è¦è¢«åˆ›å»ºçš„å¯¹è±¡å¹¶é€šè¿‡ <code>property</code>  æ ‡ç­¾å¯ä»¥ä¸ºè¯¥ç±»å…¶å®ƒä¾èµ–å¯¹è±¡ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ <code>Spring</code>  å®¹å™¨å°±å¯ä»¥æˆåŠŸçŸ¥é“æˆ‘ä»¬éœ€è¦åˆ›å»ºå“ªäº› <code>bean</code>  å®ä¾‹äº†ã€‚å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>applicationcontext.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">&lt;!--  å£°æ˜ accountDao å¯¹è±¡å¹¶äº¤ç”± Spring æ¥è¿›è¡Œç®¡ç†ä¸åˆ›å»º  --></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo2.dao.AccountDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">&lt;!--  å£°æ˜ accountService å¯¹è±¡å¹¶äº¤ç”± Spring æ¥è¿›è¡Œç®¡ç†ä¸åˆ›å»º  --></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountService<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo2.service.AccountServiceImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">&lt;!--    æ³¨å…¥ accountDao å¯¹è±¡éœ€è¦ set æ–¹æ³•    --></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>ç„¶åé€šè¿‡ <code>ApplicationContext</code>  çš„ <code>ClassPathXmlApplicationContext</code>  å»åŠ è½½ <code>Spring</code>  é…ç½®æ–‡ä»¶ï¼Œæ¥è·å–æƒ³è¦çš„å®ä¾‹å¹¶è°ƒç”¨ç›¸åº”æ–¹æ³•æ‰§è¡Œã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¯¹äº <code>ClassPathXmlApplicationContext</code>  é»˜è®¤åŠ è½½ <code>classpath</code>  è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œåªéœ€è¦æŒ‡æ˜å¯¹åº”æ–‡ä»¶çš„ <code>classpath</code>  è·¯å¾„å³å¯ï¼Œå¦‚æœå­˜åœ¨å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œåˆ™åªéœ€è¦åˆ†åˆ«ä¼ é€’å³å¯ï¼Œ <code>ClassPathXmlApplicationContext</code>  æ˜¯ä¸€ä¸ªå¯ä»¥æ¥æ”¶å¯å˜å‚æ•°çš„æ„é€ å‡½æ•°ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// é»˜è®¤æŸ¥æ‰¾ classpath è·¯å¾„ä¸‹çš„æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">ApplicationContext</span> applicationContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"applicationcontext.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// å¤šæ–‡ä»¶ï¼Œä¹Ÿå¯ä¼ é€’æ•°ç»„</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token class-name\">ApplicationContext</span> applicationContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"applicationcontext.xml\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"applicationcontext2.xml\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">// é»˜è®¤ä¸ºé¡¹ç›®å·¥ä½œè·¯å¾„ å³é¡¹ç›®çš„æ ¹ç›®å½• </span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token class-name\">FileSystemXmlApplicationContext</span> applicationContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileSystemXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/src/main/resources/applicationcontext.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// ä¹Ÿå¯ä»¥è¯»å– classpath ä¸‹çš„æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token class-name\">FileSystemXmlApplicationContext</span> applicationContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileSystemXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"classpath:applicationcontext.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"æ³¨è§£é…ç½®æ–¹å¼\"><a class=\"anchor\" href=\"#æ³¨è§£é…ç½®æ–¹å¼\">#</a> æ³¨è§£é…ç½®æ–¹å¼</h2>\n<blockquote>\n<p>ä¸‹é¢æ˜¯é€šè¿‡æ³¨è§£çš„æ–¹å¼æ¥è¾¾åˆ°ä¸ä¸Šè¿° <code>xml</code>  é…ç½®çš„æ•ˆæœï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>BeanConfig.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>config</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Bean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Configuration</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDaoImpl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountService</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountServiceImpl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @Description: Bean æ³¨è§£æ–¹å¼çš„é…ç½®</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @DateTime: 2024-01-01 00:38</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token annotation punctuation\">@Configuration</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BeanConfig</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token annotation punctuation\">@Bean</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">AccountDao</span> <span class=\"token function\">accountDao</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AccountDaoImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token annotation punctuation\">@Bean</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">AccountService</span> <span class=\"token function\">accountService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token class-name\">AccountServiceImpl</span> accountService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AccountServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        accountService<span class=\"token punctuation\">.</span><span class=\"token function\">setAccountDao</span><span class=\"token punctuation\">(</span><span class=\"token function\">accountDao</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token keyword\">return</span> accountService<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p><code>@Configuration</code>  æ³¨è§£è¡¨ç¤º <code>BeanConfig</code>  ç±»æ˜¯é…ç½®æ–‡ä»¶ç±»ï¼Œç›¸å½“äºä»£æ›¿äº† <code>XML</code>  çš„é…ç½®æ–‡ä»¶ï¼Œè¿™ç§åŸºäº <code>Java</code>  æ³¨è§£é…ç½®æ–¹å¼æ˜¯åœ¨ <code>Spring 3.0</code>  ä¸­å¼•å…¥çš„ï¼Œä½¿ç”¨æ³¨è§£è¿›è¡Œé…ç½®æ—¶è¯·ç¡®ä¿å¼•å…¥äº† <code>spring-context</code>  åæ ‡ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-context<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>6.1.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>AccountServiceImpl</code>  ç±»ä¸­å†æ·»åŠ ä¸€ä¸ªæµ‹è¯•æ–¹æ³•ï¼Œè¿™æ¬¡ä½¿ç”¨ <code>AnnotationConfigApplicationContext</code>  æ¥åŠ è½½ <code>Java</code>  é…ç½®æ–‡ä»¶ç±»ï¼Œæ‰§è¡Œç»“æœæ˜¯å’Œ <code>XML</code>  ä¸€æ ·çš„ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span>jupiter<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Test</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AnnotationConfigApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">BeanConfig</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @Description: å®ç°ç±»</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @DateTime: 2023-12-31 21:04</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     * çœç•¥ä¸Šè¿°é‡å¤è´´è¿‡çš„ä»£ç ....</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * ä½¿ç”¨ Java æ³¨è§£è¿›è¡Œé…ç½®</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">testAccountBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡ ApplicationContext çš„ AnnotationConfigApplicationContext åŠ è½½é…ç½®æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token class-name\">ApplicationContext</span> applicationContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AnnotationConfigApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BeanConfig</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token comment\">// åç§°å¿…é¡» BeanConfig ä¸­å·¥ç¨‹æ–¹æ³•åç§°ä¸€è‡´</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token class-name\">AccountService</span> accountService <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">AccountService</span><span class=\"token punctuation\">)</span> applicationContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountService\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        accountService<span class=\"token punctuation\">.</span><span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            æ‰§è¡Œç»“æœï¼šç”¨æˆ·åç§°ï¼šLightRain</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æˆ‘ä»¬éœ€è¦æ˜ç™½çš„æ˜¯ï¼Œåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ›´å€¾å‘äºä½¿ç”¨ <code>XMl</code>  æ¥é…ç½® <code>Bean</code>  ç›¸å…³ä¿¡æ¯ï¼Œè¿™æ ·ä¼šæ›´åŠ æ–¹ä¾¿å¯¹ä»£ç è¿›è¡Œç®¡ç†ï¼Œé™¤äº†å‰é¢é€šè¿‡ <code>xml</code>  ä¸­ä½¿ç”¨ <code>bean</code>  æ ‡ç­¾ä¸ºæ¯ä¸ªç±»å£°æ˜å®ä¾‹å¤–ï¼Œ <code>Spring</code>  è¿˜ä¸ºæˆ‘ä»¬æä¾›äº†åŸºäºæ³¨è§£çš„å£°æ˜æ–¹å¼ã€‚</p>\n</blockquote>\n<h1 id=\"springä¾èµ–æ³¨å…¥\"><a class=\"anchor\" href=\"#springä¾èµ–æ³¨å…¥\">#</a> Spring ä¾èµ–æ³¨å…¥</h1>\n<blockquote>\n<p>è‡³äºä¾èµ–æ³¨å…¥å°±æ˜¯å½“ä¸€ä¸ª <code>bean</code>  å®ä¾‹å¼•ç”¨åˆ°äº†å¦ä¸€ä¸ª <code>bean</code>  å®ä¾‹æ—¶ï¼Œ <code>Spring</code>  å®¹å™¨ä¼šå¸®åŠ©æˆ‘ä»¬åˆ›å»ºä¾èµ– <code>bean</code>  å®ä¾‹å¹¶æ³¨å…¥åˆ°å¦ä¸€ä¸ª <code>bean</code>  ä¸­ï¼Œåœ¨ä¸Šè¿°æ¡ˆä¾‹ä¸­çš„ <code>AccountService</code>  ä¾èµ–äº <code>AccountDao</code> ï¼Œ <code>Spring</code>  å®¹å™¨ä¼šåœ¨åˆ›å»º <code>AccountService</code>  çš„å®ç°ç±»å’Œ <code>AccountDao</code>  çš„å®ç°ç±»åï¼ŒæŠŠ <code>AccountDao</code>  çš„å®ç°æ³¨å…¥ <code>AccountService</code>  å®ä¾‹ä¸­ï¼Œä¸‹é¢åˆ†åˆ«æ¥ä»‹ç»æ³¨å…¥çš„æ–¹å¼ã€‚</p>\n</blockquote>\n<h2 id=\"setteræ³¨å…¥\"><a class=\"anchor\" href=\"#setteræ³¨å…¥\">#</a> Setter æ³¨å…¥</h2>\n<blockquote>\n<p><code>Setter</code>  æ³¨å…¥ï¼šè¢«æ³¨å…¥çš„å±æ€§éœ€è¦æ‹¥æœ‰ <code>set</code>  æ–¹æ³•ï¼Œ <code>Setter</code>  æ³¨å…¥æ”¯æŒåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ï¼Œ <code>Setter</code>  æ³¨å…¥æ˜¯åœ¨ <code>Bean</code>  å®ä¾‹åˆ›å»ºå®Œæˆåæ‰§è¡Œçš„ï¼Œè§‚å¯Ÿå…¥é—¨æ¡ˆä¾‹ï¼Œå¯¹è±¡æ³¨å…¥ä½¿ç”¨ <code>property</code>  æ ‡ç­¾çš„ <code>ref</code>  å±æ€§è¿›è¡Œæ³¨å…¥ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>applicationcontext.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">&lt;!--  å£°æ˜ accountDao å¯¹è±¡å¹¶äº¤ç”± Spring æ¥è¿›è¡Œç®¡ç†ä¸åˆ›å»º  --></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo2.dao.AccountDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">&lt;!--  å£°æ˜ accountService å¯¹è±¡å¹¶äº¤ç”± Spring æ¥è¿›è¡Œç®¡ç†ä¸åˆ›å»º  --></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountService<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo2.service.AccountServiceImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">&lt;!--    æ³¨å…¥ accountDao å¯¹è±¡éœ€è¦ set æ–¹æ³•    --></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>å…¶æ¬¡é™¤äº†ä¸Šè¿°çš„å¯¹è±¡æ³¨å…¥åŒæ—¶ä¹Ÿå¯ä»¥æ³¨å…¥ç®€å•å€¼å’Œ <code>map</code> ã€ <code>set</code> ã€ <code>list</code> ã€ <code>æ•°ç»„</code> ï¼Œç®€å•å€¼æ³¨å…¥ä½¿ç”¨ <code>property</code>  æ ‡ç­¾çš„ <code>value</code>  å±æ€§ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>bean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Map</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Set</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: Set æ³¨å…¥ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2024-01-01 11:00</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Account</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     * è´¦æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> accountName<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     * è´¦æˆ·å¯†ç </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> accountPassword<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * ç³»ç»Ÿä¿¡æ¯</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> systemInfo<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>     * æœ‹å‹å§“å</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> friendsName<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     * ä¹¦æ¶</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> bookshelf<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAccountName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> accountName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>accountName <span class=\"token operator\">=</span> accountName<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAccountPassword</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> accountPassword<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>accountPassword <span class=\"token operator\">=</span> accountPassword<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setSystemInfo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> systemInfo<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>systemInfo <span class=\"token operator\">=</span> systemInfo<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setFriendsName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> friendsName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>friendsName <span class=\"token operator\">=</span> friendsName<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setBookshelf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> bookshelf<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>bookshelf <span class=\"token operator\">=</span> bookshelf<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"Account&#123;\"</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>                <span class=\"token string\">\"accountName='\"</span> <span class=\"token operator\">+</span> accountName <span class=\"token operator\">+</span> <span class=\"token string\">'\\''</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>                <span class=\"token string\">\", accountPassword='\"</span> <span class=\"token operator\">+</span> accountPassword <span class=\"token operator\">+</span> <span class=\"token string\">'\\''</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>                <span class=\"token string\">\", systemInfo=\"</span> <span class=\"token operator\">+</span> systemInfo <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>                <span class=\"token string\">\", friendsName=\"</span> <span class=\"token operator\">+</span> friendsName <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>                <span class=\"token string\">\", bookshelf=\"</span> <span class=\"token operator\">+</span> bookshelf <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>                <span class=\"token string\">'&#125;'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p><code>XML</code>  é…ç½®å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>account.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">&lt;!-- setter é€šè¿‡ property æ³¨å…¥å±æ€§å€¼ï¼Œæ™®é€šç±»å‹ä½¿ç”¨ value --></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>account<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scope</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>prototype<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo2.bean.Account<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountName<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>LightRain<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountPassword<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>123456r<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">&lt;!-- æ³¨å…¥ List --></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>systemInfo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>Javaè¿è¡Œç‰ˆæœ¬ï¼š17.0.6<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>Javaä¾›åº”å•†ï¼šOracle Corporation<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>Javaå®‰è£…ç›®å½•ï¼šC:\\LightRainData\\IDEA\\JDK\\JDK-17.0.6<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>æ“ä½œç³»ç»Ÿåç§°ï¼šWindows 11<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>æ“ä½œç³»ç»Ÿæ¶æ„ï¼šamd64<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼š10.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>ç”¨æˆ·åç§°ï¼šLightRain<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>ç”¨æˆ·ä¸»ç›®å½•ï¼šC:\\Users\\LightRain<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">&lt;!-- æ³¨å…¥ Set --></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>friendsName<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>set</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>å¤æ²³æ¸š<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>å¤æ²³æ—©è‹—<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>è—¤ç³æ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>set</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">&lt;!-- æ³¨å…¥ Map --></span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>bookshelf<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>map</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>entry</span> <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Javaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>entry</span> <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Javaæ¶æ„ä¹‹è·¯<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>entry</span> <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>3<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Javaæ€§èƒ½æƒå¨<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>map</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>Account</code>  ç±»ä¸­æ·»åŠ ä¸€ä¸ªæµ‹è¯•æ–¹æ³•ï¼Œç”¨äºæŸ¥çœ‹æ˜¯å¦å¯ä»¥æˆåŠŸæ³¨å…¥ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>bean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span>jupiter<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Test</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo2<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountService</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Map</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Set</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> * @Description: Set æ³¨å…¥ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> * @DateTime: 2024-01-01 11:00</pre></td></tr><tr><td data-num=\"16\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"17\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Account</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     * çœç•¥ä¸Šè¿°è´´è¿‡çš„ä»£ç ...</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     * æµ‹è¯•æ–¹æ³•</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡ ApplicationContext åŠ è½½é…ç½®æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token class-name\">ApplicationContext</span> applicationContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"account.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token comment\">// å¤šæ¬¡è·å–å¹¶ä¸ä¼šåˆ›å»ºå¤šä¸ª account å¯¹è±¡ï¼Œå› ä¸º Spring é»˜è®¤åˆ›å»ºæ˜¯å•å®ä¾‹çš„ä½œç”¨åŸŸ</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">Account</span> account <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Account</span><span class=\"token punctuation\">)</span> applicationContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"account\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"account.toString() = \"</span> <span class=\"token operator\">+</span> account<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>          æ‰§è¡Œç»“æœï¼šaccount.toString () = Account &#123;accountName='LightRain', accountPassword='123456r', systemInfo=[Java è¿è¡Œç‰ˆæœ¬ï¼š17.0.6, Java ä¾›åº”å•†ï¼šOracle Corporation, Java å®‰è£…ç›®å½•ï¼šC:\\LightRainData\\IDEA\\JDK\\JDK-17.0.6, æ“ä½œç³»ç»Ÿåç§°ï¼šWindows 11, æ“ä½œç³»ç»Ÿæ¶æ„ï¼šamd64, æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼š10.0, ç”¨æˆ·åç§°ï¼šLightRain, ç”¨æˆ·ä¸»ç›®å½•ï¼šC:\\Users\\LightRain], friendsName=[å¤æ²³æ¸šï¼Œå¤æ²³æ—©è‹—ï¼Œè—¤ç³æ], bookshelf=&#123;1=Java å¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ï¼Œ2=Java æ¶æ„ä¹‹è·¯ï¼Œ3=Java æ€§èƒ½æƒå¨&#125;&#125;</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"æ„é€ å™¨æ³¨å…¥\"><a class=\"anchor\" href=\"#æ„é€ å™¨æ³¨å…¥\">#</a> æ„é€ å™¨æ³¨å…¥</h2>\n<blockquote>\n<p>æ„é€ å™¨æ˜¯é€šè¿‡æ„é€ æ–¹æ³•æ³¨å…¥ä¾èµ–ï¼Œæ„é€ å‡½æ•°çš„å‚æ•°ä¸€èˆ¬æƒ…å†µä¸‹å°±æ˜¯ä¾èµ–é¡¹ï¼Œ <code>Spring</code>  å®¹å™¨ä¼šæ ¹æ® <code>bean</code>  ä¸­æŒ‡å®šçš„æ„é€ å™¨å‚æ•°æ¥å†³å®šè°ƒç”¨å“ªä¸ªæ„é€ å‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountDao.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo3<span class=\"token punctuation\">.</span>dao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">AccountDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     * è´¦æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">accountInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountDaoImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo3<span class=\"token punctuation\">.</span>dao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: å®ç°ç±»</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-31 21:01</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountDaoImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * è´¦æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">accountInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç”¨æˆ·åç§°ï¼š%s\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user.name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountService.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo3<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">AccountService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>     * è·å–è´¦æˆ·</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo3<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo3<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: ä½¿ç”¨æ„é€ å™¨æ³¨å…¥ä¾èµ–</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-31 21:04</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     * éœ€è¦æ³¨å…¥çš„ Dao å¯¹è±¡</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">AccountDao</span> accountDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     * æ„é€ å™¨æ³¨å…¥ä¾èµ–</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     * @param accountDao AccountDao</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">AccountServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">AccountDao</span> accountDao<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>accountDao <span class=\"token operator\">=</span> accountDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>     * è·å–è´¦æˆ·</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        accountDao<span class=\"token punctuation\">.</span><span class=\"token function\">accountInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>accountServiceImpl.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo3.dao.AccountDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">&lt;!--  é€šè¿‡æ„é€ å™¨æ³¨å…¥ä¾èµ–  --></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountService<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo3.service.AccountServiceImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\">&lt;!--  æ„é€ æ–¹æ³•æ–¹å¼æ³¨å…¥ä¾èµ–  --></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>constructor-arg</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>AccountServiceImpl</code>  ç±»ä¸­æ·»åŠ  <code>main</code>  æ–¹æ³•è¿›è¡Œæµ‹è¯•ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo3<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo3<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: ä½¿ç”¨æ„é€ å™¨æ³¨å…¥ä¾èµ–</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2023-12-31 21:04</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     * éœ€è¦æ³¨å…¥çš„ Dao å¯¹è±¡</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">private</span>  <span class=\"token class-name\">AccountDao</span> accountDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     * æ„é€ å™¨æ³¨å…¥ä¾èµ–</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * @param accountDao AccountDao</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">AccountServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">AccountDao</span> accountDao<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>accountDao <span class=\"token operator\">=</span> accountDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>     * è·å–è´¦æˆ·</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        accountDao<span class=\"token punctuation\">.</span><span class=\"token function\">accountInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>     * ä½¿ç”¨ XML æ–‡ä»¶è¿›è¡Œé…ç½®</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡ ApplicationContext åŠ è½½é…ç½®æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token class-name\">ApplicationContext</span> applicationContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountServiceImpl.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token comment\">// å¤šæ¬¡è·å–å¹¶ä¸ä¼šåˆ›å»ºå¤šä¸ª accountService å¯¹è±¡ï¼Œå› ä¸º Spring é»˜è®¤åˆ›å»ºæ˜¯å•å®ä¾‹çš„ä½œç”¨åŸŸ</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token class-name\">AccountService</span> accountService <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">AccountService</span><span class=\"token punctuation\">)</span> applicationContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountService\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        accountService<span class=\"token punctuation\">.</span><span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            æ‰§è¡Œç»“æœï¼šç”¨æˆ·åç§°ï¼šLightRain</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å½“ç„¶è·Ÿ <code>set</code>  æ³¨å…¥ä¸€æ ·ï¼Œæ„é€ å™¨æ³¨å…¥ä¹Ÿå¯ä»¥ä¼ å…¥ç®€å•å€¼å’Œé›†åˆç±»å‹ï¼Œéœ€è¦æ³¨æ„å½“ä¸€ä¸ª <code>bean</code>  å®šä¹‰ä¸­æœ‰å¤šä¸ª <code>constructor-arg</code>  æ ‡ç­¾æ—¶ï¼Œå®ƒä»¬çš„é¡ºåºå¹¶ä¸é‡è¦ï¼Œå› ä¸º <code>Spring</code>  å®¹å™¨ä¼šé€šè¿‡ä¼ å…¥çš„ä¾èµ–å‚æ•°ä¸ç±»ä¸­æ„é€ å™¨å‚æ•°è¿›è¡Œæ¯”è¾ƒã€‚å¯æƒœçš„æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œå¦‚ä¸‹ <code>User</code>  ç±»ï¼Œå¸¦æœ‰ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œå‚æ•°ç±»å‹å’Œä¸ªæ•°éƒ½ä¸€æ ·ï¼Œåªæ˜¯é¡ºåºä¸åŒï¼Œè¿™æ ·åœ¨ <code>class</code>  ä¸­å®šä¹‰æ˜¯å…è®¸çš„ï¼Œä½†å¯¹äº <code>Spring</code>  å®¹å™¨æ¥è¯´æ˜¯ä¸€ç§ç¾éš¾ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>User.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo3</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ä¸åŒé¡ºåºçš„æ„é€ å‚æ•°</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2024-01-01 13:42</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     * æ„é€ ä¸€</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     * @param name</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     * @param age</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     * æ„é€ äºŒ</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>     * @param age</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>     * @param name</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> age<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>user.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>user<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo3.User<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>constructor-arg</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>java.lang.String<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Rain<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>constructor-arg</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>int<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>17<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>User</code>  ç±»ä¸­æ·»åŠ å¦‚ä¸‹æµ‹è¯•æ–¹æ³•ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>User.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token comment\">// é€šè¿‡ ApplicationContext åŠ è½½é…ç½®æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token class-name\">ApplicationContext</span> applicationContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">User</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">)</span> applicationContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user.age = \"</span> <span class=\"token operator\">+</span> user<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      user.age = 17</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      user.name = Rain</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    */</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ç¨‹åºè¿è¡Œæ—¶ <code>Spring</code>  å®¹å™¨ä¼šå°è¯•æŸ¥æ‰¾é€‚åˆçš„ <code>User</code>  æ„é€ å‡½æ•°è¿›è€Œåˆ›å»º <code>User</code>  å¯¹è±¡ï¼Œç”±äº <code>constructor-arg</code>  çš„æ³¨å…¥å¹¶ä¸é‡è¦ï¼Œä»è€Œå¯¼è‡´ä¸çŸ¥è¯¥ç”¨ä¸¤ç§æ„é€ å‡½æ•°ä¸­çš„å“ªä¸€ç§ï¼Œè¿™æ—¶ <code>user</code>  å®ä¾‹å°†åˆ›å»ºå¤±è´¥ï¼Œ <code>Spring</code>  å®¹å™¨ä¹Ÿå°†å¯åŠ¨å¤±è´¥ã€‚</p>\n</blockquote>\n<blockquote>\n<p>åº†å¹¸çš„æ˜¯ <code>Spring</code>  æ—©ä¸ºæˆ‘ä»¬é¢„æµ‹åˆ°äº†è¿™ç§æƒ…å†µï¼Œå› æ­¤åªè¦ç»™ <code>Spring</code>  å®¹å™¨ä¸€ç‚¹æç¤ºï¼Œå®ƒä¾¿èƒ½æˆåŠŸæ‰¾åˆ°é€‚åˆçš„æ„é€ å‡½æ•°ä»è€Œåˆ›å»º <code>user</code>  å®ä¾‹ï¼Œåœ¨ <code>constructor-arg</code>  æ ‡ç­¾ä¸­å­˜åœ¨ä¸€ä¸ª <code>index</code>  å±æ€§ï¼Œé€šè¿‡ <code>index</code>  å±æ€§å¯ä»¥å‘Šè¯‰ <code>Spring</code>  å®¹å™¨ä¼ é€’çš„ä¾èµ–å‚æ•°çš„é¡ºåºï¼Œä¸‹é¢çš„é…ç½®å°†ä¼šä½¿ <code>Spring</code>  å®¹å™¨æˆåŠŸæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ„é€ å‡½æ•°å¹¶åˆ›å»º <code>user</code>  å®ä¾‹ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>user.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>user<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo3.User<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>constructor-arg</span> <span class=\"token attr-name\">index</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Rain<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>constructor-arg</span> <span class=\"token attr-name\">index</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>17<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ <code>set</code>  æ³¨å…¥å’Œæ„é€ å™¨æ³¨å…¥ä¼šç»å¸¸æ··åˆä½¿ç”¨ï¼Œè¿™å¹¶ä¸ç¨€å¥‡ï¼Œåé¢è¿˜ä¼šæœ‰æ³¨è§£è£…é…ï¼Œå®ƒåœ¨æ—¥å¸¸å¼€å‘ä¸­æ›´ä¸ºå¸¸ç”¨ã€‚</p>\n</blockquote>\n<h2 id=\"ä¾èµ–å¾ªç¯\"><a class=\"anchor\" href=\"#ä¾èµ–å¾ªç¯\">#</a> ä¾èµ–å¾ªç¯</h2>\n<blockquote>\n<p>é™¤äº†ä¸Šè¿°æƒ…å†µï¼Œè¿˜å­˜åœ¨ä¸€ç§ä¾èµ–å¾ªç¯ç°è±¡ï¼Œåœ¨æ„é€ å‡½æ•°æ³¨å…¥æœ‰ä¸€ä¸ªæ— æ³•è§£å†³çš„ä¾èµ–å¾ªç¯é—®é¢˜ï¼Œå¦‚ä¸‹æœ‰ä¸¤ä¸ª <code>bean</code>  åˆ†åˆ«æ˜¯ <code>A</code>  å’Œ <code>B</code>  ç±»ï¼Œè¿™ä¸¤ä¸ª <code>bean</code>  é€šè¿‡æ„é€ å‡½æ•°ç›¸äº’ä¾èµ–ï¼Œè¿™ç§æƒ…å†µä¸‹ <code>Spring</code>  å®¹å™¨å°†æ— æ³•å®ä¾‹åŒ–è¿™ä¸¤ä¸ª <code>bean</code> ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">B</span> b<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">B</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>b <span class=\"token operator\">=</span> b<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">B</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">A</span> a<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">B</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">A</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a <span class=\"token operator\">=</span> a<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>demo4.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>a<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo4.A<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>constructor-arg</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>b<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>b<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>b<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo4.B<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>constructor-arg</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>a<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>a<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>æ­¤æ—¶ç”±äº <code>A</code>  è¢«åˆ›å»ºæ—¶å¸Œæœ› <code>B</code>  è¢«æ³¨å…¥åˆ°è‡ªèº«ï¼Œç„¶è€Œæ­¤æ—¶ <code>B</code>  è¿˜æ²¡æœ‰è¢«åˆ›å»ºï¼Œè€Œä¸” <code>B</code>  ä¹Ÿä¾èµ–äº <code>A</code>  è¿™æ ·å°±å¯¼è‡´ <code>Spring</code>  å®¹å™¨å·¦å³ä¸ºéš¾ï¼Œæ­¤æ—¶å°±ä¼šæ— æ³•æ»¡è¶³ä¸¤æ–¹çš„éœ€æ±‚ï¼Œæœ€åå°±ä¼šå¯¼è‡´ç¨‹åºå´©æºƒæŠ›å‡ºå¼‚å¸¸ã€‚è§£å†³è¿™ç§é—®é¢˜çš„æ–¹å¼æ˜¯ä½¿ç”¨ <code>set</code>  ä¾èµ–ï¼Œæœ‰æ—¶ä½†è¿˜æ˜¯ä¼šé€ æˆä¸€äº›ä¸å¿…è¦çš„å›°æ‰°ï¼Œå› æ­¤å¼ºçƒˆä¸å»ºè®®åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ä¾èµ–å¾ªç¯ã€‚</p>\n</blockquote>\n<h1 id=\"æ³¨è§£æ³¨å…¥è‡ªåŠ¨è£…é…\"><a class=\"anchor\" href=\"#æ³¨è§£æ³¨å…¥è‡ªåŠ¨è£…é…\">#</a> æ³¨è§£æ³¨å…¥ &amp; è‡ªåŠ¨è£…é…</h1>\n<h2 id=\"è‡ªåŠ¨è£…é…-xml\"><a class=\"anchor\" href=\"#è‡ªåŠ¨è£…é…-xml\">#</a> è‡ªåŠ¨è£…é… - XML</h2>\n<blockquote>\n<p>é™¤äº†æ‰‹åŠ¨æ³¨å…¥å¤– <code>Spring</code>  è¿˜ä¸ºæˆ‘ä»¬æä¾›äº†è‡ªåŠ¨å‘ <code>Bean</code>  æ³¨å…¥ä¾èµ–çš„åŠŸèƒ½ï¼Œè¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºè‡ªåŠ¨è£…é… <code>(Autowired)</code> ã€‚å½“æ³¨å…¥çš„ <code>bean</code>  ç‰¹åˆ«å¤šæ—¶ï¼Œå®ƒå°†æå¤§åœ°èŠ‚çœç¼–å†™ç¨‹åºæ³¨å…¥çš„æ—¶é—´ï¼Œåœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œ <code>Spring</code>  è‡ªåŠ¨è£…é…æœ‰ä¸‰ç§æ–¹å¼ï¼š <code>byName(æ ¹æ®åç§°)</code> ã€ <code>byType(æ ¹æ®ç±»å‹)</code> ã€ <code>constructor(æ ¹æ®æ„é€ å™¨)</code> ã€‚</p>\n</blockquote>\n<blockquote>\n<p>åœ¨ <code>byType</code>  æ–¹å¼ä¸­ï¼Œ <code>Spring</code>  å®¹å™¨ä¼šåŸºäºåå°„æŸ¥çœ‹ <code>bean</code>  å®šä¹‰çš„ç±»ï¼Œç„¶åæ‰¾åˆ°ä¸ä¾èµ–ç±»å‹ç›¸åŒçš„ <code>bean</code>  æ³¨å…¥åˆ°å¦å¤–çš„ <code>bean</code>  ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦ <code>set</code>  æ³¨å…¥æ¥å®Œæˆï¼Œå› æ­¤å¿…é¡»å­˜åœ¨ <code>set</code>  æ–¹æ³•ï¼Œå¦åˆ™å°†æ³¨å…¥å¤±è´¥ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>UserDao.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo5<span class=\"token punctuation\">.</span>dao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">UserDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     * ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>UserDaoImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo5<span class=\"token punctuation\">.</span>dao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: å…·ä½“å®ç°</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2024-01-01 17:18</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserDaoImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">UserDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç³»ç»Ÿç”¨æˆ·ï¼š\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user.name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>UserService.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo5<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     * ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>UserServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo5<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo5<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: å…·ä½“å®ç°</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2024-01-01 17:20</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     * éœ€è¦æ³¨å…¥çš„ä¾èµ–</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     * é€šè¿‡ set æ–¹æ³•æ³¨å…¥ä¾èµ–</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * @param userDao UserDao</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setUserDao</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>userDao <span class=\"token operator\">=</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>     * ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        userDao<span class=\"token punctuation\">.</span><span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä½¿ç”¨ <code>XML</code>  é…ç½®ï¼Œé€šè¿‡ <code>bean</code>  æ ‡ç­¾çš„ <code>autowire</code>  å±æ€§å¯åŠ¨åç§°ä¸º <code>userService</code>  çš„è‡ªåŠ¨è£…é…åŠŸèƒ½ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>demo5.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo5.dao.UserDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">&lt;!--  byTypeï¼šæ ¹æ®ç±»å‹è‡ªåŠ¨è£…é… userDao  --></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userService<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">autowire</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>byType<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo5.service.UserServiceImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>UserServiceImpl</code>  ä¸­æ·»åŠ ä¸€ä¸ª <code>main</code>  æ–¹æ³•è¿›è¡Œæµ‹è¯•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>UserServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo5<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo5<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: å…·ä½“å®ç°</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2024-01-01 17:20</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">// çœç•¥ä»£ç ...</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">ApplicationContext</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"demo5.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">UserService</span> userService <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">UserService</span><span class=\"token punctuation\">)</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userService\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        userService<span class=\"token punctuation\">.</span><span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>          æ‰§è¡Œç»“æœï¼šç³»ç»Ÿç”¨æˆ·ï¼šLightRain</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p><code>byType</code>  æ¨¡å¼è¿˜å­˜åœ¨ä¸€ç§æ³¨å…¥å¤±è´¥çš„æƒ…å†µï¼Œç”±äºåŸºäºç±»å‹æ³¨å…¥ï¼Œå› æ­¤å½“ <code>XML</code>  æ–‡ä»¶ä¸­å­˜åœ¨å¤šä¸ªç›¸åŒç±»å‹åç§°ä¸åŒçš„ <code>Bean</code>  å®ä¾‹æ—¶ï¼Œ <code>Spring</code>  å®¹å™¨ä¾èµ–æ³¨å…¥å°†ä¼šæ³¨å…¥å¤±è´¥ï¼Œå› ä¸ºå­˜åœ¨å¤šç§é€‚åˆçš„é€‰é¡¹ï¼Œæ­¤æ—¶ <code>Spring</code>  å®¹å™¨ä¹Ÿæ— æ³•çŸ¥é“è¯¥æ³¨å…¥å“ªç§ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦ä¸º <code>Spring</code>  å®¹å™¨æä¾›å¸®åŠ©ï¼ŒæŒ‡å®šæ³¨å…¥çš„é‚£ä¸ª <code>Bean</code>  å®ä¾‹ã€‚é€šè¿‡ <code>bean</code>  æ ‡ç­¾çš„ <code>autowire-candidate</code>  å±æ€§è®¾ç½®ä¸º <code>false</code>  æ¥è¿‡æ»¤é‚£äº›ä¸éœ€è¦æ³¨å…¥çš„ <code>Bean</code>  å®ä¾‹å¯¹è±¡ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>demo5.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo5.dao.UserDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">&lt;!--  autowire-candidate=false æ¥è¿‡æ»¤è¯¥ç±»å‹ï¼Œå°†ä¸ä¼šè‡ªåŠ¨è¢«æ³¨å…¥  --></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">autowire-candidate</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo5.dao.UserDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">&lt;!--  byType: æ ¹æ®ç±»å‹è‡ªåŠ¨è£…é… userDao  --></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userService<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">autowire</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>byType<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo5.service.UserServiceImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>éœ€è¦äº†è§£çš„æ˜¯å¦‚æœ <code>Spring</code>  å®¹å™¨ä¸­æ²¡æœ‰æ‰¾åˆ°å¯ä»¥æ³¨å…¥çš„ <code>bean</code>  å®ä¾‹å¯¹è±¡æ—¶ï¼Œå°†ä¸ä¼šå‘ä¾èµ–å±æ€§å€¼æ³¨å…¥ä»»ä½• <code>bean</code> , è¿™æ—¶ä¾èµ– <code>bean</code>  çš„å±æ€§å¯èƒ½ä¸º <code>null</code> , å› æ­¤æˆ‘ä»¬å°å¿ƒå¤„ç†è¿™ç§æƒ…å†µï¼Œé¿å…ä¸å¿…è¦çš„ç¨‹åºå´©æºƒã€‚</p>\n</blockquote>\n<blockquote>\n<p>ä¸‹é¢ä½¿ç”¨æ„é€ å™¨æ–¹å¼è‡ªåŠ¨æ³¨å…¥ä¾èµ–</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>UserServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo5<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo5<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: å…·ä½“å®ç°</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2024-01-01 17:20</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     * éœ€è¦æ³¨å…¥çš„ä¾èµ–</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     * é€šè¿‡ constructor æ¨¡å¼ä½¿æ„é€ å™¨æ³¨å…¥ä¾èµ–</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * @param userDao UserDao</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UserServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>userDao <span class=\"token operator\">=</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>     * é€šè¿‡ set æ–¹æ³•æ³¨å…¥ä¾èµ–</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>     * @param userDao UserDao</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token comment\">//    public void setUserDao(UserDao userDao) &#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token comment\">//        this.userDao = userDao;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token comment\">//    &#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>     * ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        userDao<span class=\"token punctuation\">.</span><span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>demo5.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo5.dao.UserDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">&lt;!--  constructor ä¹Ÿå¯ä»¥è‡ªåŠ¨è£…é… userDao  --></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userService<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">autowire</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>constructor<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo5.service.UserServiceImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>æ€»ç»“ï¼šä¸ç®¡æ˜¯ <code>byType</code>  è¿˜æ˜¯ <code>constructor</code>  æ¨¡å¼ä¸‹ï¼Œå¦‚æœå­˜åœ¨å¤šä¸ªç›¸åŒçš„ <code>bean</code>  å®ä¾‹éƒ½éœ€è¦ä½¿ç”¨ <code>autowire-candidate=&quot;false&quot;</code>  æ¥å°†ä¸éœ€è¦çš„ <code>bean</code>  å®ä¾‹è¿‡æ»¤æ‰ï¼Œä»¥å…ä½¿ <code>Spring</code>  å®¹å™¨æ‰¾åˆ°ä¸¤ä¸ªç›¸åŒå®å´ä¸çŸ¥é“éœ€è¦æ³¨å…¥å“ªä¸€ä¸ªçš„æƒ…å†µï¼Œå¦‚æœä¸ä½¿ç”¨ <code>autowire-candidate</code>  å±æ€§æ¥è¿‡æ»¤æ‰ä¸éœ€è¦æ³¨å…¥çš„ <code>bean</code>  å®ä¾‹ï¼Œ <code>Spring</code>  å°†ä¼šç»ˆæ­¢ç¨‹åºå¹¶æŠ›å‡º <code>UnsatisfiedDependencyException(ä¸ºæ»¡è¶³ä¾èµ–å¼‚å¸¸)</code>  çš„å¼‚å¸¸ã€‚</p>\n</blockquote>\n<h2 id=\"è‡ªåŠ¨è£…é…-autowiredæ³¨è§£\"><a class=\"anchor\" href=\"#è‡ªåŠ¨è£…é…-autowiredæ³¨è§£\">#</a> è‡ªåŠ¨è£…é… -@Autowired æ³¨è§£</h2>\n<blockquote>\n<p>å¦‚æœåœ¨ <code>bean</code>  å®ä¾‹è¿‡å¤šçš„æƒ…å†µä¸‹ï¼Œæ‰‹åŠ¨è®¾ç½®è‡ªåŠ¨æ³¨å…¥ä¼šéå¸¸çš„è€—è´¹æ—¶é—´ï¼Œå¥½åœ¨ <code>Spring 2.5</code>  ä¸­å¼•å…¥äº† <code>@Autowired</code>  æ³¨è§£ï¼Œå®ƒå¯ä»¥å¯¹ç±»æˆå‘˜å˜é‡ã€æ–¹æ³•åŠæ„é€ å‡½æ•°è¿›è¡Œæ ‡æ³¨ï¼Œæ¥å®Œæˆè‡ªåŠ¨è£…é…å·¥ä½œã€‚é€šè¿‡ <code>@Autowired</code>  æ³¨è§£æ ‡æ³¨åœ¨æˆå‘˜å˜é‡æ—¶ä¸éœ€è¦ <code>set</code>  æ–¹æ³•ï¼Œ <code>@Autowired</code>  é»˜è®¤æŒ‰ç±»å‹åŒ¹é…ï¼Œå…ˆæ¥çœ‹ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ï¼Œå½“ç„¶ä½¿ç”¨æ³¨è§£å‰éœ€è¦å…ˆæ³¨å†Œæ³¨è§£é©±åŠ¨ï¼Œè¿™æ ·æ‰å¯ä»¥ä½¿ç”¨ <code>@Autowired</code>  æ³¨è§£ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>é…ç½®æ–‡ä»¶.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">&lt;!-- åœ¨ xml é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼Œä½¿ç”¨æ³¨è§£æ—¶å¿…é¡»å¯åŠ¨æ³¨è§£é©±åŠ¨ --></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">context:</span>annotation-config</span> <span class=\"token punctuation\">/></span></span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>UserServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo6<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Autowired</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo6<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Description: å…·ä½“å®ç°</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @DateTime: 2024-01-01 17:20</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token comment\">// æ ‡æ³¨åœ¨æˆå‘˜å˜é‡</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">// æ ‡æ³¨åœ¨æ„é€ å™¨</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UserServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>userDao <span class=\"token operator\">=</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token comment\">// æ ‡æ³¨åœ¨ set æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setUserDao</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>userDao <span class=\"token operator\">=</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>     * ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        userDao<span class=\"token punctuation\">.</span><span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ä¸Šè¿°ä»£ç ä¸­æœ‰ä¸‰ç§æ–¹å¼æ³¨å…¥ <code>userDao</code> , <code>XML</code>  é…ç½®æ–‡ä»¶ä¸­åªéœ€è¦å£°æ˜ <code>bean</code>  å®ä¾‹å³å¯ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦é€‰æ‹©å…¶ä¸­ä¸€ç§æ–¹å¼è¿›è¡Œæ³¨å…¥å°±å¯ä»¥ï¼Œä¸€èˆ¬æƒ…å†µå»ºè®®ä½¿ç”¨æˆå‘˜å˜é‡æ³¨å…¥ï¼Œå³å¯ä»¥çœå» <code>set</code>  æ–¹æ³•å’Œæ„é€ å‡½æ•°è¿˜å¯ä»¥ç®€åŒ–ä»£ç ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>UserServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo6<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Autowired</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo6<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Description: å…·ä½“å®ç°</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @DateTime: 2024-01-01 17:20</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token comment\">// æ ‡æ³¨åœ¨æˆå‘˜å˜é‡</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        userDao<span class=\"token punctuation\">.</span><span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>@Autowired</code>  ä¸­è¿˜å¯ä»¥ä¼ é€’ä¸€ä¸ª <code>required=false</code>  å±æ€§ï¼Œ <code>false</code>  è¡¨ç¤ºå½“ <code>userDao</code>  å®ä¾‹å­˜åœ¨å°±æ³¨å…¥ä¸å­˜åœ¨å°±å¿½ç•¥ï¼Œå¦‚æœå€¼ä¸º <code>true</code>  é‚£å°±å¿…é¡»è¿›è¡Œæ³¨å…¥ï¼Œè‹¥ <code>userDao</code>  å®ä¾‹ä¸å­˜åœ¨å°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ç”±äºé»˜è®¤æƒ…å†µä¸‹ <code>@Autowired</code>  æ˜¯æŒ‰ç±»å‹åŒ¹é…çš„ <code>(byTypeæ¨¡å¼)</code> ï¼Œå¦‚æœéœ€è¦æŒ‰åç§° <code>(byNameæ¨¡å¼)</code>  è¿›è¡ŒåŒ¹é…ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>@Qualifier</code>  æ³¨è§£è·Ÿ <code>@Autowired</code>  æ³¨è§£ä¸€èµ·æ¥ä½¿ç”¨ï¼Œæ³¨æ„ï¼šåœ¨ä½¿ç”¨æ³¨è§£å‰å¿…é¡»åœ¨ <code>XML</code>  é…ç½®ä¸­æ³¨å†Œæ³¨è§£é©±åŠ¨ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>UserServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo6<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Autowired</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Qualifier</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo6<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Description: å…·ä½“å®ç°</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @DateTime: 2024-01-01 17:20</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userDao1\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        userDao<span class=\"token punctuation\">.</span><span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>demo6.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>context</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/context<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">&lt;!-- ä½¿ç”¨æ³¨è§£æ—¶å¿…é¡»å¯åŠ¨æ³¨è§£é©±åŠ¨ --></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">context:</span>annotation-config</span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">&lt;!--  @Qualifier æ³¨è§£ä¼šè‡ªåŠ¨è¯†åˆ« userDao1  --></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo6.dao.UserDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo6.dao.UserDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userService<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo6.service.UserServiceImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>UserServiceImpl</code>  ä¸­æ·»åŠ ä¸€ä¸ª <code>main</code>  æ–¹æ³•è¿›è¡Œæµ‹è¯•ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>UserServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo6<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Autowired</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Qualifier</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo6<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Description: å…·ä½“å®ç°</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @DateTime: 2024-01-01 17:20</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userDao1\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        userDao<span class=\"token punctuation\">.</span><span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token class-name\">ApplicationContext</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"demo6.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">UserServiceImpl</span> userService <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">UserServiceImpl</span><span class=\"token punctuation\">)</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userService\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        userService<span class=\"token punctuation\">.</span><span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>           æ‰§è¡Œç»“æœï¼šç³»ç»Ÿç”¨æˆ·ï¼šLightRain</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"è‡ªåŠ¨è£…é…-resourceæ³¨è§£\"><a class=\"anchor\" href=\"#è‡ªåŠ¨è£…é…-resourceæ³¨è§£\">#</a> è‡ªåŠ¨è£…é… -@Resource æ³¨è§£</h2>\n<blockquote>\n<p><code>@Resource</code>  æ³¨è§£è·Ÿ <code>@Autowried</code>  æ³¨è§£å…·å¤‡ç›¸åŒåŠŸèƒ½ï¼Œé»˜è®¤æŒ‰ç…§ <code>byName</code>  æ¨¡å¼è¿›è¡Œè‡ªåŠ¨æ³¨å…¥ï¼Œ <code>@Resource</code>  æ˜¯ç”± <code>J2EE</code>  æä¾›çš„ï¼Œéœ€è¦å¯¼å…¥ <code>jakarta.annotation-api</code>  åæ ‡ï¼Œä½¿ç”¨ <code>Maven</code>  æ„å»ºåæ ‡å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>pom.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>jakarta.annotation<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>jakarta.annotation-api<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>2.1.1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p><code>@Resource</code>  æ³¨è§£å¯ä»¥æ ‡æ³¨åœ¨æˆå‘˜å˜é‡å’Œ <code>set</code>  æ–¹æ³•ä¸Šï¼Œä½†ä¸å¯ä»¥æ ‡æ³¨åœ¨æ„é€ å™¨ã€‚ <code>@Resource</code>  æ³¨è§£æœ‰ä¸¤ä¸ªé‡è¦å±æ€§ï¼šåˆ†åˆ«æ˜¯ <code>name</code>  å’Œ <code>type</code>  å±æ€§ã€‚ <code>Spring</code>  å®¹å™¨å¯¹ <code>@Resourceæ³¨è§£</code> çš„ <code>name</code>  å±æ€§ä¼šè§£æä¸º <code>bean</code>  çš„åç§°ï¼Œ <code>type</code>  å±æ€§åˆ™è§£æä¸º <code>bean</code>  çš„ç±»å‹ã€‚å› æ­¤ä½¿ç”¨ <code>name</code>  å±æ€§ï¼Œåˆ™æŒ‰ç…§ <code>byName</code>  æ¨¡å¼è¿›è¡Œè‡ªåŠ¨æ³¨å…¥ï¼Œå¦‚æœä½¿ç”¨ <code>type</code>  å±æ€§åˆ™æŒ‰ç…§ <code>byType</code>  æ¨¡å¼è¿›è¡Œè‡ªåŠ¨æ³¨å…¥ã€‚å€˜è‹¥ä¸¤ä¸ªå±æ€§éƒ½ä¸æŒ‡å®šçš„è¯ <code>Spring</code>  å®¹å™¨å°†é€šè¿‡åå°„æŠ€æœ¯é»˜è®¤æŒ‰ç…§ <code>byName</code>  æ¨¡å¼è¿›è¡Œæ³¨å…¥ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>UserServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo6<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">jakarta<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Resource</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Autowired</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Qualifier</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo6<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @Description: å…·ä½“å®ç°</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @DateTime: 2024-01-01 17:20</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userDao1\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">// æ­¤å¤„ç­‰ä»·äº @Autowired+@Qualifier</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token annotation punctuation\">@Resource</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"userDao\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token comment\">// ä¹Ÿå¯ä»¥åœ¨ set æ–¹æ³•ä¸Šè¿›è¡Œæ³¨è§£å£°æ˜</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token annotation punctuation\">@Resource</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"userDao\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setUserDao</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>userDao <span class=\"token operator\">=</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"è‡ªåŠ¨è£…é…-valueæ³¨è§£åŠæ–‡ä»¶è¯»å–\"><a class=\"anchor\" href=\"#è‡ªåŠ¨è£…é…-valueæ³¨è§£åŠæ–‡ä»¶è¯»å–\">#</a> è‡ªåŠ¨è£…é… -@Value æ³¨è§£åŠæ–‡ä»¶è¯»å–</h2>\n<blockquote>\n<p>å…³äº <code>@Autowired</code>  å’Œ <code>@Resource</code>  è‡ªåŠ¨è£…é…çš„ä¾èµ–æ³¨å…¥å¹¶ä¸é€‚åˆç®€å•å€¼ç±»å‹å¦‚ï¼š <code>int</code> ã€ <code>boolean</code> ã€ <code>long</code> ã€ <code>String</code> ã€ <code>Enum</code>  ç­‰ï¼Œå¯¹äºè¿™äº›ç±»å‹ <code>Spring</code>  å®¹å™¨æä¾›äº† <code>@Value</code>  æ³¨å…¥æ–¹å¼ï¼Œå®ƒå¯ä»¥è§£å†³å¾ˆå¤šç¡¬ç¼–ç é—®é¢˜ï¼Œ <code>@Value</code>  æ¥æ”¶ä¸€ä¸ª <code>String</code>  çš„å€¼ï¼Œè¯¥å€¼æŒ‡å®šäº†å°†è¦è¢«æ³¨å…¥åˆ°å†…ç½®çš„ <code>Java</code>  ç±»å‹å±æ€§å€¼ï¼Œä¸å¿…å…³å¿ƒç±»å‹è½¬æ¢ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ <code>Spring</code>  å®¹å™¨éƒ½å·²è‡ªåŠ¨å¤„ç†å¥½äº†ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ <code>@Value</code>  æ³¨è§£ä¼šå’Œ <code>properties</code>  æ ¼å¼çš„æ–‡ä»¶ç»“åˆä½¿ç”¨ã€‚</p>\n</blockquote>\n<figure class=\"highlight properties\"><figcaption data-lang=\".properties\"><span>jdbc.properties</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token attr-name\">jdbc.driver</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">com.mysql.jdbc.Driver</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token attr-name\">jdbc.url</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">jdbc:mysql://127.0.0.1:3306/spring_ioc?characterEncoding=UTF-8&amp;allowMultiQueries=true</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token attr-name\">jdbc.username</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">root</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token attr-name\">jdbc.password</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">123456</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>UserServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo6<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Autowired</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Qualifier</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Value</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo6<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @Description: å…·ä½“å®ç°</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @DateTime: 2024-01-01 17:20</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userDao1\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserDao</span> userDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * ä½¿ç”¨ $ å ä½ç¬¦è·å–</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"$&#123;jdbc.url&#125;\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> url<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>     * SpEL è¡¨è¾¾æ–¹å¼ï¼Œå…¶ä¸­ä»£è¡¨ xml é…ç½®æ–‡ä»¶ä¸­çš„ id å€¼ configProperties</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#&#123;configProperties['jdbc.username']&#125;\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> userName<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>     * ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"url = \"</span> <span class=\"token operator\">+</span> url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userName = \"</span> <span class=\"token operator\">+</span> userName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        userDao<span class=\"token punctuation\">.</span><span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token class-name\">ApplicationContext</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"demo6.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token class-name\">UserServiceImpl</span> userService <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">UserServiceImpl</span><span class=\"token punctuation\">)</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userService\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        userService<span class=\"token punctuation\">.</span><span class=\"token function\">systemUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>           æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            url = jdbc:mysql://127.0.0.1:3306/spring_ioc?characterEncoding=UTF-8&amp;allowMultiQueries=true</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            userName = root</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            ç³»ç»Ÿç”¨æˆ·ï¼šLightRain</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>demo6.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>context</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/context<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">&lt;!-- åŸºäºå ä½ç¬¦æ–¹å¼ é…ç½®å•ä¸ª properties --></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">&lt;!--&lt;context:property-placeholder location=\"jdbc.properties\"/>--></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">&lt;!-- åŸºäºå ä½ç¬¦æ–¹å¼ é…ç½®å¤šä¸ª properties --></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>propertyConfigurer<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>org.springframework.beans.factory.config.PreferencesPlaceholderConfigurer<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>location<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>jdbc.properties<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">&lt;!-- åŸºäº SpEL è¡¨è¾¾å¼ é…ç½®å¤šä¸ª properties id å€¼ä¸º configProperties æä¾› java ä»£ç ä¸­ä½¿ç”¨ --></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>configProperties<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>org.springframework.beans.factory.config.PropertiesFactoryBean<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>locations<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>list</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>classpath:jdbc.properties<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>list</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token comment\">&lt;!-- ä½¿ç”¨æ³¨è§£æ—¶å¿…é¡»å¯åŠ¨æ³¨è§£é©±åŠ¨ --></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">context:</span>annotation-config</span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo6.dao.UserDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo6.dao.UserDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userService<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo6.service.UserServiceImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h1 id=\"springiocå®¹å™¨ç®¡ç†\"><a class=\"anchor\" href=\"#springiocå®¹å™¨ç®¡ç†\">#</a> SpringIOC å®¹å™¨ç®¡ç†</h1>\n<h2 id=\"beançš„å‘½å\"><a class=\"anchor\" href=\"#beançš„å‘½å\">#</a> Bean çš„å‘½å</h2>\n<blockquote>\n<p>æ¯ä¸€ä¸ªäº¤ç»™ <code>SpringIOC(Springå®¹å™¨)</code>  åˆ›å»ºçš„å¯¹è±¡å¿…é¡»è¢«åˆ†é…è‡³å°‘ä¸€ä¸ªåç§°ï¼Œå¦‚æœå¼€å‘è€…æ²¡æœ‰æä¾›ï¼Œ <code>Spring</code>  å®¹å™¨å°†ä¼šä¸ºå…¶åˆ†é…ä¸€ä¸ªå†…éƒ¨åç§°ï¼Œé€šè¿‡ <code>Bean</code>  çš„åç§°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶å®ƒç±»ä¸­æŸ¥æ‰¾è¯¥ç±»å¹¶ä½¿ç”¨ï¼Œåœ¨å‰é¢çš„æ¡ˆä¾‹ä¸­ä¹Ÿæ˜¯é€šè¿‡ <code>Bean</code>  åç§°è·å–åˆ°å®é™…å¯¹è±¡å¹¶æ‰§è¡Œå¯¹åº”çš„æ“ä½œã€‚åœ¨åŸºäº <code>XML</code>  é…ç½®ä¿¡æ¯ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>id</code>  å±æ€§æ¥ä¸ºä¸€ä¸ª <code>Bean</code>  åˆ†é…åç§°ï¼Œåœ¨åŒä¸€ä¸ª <code>XML</code>  é…ç½®æ–‡ä»¶ä¸­ <code>id</code>  æ˜¯å”¯ä¸€çš„ä¸å¯é‡å¤ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>name</code>  æ¥ä¸º <code>Bean</code>  åˆ†é…åç§°ï¼Œä½¿ç”¨ <code>name</code>  å±æ€§å¯ä»¥åˆ†é…å¤šä¸ªåç§°ï¼Œå¯ä»¥ä½¿ç”¨ç©ºæ ¼ã€é€—å·ã€åˆ†å·æ¥åˆ†å‰²ç»™å®š <code>Bean</code>  çš„å¤šä¸ªåç§°ï¼Œè€Œ <code>id</code>  å±æ€§åˆ™ä¸å¯ä»¥è¿™æ ·ä½¿ç”¨ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>demo6.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao1,userDao3<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo6.dao.UserDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo6.dao.UserDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>name</code>  å±æ€§ä¸­å£°æ˜äº†ä¸¤ä¸ªåç§°ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªåç§°å¤–ï¼Œå…¶å®ƒçš„åç§°éƒ½è¢«ç§°ä¸ºåˆ«åã€‚é™¤äº†åœ¨ <code>Bean</code>  ä¸­å®šä¹‰åç§°å¤–è¿˜å¯ä»¥ç”¨ <code>alias</code>  æ ‡ç­¾æ¥å‘ <code>Bean</code>  èµ‹äºˆåˆ«åã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>demo6.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao1,userDao3<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo6.dao.UserDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">&lt;!--  name å±æ€§æŒ‡æ˜è¦ç»™å“ªä¸ª Bean èµ‹äºˆåˆ«åï¼Œalias åˆ™æŒ‡æ˜èµ‹äºˆçš„åˆ«å  --></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>alias</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alias</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userDao4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr></table></figure><blockquote>\n<p>å¦‚æœæˆ‘ä»¬æƒ³è¦é…ç½®çš„ <code>Bean</code>  å¯¹è±¡å·²å­˜åœ¨ï¼Œå¹¶ä¸”å¸Œæœ›å‘ä¸€äº› <code>Bean</code>  èµ‹äºˆç‰¹åˆ«çš„åç§°ï¼Œæ­¤æ—¶åˆ«åå°±ç›¸å½“æœ‰ç”¨äº†ã€‚ä¸Šè¿°çš„ <code>Bean</code>  å¯¹è±¡å£°æ˜ä½¿ç”¨éƒ½åœ¨ <code>xml</code>  å†…æ‰‹åŠ¨å£°æ˜çš„æ–¹å¼ï¼Œå½“ <code>Bean</code>  å¯¹è±¡è¿‡å¤šæ—¶ï¼Œç®¡ç† <code>Bean</code>  å°±ä¼šéå¸¸ç¹çï¼Œæ­¤æ—¶ <code>Spring</code>  æä¾›äº†åŸºäº <code>Java</code>  æ³¨è§£çš„é…ç½®æ–¹å¼ï¼Œä¸‹é¢å°†ä½¿ç”¨ <code>@Service</code>  å’Œ <code>@Repository</code>  æ³¨è§£ï¼Œåœ¨ä½¿ç”¨ <code>@Autowired</code>  æ³¨è§£æ—¶éœ€è¦åœ¨ <code>XML</code>  å£°æ˜æ³¨è§£é©±åŠ¨ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo7<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Autowired</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo7<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Description: ä½¿ç”¨æ³¨è§£æ³¨å…¥ä¾èµ–</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @DateTime: 2023-12-31 21:04</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token annotation punctuation\">@Service</span> <span class=\"token comment\">// å°†æ­¤ç±»å½»åº•äº¤ç»™ Spring å®¹å™¨æ¥ç®¡ç†ï¼Œ@Service æ³¨è§£ä»£è¡¨æ­¤ç±»æ˜¯ä¸šåŠ¡å±‚</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">AccountDao</span> accountDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * è·å–è´¦æˆ·</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        accountDao<span class=\"token punctuation\">.</span><span class=\"token function\">accountInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>     * æµ‹è¯•</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     * @param args</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡ ApplicationContext åŠ è½½é…ç½®æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token class-name\">ApplicationContext</span> applicationContext <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"demo7.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token comment\">// å¤šæ¬¡è·å–å¹¶ä¸ä¼šåˆ›å»ºå¤šä¸ª accountService å¯¹è±¡ï¼Œå› ä¸º Spring é»˜è®¤åˆ›å»ºæ˜¯å•å®ä¾‹çš„ä½œç”¨åŸŸ</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token class-name\">AccountService</span> accountService <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">AccountService</span><span class=\"token punctuation\">)</span> applicationContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountServiceImpl\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        accountService<span class=\"token punctuation\">.</span><span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            æ‰§è¡Œç»“æœï¼šç”¨æˆ·åç§°ï¼šLightRain</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountDaoImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo7<span class=\"token punctuation\">.</span>dao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Repository</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: å®ç°ç±»</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-31 21:01</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token annotation punctuation\">@Repository</span> <span class=\"token comment\">// æ­¤æ³¨è§£è·Ÿ @Component å…·æœ‰ç›¸åŒæ•ˆæœ</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountDaoImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     * è´¦æˆ·ä¿¡æ¯</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">accountInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç”¨æˆ·åç§°ï¼š%s\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user.name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æœ‰äº†æ³¨è§£å£°æ˜ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦åœ¨ <code>XML</code>  ä¸­å£°æ˜ä»¥ä¸Šä¸¤ä¸ª <code>Bean</code>  äº†ï¼Œä½†éœ€è¦å‘Šè¯‰ <code>Spring</code>  æ³¨è§£çš„ <code>Bean</code>  åœ¨å“ªä¸ªåŒ…ä¸‹é¢ï¼Œå› æ­¤éœ€è¦æ·»åŠ åŒ…æ‰«ææœºåˆ¶ï¼Œæ­¤æ—¶éœ€è¦å¯ç”¨ <code>Spring</code>  çš„ <code>context</code>  å‘½åç©ºé—´ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>demo7.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>context</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/context<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">&lt;!-- å£°æ˜åŒ…æ‰«æ --></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">context:</span>component-scan</span> <span class=\"token attr-name\">base-package</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>ä»¥ä¸Šçš„å£°æ˜æ–¹å¼ä¸ä¹‹å‰åœ¨ <code>XML</code>  ä¸­å£°æ˜çš„ <code>Bean</code>  æ•ˆæœæ˜¯ç›¸åŒçš„ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦æ˜ç™½å¯ä»¥ä½¿ç”¨ <code>@Component</code>  æ³¨è§£æ¥è¾¾åˆ°ä¸ <code>@Service</code>  å’Œ <code>@Repository</code>  æ³¨è§£ç›¸åŒæ•ˆæœï¼Œ <code>@Component</code>  ä¸ <code>@Service</code>  æ³¨è§£çš„å«ä¹‰å¹¶æ²¡æœ‰ä»€ä¹ˆå·®å¼‚ï¼Œåªä¸è¿‡ <code>@Service</code>  æ›´èƒ½è®©æˆ‘ä»¬æ˜ç™½è¯¥ç±»æ˜¯ä¸šåŠ¡ç±»ç½¢äº†ã€‚è‡³äº <code>@Repository</code>  æ³¨è§£åœ¨è¡¨ç¤ºæ•°æ®è®¿é—®å±‚å«ä¹‰çš„åŒæ—¶è¿˜èƒ½å¯ç”¨ä¸ <code>Spring</code>  æ•°æ®è®¿é—®ç›¸å…³é“¾çš„å…¶å®ƒåŠŸèƒ½ï¼ŒåŒæ—¶è¿˜å¯ä»¥ç»™ <code>@Component</code> ã€ <code>@Service</code> ã€ <code>@Repository</code>  æ³¨è§£ç»™å®šä¸€ä¸ª <code>String</code>  å€¼çš„åç§°ï¼Œå¦‚æœæ²¡æœ‰æä¾›åç§°ï¼Œé‚£ä¹ˆä¼šé»˜è®¤ä½¿ç”¨ç±»åå½“åš <code>Bean</code>  åç§° (ç¬¬ä¸€ä¸ªå­—æ¯å°†ä¼šå˜ä¸ºå°å†™)ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@Service</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountService\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountService</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">AccountDao</span> accountDao<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">// ...</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token annotation punctuation\">@Repository</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountDao\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountDaoImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">// ...</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åˆ°è¿™æˆ‘ä»¬å·²ç»çŸ¥é“äº†åœ¨ <code>Spring</code>  æ¡†æ¶ä¸­æä¾›äº†ä¸ <code>@Component</code>  æ³¨è§£å…·æœ‰åŒç­‰æ•ˆæœçš„ä¸‰ä¸ªæ³¨è§£ï¼Œ <code>@Repository</code>  æ³¨è§£ç”¨äºå¯¹ <code>Dao</code>  å®ç°ç±»è¿›è¡Œæ ‡æ³¨ï¼Œ <code>@Service</code>  æ³¨è§£ç”¨äºå¯¹ <code>Service</code>  å®ç°ç±»è¿›è¡Œæ ‡æ³¨ï¼Œ <code>@Controller</code>  æ³¨è§£ç”¨äºå¯¹ <code>Controller</code>  å®ç°ç±»è¿›è¡Œæ ‡æ³¨ (æ§åˆ¶å™¨å±‚)ï¼ŒåŒæ—¶è¿˜äº†è§£äº† <code>Spring</code>  å®¹å™¨é€šè¿‡ <code>XML</code>  çš„ <code>bean</code>  æ ‡ç­¾é…ç½®å’Œ <code>Java</code>  æ³¨è§£ä¸¤ç§å£°æ˜ <code>Bean</code>  çš„æ–¹å¼ï¼Œä»¥åæ—¥å¸¸å¼€å‘ä¸­å°†ä½¿ç”¨ <code>SpringBoot</code>  å…¨å±€ä½¿ç”¨æ³¨è§£è¿›è¡Œé…ç½® (æ­¤æ—¶äº†è§£å³å¯)ã€‚</p>\n</blockquote>\n<h2 id=\"beançš„å®ä¾‹åŒ–æ–¹æ³•\"><a class=\"anchor\" href=\"#beançš„å®ä¾‹åŒ–æ–¹æ³•\">#</a> Bean çš„å®ä¾‹åŒ–æ–¹æ³•</h2>\n<blockquote>\n<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­åˆ›å»ºå¯¹è±¡æœ€å¸¸ç”¨çš„æ˜¯é€šè¿‡ç±»çš„æ„é€ æ–¹æ³•ï¼Œäº‹å®ä¸Š <code>Spring</code>  å®¹å™¨æ­£å¸¸æƒ…å†µä¸‹ä¹Ÿæ˜¯é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»º <code>bean</code>  å®ä¾‹çš„ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Account.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo7<span class=\"token punctuation\">.</span>bean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: Bean çš„å®ä¾‹åŒ–æ–¹æ³•</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2024-01-02 18:47</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Account</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> userName<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> password<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Account</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> userName<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> password<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>userName <span class=\"token operator\">=</span> userName<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>password <span class=\"token operator\">=</span> password<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     * é»˜è®¤æ— å‚æ„é€ </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Account</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getUserName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">return</span> userName<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setUserName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> userName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>userName <span class=\"token operator\">=</span> userName<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getPassword</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token keyword\">return</span> password<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setPassword</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> password<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>password <span class=\"token operator\">=</span> password<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>demo7.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>context</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/context<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">&lt;!-- å£°æ˜åŒ…æ‰«æ --></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">context:</span>component-scan</span> <span class=\"token attr-name\">base-package</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">&lt;!-- é»˜è®¤æ„é€ åˆ›å»ºï¼Œå¹¶é€šè¿‡ property æ³¨å…¥å±æ€§å€¼ --></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>account<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7.bean.Account<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userName<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>password<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>123456<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">&lt;!-- å¸¦å‚æ„é€ åˆ›å»ºï¼Œå¹¶é€šè¿‡ constructor-arg æ³¨å…¥å±æ€§å€¼ --></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>account2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7.bean.Account<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>constructor-arg</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userName<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>LightRain<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>constructor-arg</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>password<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>123456<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>é™¤äº†æ„é€ å™¨åˆ›å»ºå¤–è¿˜å­˜åœ¨å¦å¤–ä¸¤ç§æ¯”è¾ƒå†·é—¨çš„åˆ›å»ºæ–¹å¼ï¼Œé‚£å°±æ˜¯é™æ€æ–¹æ³•å’Œå®ä¾‹å·¥å‚æ–¹æ³•æ„é€ ï¼Œäº†è§£ä¸€ä¸‹å³å¯å¾ˆå°‘ä½¿ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>BeanFactory.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo7<span class=\"token punctuation\">.</span>bean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: é™æ€æ–¹æ³•å’Œå®ä¾‹å·¥å‚æ„é€ </pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2024-01-02 18:54</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BeanFactory</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * é™æ€å·¥å‚åˆ›å»º</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     * @return Account</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Account</span> <span class=\"token function\">createAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">Account</span> account <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Account</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        account<span class=\"token punctuation\">.</span><span class=\"token function\">setUserName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        account<span class=\"token punctuation\">.</span><span class=\"token function\">setPassword</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"123456\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">return</span> account<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * é€šè¿‡å·¥å‚å®ä¾‹åˆ›å»º</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>     * @return Account</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Account</span> <span class=\"token function\">createAccount2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token class-name\">Account</span> account <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Account</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        account<span class=\"token punctuation\">.</span><span class=\"token function\">setUserName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"LightRain\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        account<span class=\"token punctuation\">.</span><span class=\"token function\">setPassword</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1234\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token keyword\">return</span> account<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">&lt;!-- é™æ€å·¥å‚åˆ›å»ºï¼Œè°ƒç”¨é™æ€æ–¹æ³• createAccount --></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>account<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7.bean.BeanFactory<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">factory-method</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>createAccount<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">&lt;!-- å·¥å‚å®ä¾‹åˆ›å»ºï¼Œå…ˆåˆ›å»ºå·¥å‚ç±»åœ¨è°ƒç”¨æ–¹æ³• createAccount2 --></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>factory<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7.bean.BeanFactory<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>account2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">factory-bean</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>factory<span class=\"token punctuation\">\"</span></span>  <span class=\"token attr-name\">factory-method</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>createAccount2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨æ„é€ å®ä¾‹åŒ– <code>bean</code>  å³å¯ï¼Œåé¢çš„ä¸¤ç§æ–¹å¼å¾ˆå°‘ä½¿ç”¨ã€‚</p>\n</blockquote>\n<h2 id=\"beançš„é‡å†™æœºåˆ¶\"><a class=\"anchor\" href=\"#beançš„é‡å†™æœºåˆ¶\">#</a> Bean çš„é‡å†™æœºåˆ¶</h2>\n<blockquote>\n<p><code>Bean</code>  çš„é‡å†™æœºåˆ¶å¹¶ä¸ç¥ç§˜ï¼Œä¸»è¦æ˜¯å½“ä¸åŒçš„ <code>XML</code>  æ–‡ä»¶ä¸­å‡ºç°åŒå <code>id</code>  å±æ€§çš„ <code>bean</code>  æ—¶è¯»å–çš„ä¼˜å…ˆçº§é—®é¢˜ï¼Œå…ˆæ¥çœ‹ä¸‹é¢ä¸¤ä¸ªç¤ºä¾‹ï¼Œå®šä¹‰ä¸¤ä¸ª <code>Spring</code>  é…ç½®æ–‡ä»¶å¹¶åŒæ—¶åŠ è½½å®ƒä»¬ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>beanRewrite1.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">&lt;!-- é»˜è®¤æ„é€ åˆ›å»ºï¼Œå¹¶é€šè¿‡ property æ³¨å…¥å±æ€§å€¼ --></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>account<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7.bean.Account<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userName<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>beanRewrite1<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>password<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>654321<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>beanRewrite2.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">&lt;!-- é»˜è®¤æ„é€ åˆ›å»ºï¼Œå¹¶é€šè¿‡ property æ³¨å…¥å±æ€§å€¼ --></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>account<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7.bean.Account<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userName<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>beanRewrite2<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>password<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>123456<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>ä¸‹é¢æ˜¯æµ‹è¯•æ–¹æ³•ï¼Œè·å– <code>bean</code>  å¹¶è°ƒç”¨</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token class-name\">ApplicationContext</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"beanRewrite1.xml\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"beanRewrite2.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token class-name\">Account</span> account <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Account</span><span class=\"token punctuation\">)</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"account\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"account.getUserName() = \"</span> <span class=\"token operator\">+</span> account<span class=\"token punctuation\">.</span><span class=\"token function\">getUserName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"account.getPassword() = \"</span> <span class=\"token operator\">+</span> account<span class=\"token punctuation\">.</span><span class=\"token function\">getPassword</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        account.getUserName () = beanRewrite2</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        account.getPassword () = 123456</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    */</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æ‰§è¡Œç»“æœå¾ˆæ˜¾ç„¶æ˜¯åè€…ï¼Œåœ¨ä¸åŒçš„ <code>XML</code>  é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ç›¸åŒ <code>id</code>  æ¥å‘½åï¼Œå¹¶å£°æ˜ç›¸åŒç±»å‹çš„ <code>bean</code>  å¯¹è±¡æ—¶ï¼Œ <code>Spring</code>  å®¹å™¨ä¼šé»˜è®¤åŠ è½½æœ€åæ·»åŠ çš„ <code>beanRewrite2.xml</code>  é…ç½®æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>Bean</code>  é‡å†™æœºåˆ¶æ˜¯å½“å£°æ˜çš„ <code>bean</code>  åç§°ä¸€æ ·æ—¶ï¼Œåè€…ä¼šè¦†ç›–æ‰å‰è€…ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ˜ç¡®çš„ä¸€ç‚¹æ˜¯ï¼Œåœ¨ <code>web</code>  å¼€å‘ä¸­ï¼Œä¸€èˆ¬éƒ½ä¼šå°†é…ç½®è¿›è¡Œåˆ†å±‚ç®¡ç†ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªä¸»é…ç½®æ–‡ä»¶æ¥èšåˆå®ƒ <code>(springApplication.xml)</code> , åœ¨è¿™ç§æƒ…å†µä¸‹åˆ†å±‚çš„é…ç½®æ–‡ä»¶å±äº <code>springApplication.xml</code>  çš„å­æ–‡ä»¶ï¼Œåœ¨è¿™æ ·çš„å…³ç³»ä¸‹é‡åˆ°ä¸Šè¿°æƒ…å†µï¼Œä¸€èˆ¬éƒ½æ˜¯å­æ–‡ä»¶çš„ä¼˜å…ˆçº§é«˜ï¼Œå› æ­¤ä¼šåŠ è½½å­æ–‡ä»¶çš„ <code>bean</code> , å¦‚åœ¨ <code>beanRewrite1.xml</code>  ä¸»æ–‡ä»¶ä¸­å¯¼å…¥å­æ–‡ä»¶ <code>beanRewrite2.xml</code> ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>beanRewrite1.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">&lt;!-- é»˜è®¤æ„é€ åˆ›å»ºï¼Œå¹¶é€šè¿‡ property æ³¨å…¥å±æ€§å€¼ --></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>account<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7.bean.Account<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userName<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>beanRewrite1<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>password<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>654321<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">&lt;!-- å¯¼å…¥å­æ–‡ä»¶ --></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>import</span> <span class=\"token attr-name\">resource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>beanRewrite2.xml<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>é‡æ–°æ‰§è¡Œæµ‹è¯•æ–¹æ³•æ¥çœ‹ç»“æœï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token class-name\">ApplicationContext</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"beanRewrite1.xml\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"beanRewrite2.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token class-name\">Account</span> account <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Account</span><span class=\"token punctuation\">)</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"account\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"account.getUserName() = \"</span> <span class=\"token operator\">+</span> account<span class=\"token punctuation\">.</span><span class=\"token function\">getUserName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"account.getPassword() = \"</span> <span class=\"token operator\">+</span> account<span class=\"token punctuation\">.</span><span class=\"token function\">getPassword</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        account.getUserName () = beanRewrite2</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        account.getPassword () = 123456</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    */</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æ‰§è¡Œç»“æœä¸ä¹‹å‰æ˜¯ä¸€æ ·çš„ï¼Œä¸Šè¿°é…ç½®ä¼šä¼˜å…ˆåŠ è½½ <code>beanRewrite2.xml</code>  ä¸­çš„ <code>account</code> , ä»è€Œå¿½ç•¥ <code>beanRewrite1.xml</code>  ä¸­çš„ <code>account</code> ã€‚</p>\n</blockquote>\n<ul>\n<li>å…³äºåˆ†å±‚ç®¡ç†é…ç½®æ–‡ä»¶çš„å‘½åä¸€èˆ¬æŒ‰å¦‚ä¸‹åç§°ï¼š\n<ul>\n<li><code>spring-web.xml</code> ï¼š <code>web</code>  å±‚ç›¸å…³ <code>bean</code>  çš„å£°æ˜ã€‚</li>\n<li><code>spring-service.xml</code> ï¼š <code>service</code>  å±‚ç›¸å…³ <code>bean</code>  çš„å£°æ˜ã€‚</li>\n<li><code>spring-dao.xml</code> ï¼š <code>dao</code>  å±‚ç›¸å…³ <code>bean</code>  çš„å£°æ˜ã€‚</li>\n<li><code>spring-tx.xml</code> ï¼šäº‹åŠ¡ç›¸å…³ <code>bean</code>  å’Œè§„åˆ™å£°æ˜ã€‚</li>\n<li><code>spring-security.xml</code> ï¼šå®‰å…¨ç›¸å…³å£°æ˜ã€‚</li>\n<li><code>spring-application.xml</code> ï¼šèšé›†å­é…ç½®æ–‡ä»¶çš„æ€» <code>bean</code>  å£°æ˜ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"beançš„ä½œç”¨åŸŸ\"><a class=\"anchor\" href=\"#beançš„ä½œç”¨åŸŸ\">#</a> Bean çš„ä½œç”¨åŸŸ</h2>\n<h3 id=\"singletonä½œç”¨åŸŸ\"><a class=\"anchor\" href=\"#singletonä½œç”¨åŸŸ\">#</a> singleton ä½œç”¨åŸŸ</h3>\n<blockquote>\n<p><code>Bean</code>  çš„ä½œç”¨åŸŸæ˜¯æŒ‡ <code>Spring</code>  å®¹å™¨åœ¨åˆ›å»º <code>Bean</code>  åçš„ç”Ÿå­˜å‘¨æœŸï¼Œå³ï¼šç”±åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä¸ªè¿‡ç¨‹ã€‚åœ¨ä¹‹å‰åˆ›å»ºçš„æ‰€æœ‰ <code>Bean</code>  çš„ä½œç”¨åŸŸéƒ½æ˜¯ <code>singleton</code> , å®ƒæ˜¯ <code>Spring</code>  é»˜è®¤çš„ï¼Œåœ¨è¿™æ ·çš„ä½œç”¨åŸŸä¸‹æ¯ä¸€ä¸ª <code>Bean</code>  å®ä¾‹åªä¼šè¢«åˆ›å»ºä¸€æ¬¡ï¼Œè€Œä¸” <code>Spring</code>  å®¹å™¨åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºç”Ÿå­˜å‘¨æœŸä¸­éƒ½å¯ä»¥ä½¿ç”¨è¯¥å®ä¾‹ã€‚å› æ­¤åœ¨ä¹‹å‰çš„ä»£ç ä¸­ <code>Spring</code>  å®¹å™¨åˆ›å»º <code>Bean</code>  åï¼Œé€šè¿‡ä»£ç è·å–çš„ <code>bean</code>  æ— è®ºå¤šå°‘æ¬¡ï¼Œå®ƒä»¬éƒ½æ˜¯åŒä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>bean</code>  æ ‡ç­¾çš„ <code>scope</code>  å±æ€§æ¥æŒ‡å®šä¸€ä¸ª <code>Bean</code>  çš„ä½œç”¨åŸŸã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>singletonScope.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">&lt;!-- é»˜è®¤æƒ…å†µä¸‹æ— éœ€å£°æ˜ Singleton --></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scope</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>singleton<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7.dao.AccountDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h3 id=\"prototypeä½œç”¨åŸŸ\"><a class=\"anchor\" href=\"#prototypeä½œç”¨åŸŸ\">#</a> prototype ä½œç”¨åŸŸ</h3>\n<blockquote>\n<p><code>prototype</code>  ä¹Ÿæ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ä½œç”¨åŸŸï¼Œå®ƒä»£è¡¨æ¯æ¬¡è·å– <code>Bean</code>  å®ä¾‹æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹å¯¹è±¡ï¼Œç±»ä¼¼ <code>new</code>  æ“ä½œç¬¦ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>prototypeScope.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">&lt;!-- ä½œç”¨åŸŸï¼šprototype --></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scope</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>prototype<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7.dao.AccountDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo7<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: æµ‹è¯•ç±»</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2024-01-02 20:16</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token annotation punctuation\">@org.junit.jupiter.api.Test</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">prototypeScopeTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">ApplicationContext</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"prototypeScope.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">AccountDao</span> accountDao1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">)</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountDao\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">AccountDao</span> accountDao2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">)</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountDao\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountDao1.toString() = \"</span> <span class=\"token operator\">+</span> accountDao1<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountDao2.toString() = \"</span> <span class=\"token operator\">+</span> accountDao2<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        accountDao1.toString () = top.rem.rain.demo7.dao.AccountDaoImpl@75e91545</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        accountDao2.toString () = top.rem.rain.demo7.dao.AccountDaoImpl@60d1a32f</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ä¸Šé¢çš„æ‰§è¡Œç»“æœå¯ä»¥çœ‹å‡ºä¸¤ä¸ªæ˜¯å®Œå…¨ä¸åŒçš„å®ä¾‹å¯¹è±¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡æ³¨è§£æ¥å£°æ˜ä½œç”¨åŸŸã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountDaoImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo7<span class=\"token punctuation\">.</span>dao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Scope</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token annotation punctuation\">@Scope</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"prototype\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountDaoImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">// ....</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è¿˜å­˜åœ¨ä¸€ç§ç‰¹æ®Šçš„æƒ…æ™¯ï¼Œå½“ä¸€ä¸ªä½œç”¨åŸŸä¸º <code>singleton</code>  çš„ <code>Bean</code>  ä¾èµ–äºä¸€ä¸ªä½œç”¨åŸŸä¸º <code>prototype</code>  çš„ <code>Bean</code>  æ—¶ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">&lt;!-- ä½œç”¨åŸŸ prototype--></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scope</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>prototype<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7.dao.AccountDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">&lt;!-- ä½œç”¨åŸŸ Singleton --></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountService<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo7.service.AccountServiceImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">&lt;!-- æ³¨å…¥ä½œç”¨åŸŸä¸º prototype çš„ accountDao å¯¹è±¡æ—¶éœ€è¦ set æ–¹æ³• --></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨è¿™ç§æƒ…å†µä¸‹å¸Œæœ›æ¯æ¬¡ <code>getBean(&quot;accountService&quot;)</code>  å¤„ç†çš„éƒ½æ˜¯ä¸€ä¸ªæ–°çš„ <code>accountDao</code>  å®ä¾‹å¯¹è±¡ï¼Œä½†æ˜¯ç”±äº <code>accountService</code>  çš„ä¾èµ–æ˜¯åœ¨ <code>Bean</code>  è¢«åˆ›å»ºæ—¶æ³¨å…¥çš„ï¼Œè€Œ <code>accountService</code>  æ˜¯ä¸€ä¸ª <code>singleton</code>  ä½œç”¨åŸŸï¼Œæ•´ä¸ªç”Ÿå­˜å‘¨æœŸä¸­åªä¼šåˆ›å»ºä¸€æ¬¡ï¼Œå› æ­¤å®ƒæ‰€ä¾èµ–çš„ <code>accountDao</code>  å®ä¾‹å¯¹è±¡ä¹Ÿåªä¼šè¢«æ³¨å…¥ä¸€æ¬¡ï¼Œæ­¤åå°†ä¸ä¼šå†æ³¨å…¥ä»»ä½•æ–°çš„ <code>accountDao</code>  å®ä¾‹å¯¹è±¡ã€‚æƒ³è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªèƒ½æ”¾å¼ƒä½¿ç”¨ä¾èµ–æ³¨å…¥åŠŸèƒ½ï¼Œä½¿ç”¨ä»£ç æ¥å®ç°ã€‚</p>\n</blockquote>\n<blockquote>\n<p>ä¸‹é¢å°†é€šè¿‡å®ç° <code>ApplicationContextAware</code>  æ¥å£å¹¶é‡å†™ <code>setApplicationContext</code>  æ–¹æ³•ï¼Œè¿™æ · <code>Spring</code>  å®¹å™¨åœ¨åˆ›å»º <code>AccountServiceImpl</code>  å®ä¾‹æ—¶ä¼šè‡ªåŠ¨æ³¨å…¥ <code>ApplicationContext</code>  å¯¹è±¡ï¼Œæ­¤æ—¶å°±å¯ä»¥é€šè¿‡ <code>ApplicationContext</code>  æ¥è·å– <code>accountDao</code>  å®ä¾‹äº†ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯æ¯æ¬¡è·å–çš„ <code>accountDao</code>  å®ä¾‹éƒ½æ˜¯æ–°çš„ (æ­¤å¤„äº†è§£å³å¯ï¼Œåœ¨å®é™…å¼€å‘ä¸­ä¸€èˆ¬ä¸ä¼šè¿™ä¹ˆè¦æ±‚)ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>demo8.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountDao<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scope</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>prototype<span class=\"token punctuation\">\"</span></span>  <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo8.dao.AccountDaoImpl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token comment\">&lt;!-- accountDao é€šè¿‡ä»£ç æ³¨å…¥ --></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>accountService<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo8.service.AccountServiceImpl<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>ä»£ç æ³¨å…¥ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AccountServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo8<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">BeansException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Autowired</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContextAware</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Service</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo8<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AccountServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AccountService</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ApplicationContextAware</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token class-name\">ApplicationContext</span> applicationContext<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ApplicationContext</span> applicationContext<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">BeansException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>applicationContext <span class=\"token operator\">=</span> applicationContext<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>   * è·å–è´¦æˆ·</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"getAccountDao().toString() = \"</span> <span class=\"token operator\">+</span> <span class=\"token function\">getAccountDao</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token class-name\">AccountDao</span> <span class=\"token function\">getAccountDao</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">return</span> applicationContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo7<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo8<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AccountService</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Description: æµ‹è¯•ç±»</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @DateTime: 2024-01-02 20:16</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token annotation punctuation\">@org.junit.jupiter.api.Test</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">prototypeScopeTest2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">// åŠ è½½é…ç½®æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">ApplicationContext</span> applicationContext<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassPathXmlApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"demo8.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">// æµ‹è¯•è·å–ä¸åŒå®ä¾‹çš„ AccountDao</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">AccountService</span> accountService<span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">AccountService</span><span class=\"token punctuation\">)</span> applicationContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountService\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        accountService<span class=\"token punctuation\">.</span><span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token class-name\">AccountService</span> accountService1<span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">AccountService</span><span class=\"token punctuation\">)</span> applicationContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"accountService\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        accountService1<span class=\"token punctuation\">.</span><span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            getAccountDao ().toString () = top.rem.rain.demo8.dao.AccountDaoImpl@60dce7ea</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            getAccountDao ().toString () = top.rem.rain.demo8.dao.AccountDaoImpl@662f5666</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä»æ‰§è¡Œç»“æœå¯ä»¥çœ‹å‡ºç”¨è¿™ç§æ–¹å¼æ¯æ¬¡è·å–çš„ <code>AccountDao</code>  çš„å®ä¾‹éƒ½æ˜¯ä¸åŒçš„ï¼Œè¿™æ ·å°±è§£å†³äº†åˆšæ‰çš„é—®é¢˜ï¼Œå¦ä¸€ç§æƒ…å†µæ˜¯å½“ä¸€ä¸ªä½œç”¨åŸŸä¸º <code>prototype</code>  çš„ <code>Bean</code>  ä¾èµ–äºä¸€ä¸ª <code>singleton</code>  ä½œç”¨åŸŸçš„ <code>Bean</code>  æ—¶ï¼Œè§£å†³æ–¹æ³•è·Ÿä¸Šè¿°æ˜¯ç›¸åŒçš„ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æ³¨æ„ï¼šå½“ä¸€ä¸ª <code>Bean</code>  è¢«è®¾ç½®ä¸º <code>prototype</code>  ä½œç”¨åŸŸå <code>Spring</code>  å°±ä¸ä¼šå¯¹ä¸€ä¸ª <code>bean</code>  çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸè´Ÿè´£ï¼Œå®¹å™¨åœ¨åˆå§‹åŒ–ã€é…ç½®ã€è£…é¥°æˆ–è€…æ˜¯è£…é…å®Œä¸€ä¸ª <code>prototype</code>  å®ä¾‹åï¼Œå°†å®ƒäº¤ç»™å®¢æˆ·ç«¯ï¼Œéšåå°±å¯¹è¯¥ <code>prototype</code>  ä½œç”¨åŸŸçš„å®ä¾‹ä¸å†å…³å¿ƒäº†ã€‚</p>\n</blockquote>\n<blockquote>\n<p>å› æ­¤æˆ‘ä»¬éœ€è¦æ…ç”¨å®ƒï¼Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯¹æœ‰çŠ¶æ€çš„ <code>bean</code>  åº”è¯¥ä½¿ç”¨ <code>prototype</code>  ä½œç”¨åŸŸï¼Œè€Œå¯¹æ— çŠ¶æ€çš„ <code>bean</code>  åˆ™åº”è¯¥ä½¿ç”¨ <code>singleton</code>  ä½œç”¨åŸŸã€‚è‡³äºæœ‰çŠ¶æ€å°±æ˜¯è¯¥ <code>bean</code>  å…·æœ‰ä¿å­˜ä¿¡æ¯åŠŸèƒ½ï¼Œä¸èƒ½å…±äº«ï¼Œå¦åˆ™ä¼šé€ æˆçº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œè€Œæ— çŠ¶æ€åˆ™ä¸éœ€è¦ä¿å­˜ä¿¡æ¯ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥å…±äº«ï¼Œåœ¨ <code>Spring</code>  ä¸­å¤§éƒ¨åˆ† <code>bean</code>  éƒ½æ˜¯ <code>singleton</code> ï¼Œæ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­åªä¼šå­˜åœ¨ä¸€ä¸ªã€‚</p>\n</blockquote>\n<h3 id=\"requestsessionä½œç”¨åŸŸ\"><a class=\"anchor\" href=\"#requestsessionä½œç”¨åŸŸ\">#</a> request&amp;session ä½œç”¨åŸŸ</h3>\n<blockquote>\n<p>åœ¨ <code>Spring2.5</code>  ä¸­ä¸“é—¨é’ˆå¯¹ <code>Web</code>  åº”ç”¨ç¨‹åºå¼•è¿›äº† <code>request</code>  å’Œ <code>session</code>  è¿™ä¸¤ç§ä½œç”¨åŸŸï¼Œå…³äº <code>request</code>  ä½œç”¨åŸŸï¼Œå¯¹äºæ¯æ¬¡ <code>http</code>  è¯·æ±‚åˆ°è¾¾åº”ç”¨ç¨‹åºæ—¶ï¼Œ <code>Spring</code>  å®¹å™¨ä¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ <code>request</code>  ä½œç”¨åŸŸçš„ <code>bean</code>  å®ä¾‹ï¼Œä¸”è¯¥ <code>bean</code>  å®ä¾‹ä»…åœ¨å½“å‰ <code>http</code>  çš„ <code>request</code>  ä½œç”¨åŸŸå†…æœ‰æ•ˆï¼Œæ•´ä¸ªè¯·æ±‚è¿‡ç¨‹ä¹Ÿåªä¼šä½¿ç”¨ç›¸åŒçš„ <code>bean</code>  å®ä¾‹ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦æ”¾å¿ƒæ›´æ”¹æ‰€å»ºå®ä¾‹çš„å†…éƒ¨çŠ¶æ€ï¼Œè€Œå…¶å®ƒ <code>http</code>  è¯·æ±‚åˆ™åˆ›å»ºæ–°å®ä¾‹çš„ <code>bean</code>  äº’ä¸å¹²æ‰°ï¼Œå½“å¤„ç†è¯·æ±‚ç»“æŸï¼Œ <code>request</code>  ä½œç”¨åŸŸçš„ <code>bean</code>  å®ä¾‹å°†è¢«é”€æ¯ï¼Œå¦‚åœ¨æ¥æ”¶å‚æ•°æ—¶å¯èƒ½éœ€è¦ä¸€ä¸ª <code>bean</code>  å®ä¾‹æ¥è£…è½½ä¸€äº›å‚æ•°ï¼Œæ˜¾ç„¶æ¯æ¬¡è¯·æ±‚å‚æ•°å‡ ä¹ä¸ä¼šç›¸åŒï¼Œå› æ­¤å¸Œæœ› <code>bean</code>  å®ä¾‹æ¯æ¬¡éƒ½æ˜¯è¶³å¤Ÿæ–°çš„è€Œä¸”åªåœ¨ <code>request</code>  ä½œç”¨åŸŸèŒƒå›´å†…æœ‰æ•ˆã€‚é‚£å°±æ˜¯ <code>Session</code>  æ¯å½“åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>HttpSession</code>  æ—¶å°±ä¼šåˆ›å»ºä¸€ä¸ª <code>Session</code>  ä½œç”¨åŸŸçš„ <code>bean</code> ï¼Œå¹¶ä¸”è¯¥å®ä¾‹ <code>bean</code>  ä¼šä¼´éšç€ä¼šè¯çš„å­˜åœ¨è€Œå­˜åœ¨ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SingletonBean.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo9<span class=\"token punctuation\">.</span>bean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Scope</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Component</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token annotation punctuation\">@Scope</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"singleton\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token annotation punctuation\">@Component</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SingletonBean</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>PrototypeBean.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo9<span class=\"token punctuation\">.</span>bean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Scope</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ScopedProxyMode</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Component</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token annotation punctuation\">@Scope</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"prototype\"</span><span class=\"token punctuation\">,</span>proxyMode <span class=\"token operator\">=</span> <span class=\"token class-name\">ScopedProxyMode</span><span class=\"token punctuation\">.</span>TARGET_CLASS<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token annotation punctuation\">@Component</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PrototypeBean</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>RequestBean.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo9<span class=\"token punctuation\">.</span>bean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Scope</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ScopedProxyMode</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Component</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token annotation punctuation\">@Scope</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"request\"</span><span class=\"token punctuation\">,</span>proxyMode <span class=\"token operator\">=</span> <span class=\"token class-name\">ScopedProxyMode</span><span class=\"token punctuation\">.</span>TARGET_CLASS<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token annotation punctuation\">@Component</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RequestBean</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SessionBean.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo9<span class=\"token punctuation\">.</span>bean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Scope</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ScopedProxyMode</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Component</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token annotation punctuation\">@Scope</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"session\"</span><span class=\"token punctuation\">,</span>proxyMode <span class=\"token operator\">=</span> <span class=\"token class-name\">ScopedProxyMode</span><span class=\"token punctuation\">.</span>TARGET_CLASS<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token annotation punctuation\">@Component</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SessionBean</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸Šè¿°åˆ†åˆ«åˆ›å»ºäº†å››ç§ä¸åŒä½œç”¨åŸŸçš„ <code>Bean</code>  å¹¶ä½¿ç”¨æ³¨è§£è¿›è¡Œä½œç”¨åŸŸçš„å£°æ˜ï¼Œ <code>@Component</code>  ä»£è¡¨å®ƒä»¬æ˜¯ç»„ä»¶ç±»ï¼Œéœ€è¦ <code>Spring</code>  å®¹å™¨å¸®å¿™åˆ›å»ºï¼Œ <code>@Scope</code>  è¡¨ç¤ºä½œç”¨åŸŸï¼Œå…¶ä¸­çš„ <code>value</code>  æŒ‡æ˜æ˜¯å“ªç§ä½œç”¨åŸŸï¼Œåœ¨é™¤äº† <code>SingletonBean</code>  å¤–ï¼Œå…¶å®ƒ <code>Bean</code>  è¿˜ä½¿ç”¨äº† <code>proxyMode</code>  ç”¨æ¥æŒ‡æ˜å“ªç§ä»£ç†æ¨¡å¼ï¼Œè¿™é‡Œæ²¡æœ‰æ¥å£ï¼Œå› æ­¤ä½¿ç”¨ <code>CGLib</code>  è¿›è¡Œä»£ç† (æ­¤å¤„åé¢ä¼šè¯´æ˜ä¸ºä»€ä¹ˆè¿™æ ·åš)ã€‚æ¥ä¸‹æ¥å°†ä½¿ç”¨ <code>SpringBoot3.0</code>  è¿›è¡Œæµ‹è¯•ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>BeanStatusController.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo9<span class=\"token punctuation\">.</span>controller</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Autowired</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Controller</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>web<span class=\"token punctuation\">.</span>bind<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RequestMapping</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>web<span class=\"token punctuation\">.</span>bind<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ResponseBody</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo9<span class=\"token punctuation\">.</span>bean<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">PrototypeBean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo9<span class=\"token punctuation\">.</span>bean<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RequestBean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo9<span class=\"token punctuation\">.</span>bean<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SessionBean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo9<span class=\"token punctuation\">.</span>bean<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SingletonBean</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> * @Description: Controller</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> * @DateTime: 2024-01-02 23:22</pre></td></tr><tr><td data-num=\"16\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"17\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token annotation punctuation\">@Controller</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BeanStatusController</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">SingletonBean</span> singletonBean<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">PrototypeBean</span> prototypeBean<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">RequestBean</span> requestBean<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token annotation punctuation\">@Autowired</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">SessionBean</span> sessionBean<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/test\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token annotation punctuation\">@ResponseBody</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¬¬ä¸€æ¬¡çš„singletonæ˜¯ :\"</span> <span class=\"token operator\">+</span> singletonBean<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¬¬äºŒæ¬¡çš„singletonæ˜¯ :\"</span> <span class=\"token operator\">+</span> singletonBean<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¬¬ä¸€æ¬¡çš„prototypeæ˜¯ :\"</span> <span class=\"token operator\">+</span> prototypeBean<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¬¬äºŒæ¬¡çš„prototypeæ˜¯ :\"</span> <span class=\"token operator\">+</span> prototypeBean<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¬¬ä¸€æ¬¡çš„requestBeanæ˜¯ :\"</span> <span class=\"token operator\">+</span> requestBean<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¬¬äºŒæ¬¡çš„requestBeanæ˜¯ :\"</span> <span class=\"token operator\">+</span> requestBean<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¬¬ä¸€æ¬¡çš„sessionBeanæ˜¯ :\"</span> <span class=\"token operator\">+</span> sessionBean<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¬¬äºŒæ¬¡çš„sessionBeanæ˜¯ :\"</span> <span class=\"token operator\">+</span> sessionBean<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"===========================================\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å¯åŠ¨ <code>SpringBoot</code>  æœåŠ¡åä½¿ç”¨æµè§ˆå™¨è¿ç»­è¿›è¡Œä¸‰æ¬¡è®¿é—®ï¼Œè®¿é—®çš„è·¯å¾„æ˜¯æœ¬åœ°çš„ <code>http://localhost:8080/test</code> , ä¸‰æ¬¡çš„è®¿é—®ç»“æœå¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"><span>è®¿é—®ç»“æœ</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ singleton æ˜¯ :top.rem.rain.demo9.bean.SingletonBean@41576169</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ singleton æ˜¯ :top.rem.rain.demo9.bean.SingletonBean@41576169</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ prototype æ˜¯ :top.rem.rain.demo9.bean.PrototypeBean@752f81d6</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ prototype æ˜¯ :top.rem.rain.demo9.bean.PrototypeBean@2a49795</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ requestBean æ˜¯ :top.rem.rain.demo9.bean.RequestBean@232243da</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ requestBean æ˜¯ :top.rem.rain.demo9.bean.RequestBean@232243da</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ sessionBean æ˜¯ :top.rem.rain.demo9.bean.SessionBean@24c92325</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ sessionBean æ˜¯ :top.rem.rain.demo9.bean.SessionBean@24c92325</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ singleton æ˜¯ :top.rem.rain.demo9.bean.SingletonBean@41576169</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ singleton æ˜¯ :top.rem.rain.demo9.bean.SingletonBean@41576169</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ prototype æ˜¯ :top.rem.rain.demo9.bean.PrototypeBean@2b86e029</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ prototype æ˜¯ :top.rem.rain.demo9.bean.PrototypeBean@25410b29</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ requestBean æ˜¯ :top.rem.rain.demo9.bean.RequestBean@217e8b59</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ requestBean æ˜¯ :top.rem.rain.demo9.bean.RequestBean@217e8b59</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ sessionBean æ˜¯ :top.rem.rain.demo9.bean.SessionBean@24c92325</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ sessionBean æ˜¯ :top.rem.rain.demo9.bean.SessionBean@24c92325</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ singleton æ˜¯ :top.rem.rain.demo9.bean.SingletonBean@41576169</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ singleton æ˜¯ :top.rem.rain.demo9.bean.SingletonBean@41576169</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ prototype æ˜¯ :top.rem.rain.demo9.bean.PrototypeBean@192a7e9b</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ prototype æ˜¯ :top.rem.rain.demo9.bean.PrototypeBean@17ed83ce</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ requestBean æ˜¯ :top.rem.rain.demo9.bean.RequestBean@13d215eb</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ requestBean æ˜¯ :top.rem.rain.demo9.bean.RequestBean@13d215eb</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ sessionBean æ˜¯ :top.rem.rain.demo9.bean.SessionBean@24c92325</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ sessionBean æ˜¯ :top.rem.rain.demo9.bean.SessionBean@24c92325</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</pre></td></tr></table></figure><blockquote>\n<p>ä»ç»“æœä¸­å¯ä»¥çœ‹å‡º <code>singletonBean</code>  æ°¸è¿œåªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œè€Œ <code>prototypeBean</code>  åˆ™æ¯æ¬¡è¢«è·å–éƒ½ä¼šåˆ›å»ºæ–°å®ä¾‹ï¼Œå¯¹åº” <code>RequestBean</code>  åœ¨åŒä¸€æ¬¡çš„ <code>http</code>  è¯·æ±‚ä¸­æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼Œå½“è¯·æ±‚ç»“æŸ <code>RequestBean</code>  ä¹Ÿéšç€è¢«é”€æ¯ã€‚åœ¨æ–°çš„ <code>http</code>  è¯·æ±‚ä¸­åˆ™ä¼šç”Ÿæˆæ–°çš„ <code>RequestBean</code>  å®ä¾‹ï¼Œå¯¹äº <code>SessionBean</code>  ç”±äºæ˜¯åœ¨åŒä¸€ä¸ªæµè§ˆå™¨ä¸­è®¿é—®å±äºåŒä¸€æ¬¡ä¼šè¯ï¼Œå› æ­¤ <code>SessionBean</code>  å®ä¾‹éƒ½æ˜¯åŒä¸€ä¸ªå®ä¾‹å¯¹è±¡ã€‚</p>\n</blockquote>\n<blockquote>\n<p>ä¸‹é¢å°†ä½¿ç”¨å¦ä¸€ä¸ªæµè§ˆå™¨è¿›è¡Œè®¿é—®æ¥æŸ¥çœ‹ <code>SessionBean</code>  æ˜¯å¦ä¼šå˜åŒ–ã€‚</p>\n</blockquote>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"><span>è®¿é—®ç»“æœ</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ singleton æ˜¯ :top.rem.rain.demo9.bean.SingletonBean@41576169</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ singleton æ˜¯ :top.rem.rain.demo9.bean.SingletonBean@41576169</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ prototype æ˜¯ :top.rem.rain.demo9.bean.PrototypeBean@2a241147</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ prototype æ˜¯ :top.rem.rain.demo9.bean.PrototypeBean@24e3ea73</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ requestBean æ˜¯ :top.rem.rain.demo9.bean.RequestBean@20dc7a37</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ requestBean æ˜¯ :top.rem.rain.demo9.bean.RequestBean@20dc7a37</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>ç¬¬ä¸€æ¬¡çš„ sessionBean æ˜¯ :top.rem.rain.demo9.bean.SessionBean@65dee048</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>ç¬¬äºŒæ¬¡çš„ sessionBean æ˜¯ :top.rem.rain.demo9.bean.SessionBean@65dee048</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</pre></td></tr></table></figure><blockquote>\n<p>ä»è®¿é—®ç»“æœä¸­å¯ä»¥çœ‹å‡º <code>SessionBean</code>  å·²ç»å‘ç”Ÿäº†æ”¹å˜ï¼Œè¿™ä¹Ÿå°±è¯æ˜åœ¨ä¸åŒçš„ä¼šè¯ä¸­ <code>SessionBean</code>  å®ä¾‹æ˜¯ä¸åŒçš„ï¼Œä½†ä¸ºä»€ä¹ˆéœ€è¦åœ¨å…¶å®ƒä¸‰ç§ä½œç”¨åŸŸä¸Šè®¾ç½®ä»£ç†æ¨¡å¼å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜çš„æœ¬è´¨ä¸å‰é¢çš„ <code>singleton</code>  ä½œç”¨åŸŸçš„ <code>Bean</code>  ä¾èµ–äº <code>prototype</code>  ä½œç”¨åŸŸçš„ <code>Bean</code>  æ˜¯ç›¸åŒçš„åŸç†ã€‚</p>\n</blockquote>\n<blockquote>\n<p>ç”±äº <code>Spring</code>  å®¹å™¨åªä¼šåœ¨åˆ›å»º <code>bean</code>  å®ä¾‹æ—¶å¸®åŠ©æˆ‘ä»¬æ³¨å…¥è¯¥å®ä¾‹ <code>bean</code>  æ‰€ä¾èµ–çš„å…¶å®ƒ <code>bean</code>  å®ä¾‹å¯¹è±¡ï¼Œè€Œä¸”åªä¼šæ³¨å…¥ä¸€æ¬¡ï¼Œè¿™å¹¶ä¸æ˜¯ <code>request</code>  å’Œ <code>session</code>  ä½œç”¨åŸŸæ‰€å¸Œæœ›çœ‹åˆ°çš„ï¼Œæ¯•ç«Ÿä»–ä»¬éƒ½éœ€è¦åœ¨ä¸åŒçš„åœºæ™¯ä¸‹æ³¨å…¥æ–°çš„å®ä¾‹å¯¹è±¡è€Œä¸æ˜¯å”¯ä¸€ä¸å˜çš„å®ä¾‹å¯¹è±¡ã€‚</p>\n</blockquote>\n<blockquote>\n<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¿…é¡»æ”¾å¼ƒç›´æ¥åœ¨ <code>XML</code>  ä¸­æ³¨å…¥ <code>bean</code>  å®ä¾‹ï¼Œæ”¹ç”¨ <code>Java</code>  ä»£ç æ–¹å¼ (æ‰‹åŠ¨å®ç° <code>ApplicationContextAware</code>  æ¥å£) æˆ–è€…æ³¨è§£çš„æ–¹å¼ ( <code>@Autowired</code> ) è¿›è¡Œæ³¨å…¥ï¼Œåœ¨ç¤ºä¾‹ä¸­é€‰æ‹©äº†æ³¨è§£çš„æ–¹å¼è¿›è¡Œæ³¨å…¥ï¼Œå¹¶åœ¨ <code>bean</code>  çš„å£°æ˜ä¸­å£°æ˜äº†åŠ¨æ€ä»£ç†æ¨¡å¼ï¼Œå¹¸è¿çš„æ˜¯ <code>Spring</code>  å®¹å™¨æ˜¯å…è®¸è¿™æ ·åšçš„ï¼Œä»¥è‡³äº <code>Spring</code>  é€šè¿‡ä»£ç†çš„æ–¹å¼ç”Ÿæˆæ–°çš„ä»£ç†å®ä¾‹ <code>bean</code>  ä»¥æ­¤æ¥æ»¡è¶³åˆ›å»ºæ–°å®ä¾‹çš„éœ€æ±‚ã€‚</p>\n</blockquote>\n<blockquote>\n<p>åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œå½“ä¸€ä¸ªæ–¹æ³•è°ƒç”¨åˆ°è¾¾è¯¥ä»£ç†å¯¹è±¡æ—¶ï¼Œ <code>Spring</code>  å®¹å™¨ä¾¿ä¼šå°è¯•åœ¨å½“å‰çš„ <code>Request</code>  æˆ– <code>Session</code>  ä¼šè¯ä¸­è·å–ç›®æ ‡å¯¹è±¡ <code>Bean</code> ï¼Œå¦‚æœå·²å­˜åœ¨åˆ™ä½¿ç”¨è¯¥ <code>Bean</code>  å¦åˆ™ä»£ç†æ–¹æ³•å°†åˆ›å»ºæ–°å®ä¾‹ <code>Bean</code>  æ¥å¤„ç†è¯·æ±‚æˆ–ä¼šè¯ï¼Œæ³¨æ„ï¼šè¿™é‡ŒæŒ‡çš„æ˜¯ä¸€æ¬¡ <code>http</code>  è¯·æ±‚æˆ–ä¸€æ¬¡ä¼šè¯çš„è¿‡ç¨‹ã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¦‚æœå¸Œæœ› <code>request</code>  å’Œ <code>session</code>  ä½œç”¨åŸŸé€šè¿‡ <code>xml</code>  é…ç½®æ–‡ä»¶æ–¹å¼å£°æ˜å¿…é¡»åœ¨ <code>bean</code>  æ ‡ç­¾ä¸­æ”¾ç½® <code>&lt;apo:scoped-proxy&gt;</code>  å­æ ‡ç­¾ï¼Œè¯¥ä½œç”¨ä¸æ³¨è§£å£°æ˜ä»£ç†æ¨¡å¼æ•ˆæœæ˜¯ç›¸åŒçš„ï¼Œç»è¿‡æµ‹è¯•è¿™ç§å£°æ˜ä»£ç†çš„æ–¹å¼ä¸é€‚ç”¨äº <code>prototype</code>  ä½œç”¨åŸŸï¼Œè¯¥ä½œç”¨åŸŸç”Ÿæ•ˆçš„æ–¹å¼åªæœ‰åŸºäºæ³¨è§£æ–¹å¼å’ŒåŸºäºå®ç° <code>ApplicationContextAware</code>  æ¥å£çš„ä¸¤ç§æ–¹å¼ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>requestBean<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scope</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>request<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo9.bean.RequestBean<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">&lt;!-- å£°æ˜ aop ä»£ç† --></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">aop:</span>scoped-proxy</span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sessionBean<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">scope</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>request<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>top.rem.rain.demo9.bean.SessionBean<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">&lt;!-- å£°æ˜ aop ä»£ç† --></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">aop:</span>scoped-proxy</span> <span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><blockquote>\n<p>å¦‚æœ <code>web</code>  å±‚ä½¿ç”¨çš„æ˜¯ <code>SpringMVC</code>  æ¥å¤„ç† <code>web</code>  è¯·æ±‚åˆ™ä¸éœ€è¦åšä»»ä½•äº‹æƒ…å°±å¯ä»¥ä½¿ <code>Request</code>  å’Œ <code>Session</code>  ä½œç”¨åŸŸç”Ÿæ•ˆï¼Œå€˜è‹¥ä½¿ç”¨çš„æ˜¯å…¶å®ƒ <code>web</code>  å±‚æ¡†æ¶è¯·åŠ¡å¿…åœ¨ <code>web.xml</code>  ä¸­å£°æ˜å¦‚ä¸‹ç›‘è§†å™¨ï¼Œä»¥ä¾¿ä½¿ <code>Request</code>  å’Œ <code>Session</code>  ä½œç”¨åŸŸæ­£å¸¸å·¥ä½œï¼Œé…ç½®ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>web.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>web-app</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>listener</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>listener-class</span><span class=\"token punctuation\">></span></span>org.springframework.web.context.request.RequestContextListener<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>listener-class</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>listener</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>web-app</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h3 id=\"globalsessionä½œç”¨åŸŸ\"><a class=\"anchor\" href=\"#globalsessionä½œç”¨åŸŸ\">#</a> globalSession ä½œç”¨åŸŸ</h3>\n<blockquote>\n<p>å®ƒç±»ä¼¼äº <code>Session</code>  ä½œç”¨åŸŸï¼Œç›¸å½“äºå…¨å±€å˜é‡ï¼Œç±»ä¼¼ <code>Servlet</code>  çš„ <code>Application</code> ï¼Œé€‚ç”¨åŸºäº <code>portlet</code>  çš„ <code>web</code>  åº”ç”¨ç¨‹åºï¼Œè¯·æ³¨æ„:  <code>portlet</code>  åœ¨è¿™æŒ‡çš„æ˜¯åˆ†å¸ƒå¼å¼€å‘ï¼Œè€Œä¸æ˜¯ <code>portlet</code>  è¯­è¨€å¼€å‘ã€‚</p>\n</blockquote>\n<h1 id=\"ä¾èµ–æ³¨å…¥iocçš„åŒºåˆ«\"><a class=\"anchor\" href=\"#ä¾èµ–æ³¨å…¥iocçš„åŒºåˆ«\">#</a> ä¾èµ–æ³¨å…¥ &amp; IOC çš„åŒºåˆ«</h1>\n<ul>\n<li><code>DI(ä¾èµ–æ³¨å…¥)</code> ï¼šåœ¨ <code>Spring</code>  åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ä¸­ï¼ŒæŠŠå¯¹è±¡ä¾èµ–çš„å±æ€§æ³¨å…¥åˆ°ç±»ä¸­ã€‚</li>\n<li><code>IOC(æ§åˆ¶åè½¬)</code> ï¼šå°†å¯¹è±¡çš„åˆ›å»ºæƒäº¤ç”± <code>Spring</code>  æ¥è¿›è¡Œç®¡ç†ã€‚</li>\n</ul>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaæ·±å…¥ç†è§£",
                "è®¡ç®—æœºç§‘å­¦",
                "Javaæ·±å…¥ç†è§£",
                "Spring",
                "ä¾èµ–æ³¨å…¥",
                "IOC"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/JSR-133%EF%BC%9AJava%20Memory%20Model%20and%20Thread%20Specification/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/JSR-133%EF%BC%9AJava%20Memory%20Model%20and%20Thread%20Specification/",
            "title": "JSR-133ï¼šJava Memory Model and Thread Specification",
            "date_published": "2023-12-21T13:58:46.000Z",
            "content_html": "<h1 id=\"specification\"><a class=\"anchor\" href=\"#specification\">#</a> Specification</h1>\n<p>This document is the community review draft of the JSR-133 specification, the Java Memory Model (JMM) and Thread Specification. This specification is intended to be part of the JSR-176 umbrella for the Tiger (1.5) release of Java, and is intended to replace Chapter 17 of the Java Language Specification and Chapter 8 of the Java Virtual Machine Specification. The current draft has been written generically to apply to both, the final version will include two different versions, essentially identical in semantics but using the appropriate terminology for each.<br />\nThe discussion and development of this specification has been unusally detailed and tech-nical, involving insights and advances in a number of academic topics.<br />\nThis discussion is archived (and continues) at the JMM web site <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY3MudW1kLmVkdS9+cHVnaC9qYXZhL21lbW9yeU1vZGVsLw==\">http://www.cs.umd.edu/~pugh/java/memoryModel</span>.<br />\nThe web site provides additional information that may help in understanding how this spec-ification was arrived at.<br />\nThe core semantics (Sections 4 â€“ 7) is intended to describe semantics allowed by existing JVMs.<br />\nThe existing chapters of the JLS and JVMS specify semantics that are at odds with optimizations performed by many existing JVMs. The proposed core semantics should not cause issues for existing JVM implementations, although they may limit potential future optimizations and implementations.<br />\nThe expert group seeks feedback on two technical issues: a choice of a weak or strong causality model (Section 7.4), and an issue regarding the semantics of notify and interrupt(Section 12.4).<br />\nThe JSR-133 expert group urges all readers to examine these issues and provide the expert group with feedback on them.<br />\nThe weak causality model could allow more compiler optimizations, the strong model could provide more safety guarantees. However, we have not found any compelling and realistic examples of optimizations or guarantees that would guide the choice between the strong and weak causality model. This document proposes the strong causality model, since any JVM that is compliant with the strong causality model will also be compliant with the weak causality model.<br />\nJCP members are also urged to closely read the semantics on final fields (Sections 3.5 and 8). This is the one place most likely to require JVM implementors to change their implementation to be compliant with JSR-133. In particular, memory barriers or other techniques may be required to ensure that other threads see the correct values for final fields of immutable objects, even in the presence of data races.</p>\n<h1 id=\"introduction\"><a class=\"anchor\" href=\"#introduction\">#</a> Introduction</h1>\n<p>Java virtual machines support multiple threads of execution. Threads are represented in Java by the Thread class. The only way for a user to create a thread is to create an object of this class; each Java thread is associated with such an object. A thread will start when the start() method is invoked on the corresponding Thread object.<br />\nThe behavior of threads, particularly when not correctly synchronized, can be particularly confusing and intuitive. This specification describes the semantics of multithreaded Java programs, including rules on what values may be seen by a read of shared memory that is updated by other threads. Similar to the memory model for different hardware architectures, these semantics have been referred to as the Java memory mode.<br />\nThese semantics do not describe how a multithreaded program should be executed.<br />\nRather, they describe only the behaviors that are allowed by multithreaded programs. Any execution strategy that generates only allowed behaviors is an acceptable execution strategy. This is discussed more in Appendix A.</p>\n<h2 id=\"locks\"><a class=\"anchor\" href=\"#locks\">#</a> Locks</h2>\n<p>Java provides multiple mechanisms for communicating between threads. The most basic of these methods is synchronization, which is implemented using monitors. Each object in Java is associated with a monitor, which a thread can lock or unlock. Only one thread at a time may hold a lock on a monitor. Any other threads attempting to lock that monitor are blocked until they can obtain a lock on that monitor.<br />\nA thread t may lock a particular monitor multiple times; each unlock reverses the effect of one lock operation.<br />\nThe Java programming language does not provide a way to perform separate lock and unlock actions; instead, they are implicitly performed by high-level constructs that always arrange to pair such actions correctly.<br />\nNote, however, that the Java virtual machine provides separate monitorenter and moni-torexit instructions that implement the lock and unlock actions.<br />\nThe synchronized statement computes a reference to an object; it then attempts to perform a lock action on that objectâ€™s monitor and does not proceed further until the lock action has successfully completed. After the lock action has been performed, the body of the synchronized statement is executed. If execution of the body is ever completed, either normally or abruptly, an unlock action is automatically performed on that same monitor.<br />\nA synchronized method automatically performs a lock action when it is invoked; its body is not executed until the lock action has successfully completed. If the method is an instance method, it locks the monitor associated with the instance for which it was invoked (that is, the object that will be known as this during execution of the body of the method).<br />\nIf the method is static, it locks the monitor associated with the Class object that represents the class in which the method is defined. If execution of the methodâ€™s body is ever completed, either normally or abruptly, an unlock action is automatically performed on that same monitor.<br />\n<img data-src=\"https://s11.ax1x.com/2023/12/22/piT6Mt0.png\" alt=\"piT6Mt0.png\" /><br />\nThe Java programming language does not prevent, nor require detection of, deadlock con-ditions. Programs where threads hold (directly or indirectly) locks on multiple objects should use conventional techniques for deadlock avoidance, creating higher-level locking primitives that donâ€™t deadlock, if necessary.<br />\nThere is a total order over all lock and unlock actions performed by an execution of a program.</p>\n<h2 id=\"notation-in-examples\"><a class=\"anchor\" href=\"#notation-in-examples\">#</a> Notation in examples</h2>\n<p>The Java memory model is not substantially intertwined with the Object-Oriented nature of the Java programming language. For terseness and simplicity in our examples, we often exhibit code fragments that could as easily be C or Pascal code fragments, without class or method definitions, or explicit dereferencing. Instead, most examples consists of two or more threads containing statements with access to local variables (e.g., local variables of a method, not accessible to other threads), shared global variables (which might be static fields) or instance fields of an object.</p>\n<h1 id=\"incorrectly-synchronized-programs-can-exhibit-sur-prising-behaviors\"><a class=\"anchor\" href=\"#incorrectly-synchronized-programs-can-exhibit-sur-prising-behaviors\">#</a> Incorrectly synchronized programs can exhibit sur-prising behaviors</h1>\n<p>The semantics of the Java programming language allow compilers and microprocessors to perform optimizations that can interact with incorrectly synchronized code in ways that can produce behaviors that seem paradoxical.<br />\nConsider, for example, Figure 1. This program contains local variables r1 and r2; it also contains shared variables A and B, which are fields of an object. It may appear that the result r2 == 2, r1 == 1 is impossible. Intuitively, if r2 is 2, then instruction 4 came before instruction 1. Further, if r1 is 1, then instruction 2 came before instruction 3. So, if r2 == 2 and r1 == 1, then instruction 4 came before instruction 1, which comes before instruction 2, which came before instruction 3, which comes before instruction 4. This is, on the face of it, absurd.<br />\nHowever, compilers are allowed to reorder the instructions in each thread. If instruction 3 is made to execute after instruction 4, and instruction 1 is made to execute after instruction 2, then the result r2 == 2 and r1 == 1 is perfectly reasonable.<br />\n<img data-src=\"https://s11.ax1x.com/2023/12/24/pi7L6I0.png\" alt=\"pi7L6I0.png\" /><br />\nTo some programmers, this behavior may make it seem as if their code is being â€œbrokenâ€ by Java. However, it should be noted that this code is improperly synchronized:</p>\n<ul>\n<li>there is a write in one thread,</li>\n<li>a read of the same variable by another thread,</li>\n<li>and the write and read are not ordered by synchronization.</li>\n</ul>\n<p>This is called a data race. When code contains a data race, counter-intuitive results are often possible.<br />\nSeveral mechanisms can affect this reordering: the just-in-time compiler and the processor may rearrange code. In addition, the memory hierarchy of the architecture on which a virtual machine is run may make it appear as if code is being reordered. For the purposes of simplicity, we shall simply refer to anything that can reorder code as being a compiler. Source code to bytecode transformation, which is traditionally thought of as compilation, is outside the scope of this document.<br />\nAnother example of surprising results can be seen in Figure 2. This program is incorrectly synchronized; it accesses shared memory without enforcing any ordering between those ac-cesses. One common compiler optimization involves having the value read for m reused for o: they are both reads of p.x with no intervening write.<br />\nNow consider the case where the assignment to p.x in Thread 2 happens between the first read of p.x and the read of q.x in Thread 1. If the compiler decides to reuse the value of p.x for the second read, then m and o will have the value 0, and n will have the value 3. This may seem counter-intuitive as well: from the perspective of the programmer, the value stored at p.x has changed from 0 to 3 and then changed back.<br />\nAlthough this behavior is surprising, it is allowed by most JVMs. However, it is forbidden by the original Java memory model in the JLS and JVMS, one of the first indications that the original JMM needed to be replaced.</p>\n<h1 id=\"informal-semantics\"><a class=\"anchor\" href=\"#informal-semantics\">#</a> Informal Semantics</h1>\n<p>A program must be correctly synchronized to avoid the kinds of non-intuitive behaviors that can be observed when code is reordered. The use of correct synchronization does not ensure that the overall behavior of a program is correct. However, its use does allow a programmer to reason about the possible behaviors of a program in a simple way; the behavior of a correctly synchronized program is much less dependent on possible reorderings. Without correct synchronization, very strange, confusing and counter-intuitive behaviors are possible.<br />\nThere are two key ideas to understanding whether a program is correctly synchronized:<br />\n<strong>Conflicting Accesses</strong> Two accesses (reads of or writes to) the same shared field or array element are said to be conflicting if at least one of the accesses is a write.<br />\n<strong>Happens-Before Relationship</strong> Two actions can be ordered by a happens-before relation-ship. If one action happens before another, then the first is visible to and ordered before the second. There are a number of ways to induce a happens-before ordering in a Java program, including:</p>\n<ul>\n<li>Each action in a thread happens before every subsequent action in that thread.</li>\n<li>An unlock on a monitor happens before every subsequent lock on that monitor.</li>\n<li>A write to a volatile field happens before every subsequent read of that volatile.</li>\n<li>A call to start() on a thread happens before any actions in the started thread.</li>\n<li>All actions in a thread happen before any other thread successfully returns from a join() on that thread.</li>\n<li>If an action a happens before an action b, and b happens before an action c, then a happens before c.</li>\n</ul>\n<p>When a program contains two conflicting accesses that are not ordered by a happens-before relationship, it is said to contain a data race. A correctly synchronized program is one that has no data races (Section 3.4 contains a subtle but important clarification).<br />\nAn example of incorrectly synchronized code can be seen in Figure 3, which shows two different executions of the same program, both of which contain conflicting accesses to shared variables X and Y. In Figure 3a, the two threads lock and unlock a monitor M1 so that, in this execution, there is a happens-before relationship between all pairs of conflicting accesses. However, a different execution, shown in Figure 3b, shows why this program is incorrectly synchronized; there is no happens-before ordering between the conflicting accesses to X.<br />\nIf a program is not correctly synchronized, then three types of problems can appear:visibility, ordering and atomicity.</p>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/24/pi7LvsH.png\" alt=\"pi7LvsH.png\" /></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">LoopMayNeverEnd</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">boolean</span> done <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">work</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>done<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token comment\">// do work</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">stopWork</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        done <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">//                       Figure 4: Visibility Example</span></pre></td></tr></table></figure><h2 id=\"visibility\"><a class=\"anchor\" href=\"#visibility\">#</a> Visibility</h2>\n<p>If an action in one thread is visible to another thread, then the result of that action can be observed by the second thread. The results of one action are only guaranteed to be visible to a second action if the first happens before the second.<br />\nConsider the code in Figure 4. Now imagine that two threads are created, and that one thread calls work(), and at some point, the other thread calls stopWork(). Because there is no happens-before relationship between the two threads, the thread in the loop may never see the update to done performed by the other thread. In practice, this may happen if the compiler detects that there are no updates to done in the first thread: the loop can be transformed to an infinite loop.<br />\nTo ensure that this does not happen, there must be a happens-before relationship be-tween the two threads. In LoopMayNeverEnd, this can be achieved by declaring done to be volatile. All actions on volatiles happen in a total order, and each write to a volatile field happens before any subsequent read of that volatile.</p>\n<h2 id=\"ordering\"><a class=\"anchor\" href=\"#ordering\">#</a> Ordering</h2>\n<p>Ordering constraints govern the order in which multiple actions are seen to have happened.<br />\nThe ability to perceive ordering constraints among actions is only guaranteed to actions that share a happens-before relationship with them.<br />\nThe code in Figure 5 shows an example of where the lack of ordering constraints can produce surprising results. Consider what happens if sideOne() gets executed in one thread and sideTwo() gets executed in another. Would it be possible for temp1 and temp2 both to be true?</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">BadlyOrdered</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">boolean</span> a <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">boolean</span> b <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">boolean</span> <span class=\"token function\">sideOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">boolean</span> temp1 <span class=\"token operator\">=</span> b<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        a <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">return</span> temp1<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">boolean</span> <span class=\"token function\">sideTwo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">boolean</span> temp2 <span class=\"token operator\">=</span> a<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        b <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 4</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">return</span> temp2<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">//                       Figure 5: Ordering example</span></pre></td></tr></table></figure><p>The Java memory model allows this result, illustrating a violation of the ordering that a user might have expected. This code fragment is not correctly synchronized (the conflicting accesses are not ordered by a happens-before ordering).<br />\nIf ordering is not guaranteed, then the actions labeled 2 and 4 can appear to happen before the actions labeled 1 and 3; both reads can then see the value true. Compilers have substantial freedom to reorder code in the absence of synchronization, so a compiler could move the assignments to a and b earlier, resulting in temp1 and temp2 both being true.</p>\n<h2 id=\"atomicity\"><a class=\"anchor\" href=\"#atomicity\">#</a> Atomicity</h2>\n<p>If an action is (or a set of actions are) atomic, its result must be seen to happen â€œall at onceâ€, or indivisibly. Section 10 discusses some atomicity issues for Java; other than the exceptions mentioned there, all individual read and write actions take place atomically.<br />\nAtomicity can also be enforced between multiple actions. A program can be free from data races without having this form of atomicity. However, it is frequently just as important to enforce appropriate atomicity in a program as it is to enforce freedom from data races. Consider the code in Figure 6. Since all access to the shared variable balance is guarded by synchronization, the code is free of data races.<br />\nNow assume that one thread calls deposit(5), while another calls withdraw(5); there is an initial balance of 10. Ideally, at the end of these two calls, there would still be a balance of 10. However, consider what would happen if:</p>\n<ul>\n<li>The deposit() method sees a value of 10 for the balance, then</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">BrokenBankAccount</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> balance<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getBalance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">return</span> balance<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setBalance</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IllegalStateException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        balance <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>balance <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalStateException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Negative Balance\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">deposit</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> <span class=\"token function\">getBalance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token function\">setBalance</span><span class=\"token punctuation\">(</span>b <span class=\"token operator\">+</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> <span class=\"token function\">getBalance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token function\">setBalance</span><span class=\"token punctuation\">(</span>b <span class=\"token operator\">-</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\">//                       Figure 6:Atomicity Example</span></pre></td></tr></table></figure><ul>\n<li>The withdraw() method sees a value of 10 for the balance and withdraws 5, leaving a balance of 5, and finally</li>\n<li>The deposit() method uses the balance it originally saw to calculate the new balance.</li>\n</ul>\n<p>As a result of this lack of atomicity, the balance is 15 instead of 10. This effect is often referred to as a lost update because the withdrawal is lost. A programmer writing multi-threaded code must use synchronization carefully to avoid this sort of error. For this example, making the deposit() and withdraw() methods synchronized will ensure that the actions of those methods take place atomically.</p>\n<h2 id=\"sequential-consistency\"><a class=\"anchor\" href=\"#sequential-consistency\">#</a> Sequential Consistency</h2>\n<p>If a program has no data races, then executions of the program are sequentially consistent:very strong guarantees are made about visibility and ordering. Within a sequentially con-sistent execution, there is a total order over all individual actions (such as a read or a write)which is consistent with program order. Each individual action is atomic and is immedi-ately visible to every thread. As noted before, sequential consistency and/or freedom from data races still allows errors arising from groups of operations that need to be perceived atomically, as shown in Figure 6.<br />\nHaving defined sequential consistency, we can use it to provide an important clarification regarding correctly synchronized programs. A program is correctly synchronized if and only if all sequentially consistent executions are free of data races. Programmers therefore only need to reason about sequentially consistent executions to determine if their programs are correctly synchronized.<br />\nA more full and formal treatment of memory model issues for normal fields is given in Sections 4â€“7.</p>\n<h2 id=\"final-fields\"><a class=\"anchor\" href=\"#final-fields\">#</a> Final Fields</h2>\n<p>Fields declared final can be initialized once, but never changed. The detailed semantics of final fields are somewhat different from those of normal fields. In particular, compilers have a great deal of freedom to move reads of final fields across synchronization barriers and calls to arbitrary or unknown methods. Correspondingly, compilers are allowed to keep the value of a final field cached in a register and not reload it from memory in situations where a non-final field would have to be reloaded.<br />\nFinal fields also allow programmers to implement thread-safe immutable objects without synchronization. A thread-safe immutable object is seen as immutable by all threads, even if a data race is used to pass references to the immutable object between threads. This can provide safety guarantees against misuse of the immutable class by incorrect or malicious code.<br />\nFinal fields must be used correctly to provide a guarantee of immutability. An object is considered to be completely initialized when its constructor finishes. A thread that can only</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">FinalFieldExample</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> x<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token class-name\">FinalFieldExample</span> f<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">FinalFieldExample</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        x <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        y <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">writer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        f <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FinalFieldExample</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">reader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>f <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">//                       Figure 7:Example illustrating final fields semantics</span></pre></td></tr></table></figure><p>see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that objectâ€™s final fields.<br />\nThe usage model for final fields is a simple one. Set the final fields for an object in that objectâ€™s constructor. Do not write a reference to the object being constructed in a place where another thread can see it before the object is completely initialized. When the object is seen by another thread, that thread will always see the correctly constructed version of that objectâ€™s final fields, and any object or array referenced by those final fields.<br />\nFigure 7 gives an example that demonstrates how final fields compare to normal fields. The class FinalFieldExample has a final int field x and a non-final int field y. One thread might execute the method writer(), and another might execute the method reader(). Because writer() writes f after the objectâ€™s constructor finishes, the reader() will be guaranteed to see the properly initialized value for f.x: it will read the value 3. However, f.y is not final; the reader() method is therefore not guaranteed to see the value 4 for it. Final fields are designed to allow for necessary security guarantees.<br />\nConsider the code in Figure 8. String objects are intended to be immutable and string operations do not perform synchronization. While the String implementation does not have any data races, other code could have data races involving the use of Strings, and the JLS</p>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/24/pi7OFW8.png\" alt=\"pi7OFW8.png\" /></p>\n<p>makes weak guarantees for programs that have data races. In particular, if the fields of the String class were not final, then it would be possible (although unlikely in the extreme) that thread 2 could initially see the default value of 0 for the offset of the string object, allowing it to compare as equal to &quot;/tmp&quot;. A later operation on the String object might see the correct offset of 4, so that the String object is perceived as being &quot;/usr&quot;. Many security features of the Java programming language depend upon Strings being perceived as truly immutable.<br />\nThis is only an overview of the semantics of final fields. For a more detailed discussion, which includes several cases not mentioned here, consult Section 8.</p>\n<h1 id=\"the-java-memory-model\"><a class=\"anchor\" href=\"#the-java-memory-model\">#</a> The Java Memory Model</h1>\n<p>A memory model describes, given a program and an execution trace of that program, whether the execution trace is a legal execution of the program. Javaâ€™s memory model works by examining each read in an execution trace and checking that the write observed by that read is valid.<br />\nA high level, informal overview of the memory model shows it to be a set of rules for when writes by one thread are visible to another thread. Informally, a read r can see the value of any write w such that w does not occur after r and w is not seen to be overwritten by another write w 0 (from râ€™s perspective).<br />\nWhen we use the term â€œreadâ€ in this memory model, we are only referring to values returned from fields or array elements. There are other actions performed by a virtual ma-chine, including reads of array lengths, executions of checked casts, and invocations of virtual methods, that must always return the correct value. Although these may be implemented with reads at the machine level, these actions cannot throw an exception or otherwise cause the VM to misbehave (e.g., crash or report the wrong array length).<br />\nThe memory semantics determine what values can be read at every point in the program. The actions of each thread in isolation must behave as governed by the semantics of that thread, with the exception that the values seen by each read are determined by the memory model. We refer to this as obeying intra-thread semantics.<br />\nHowever, when threads interact, reads can return values written by writes from different threads. The model provides two main guarantees for the values seen by reads.</p>\n<ul>\n<li>Consistency requires that behavior is consistent with both intra-thread semantics and the write visibility enforced by the happens-before ordering.</li>\n<li>Causality means that an action cannot cause itself to happen. In other words, it must be possible to explain how the actions occurred in an execution without depending on one of the actions that you are trying to explain.<br />\nCausality is necessary to ensure that correctly synchronized programs have sequentially consistent semantics. This is covered in more detail in Section 6.</li>\n</ul>\n<h1 id=\"definitions\"><a class=\"anchor\" href=\"#definitions\">#</a> Definitions</h1>\n<p><strong>Shared variables/Heap memory Memory</strong> that can be shared between threads is called shared or heap memory. All instance fields, static fields and array elements are stored in heap memory. We use the term variable to refer to both fields and array elements. Variables local to a method are never shared between threads.</p>\n<p><strong>Inter-thread Actions</strong> An inter-thread action is an action performed by a thread that could be detected by or be directly influenced by another thread. Inter-thread actions include reads and writes of shared variables and synchronization actions, such as obtaining or releasing a lock, reading or writing a shared variable, or starting a thread.<br />\nWe do not need to concern ourselves with intra-thread actions (e.g., adding two local variables and storing the result in a third local variable).<br />\nAn inter-thread action is annotated with information about the execution of that action. All actions are annotated with the thread in which they occur and the program order in which they occur within that thread. Some additional annotations include:</p>\n<ul>\n<li>write The variable written to and the value written.</li>\n<li>read The variable read and the write seen (from this, we can determine the value seen).</li>\n<li>lock The monitor which is locked.</li>\n<li>unlock The monitor which is unlocked.</li>\n</ul>\n<p>For brevityâ€™s sake, we usually refer to inter-thread actions as simply actions.</p>\n<p><strong>Program Order</strong> Among all the inter-thread actions performed by each thread t, the program order of t is a total order that reflects the order in which these actions would be performed according to the intra-thread semantics of t.</p>\n<p><strong>Intra-thread semantics</strong> Intra-thread semantics are the standard semantics for single threaded programs, and allow the complete prediction of the behavior of a thread based on the values seen by read actions within the thread. To determine if the actions of thread t in an execution are legal, we simply evaluate the implementation of thread t as would be performed in a single threaded context, as defined in the remainder of the Java Language Specification.</p>\n<p>Each time evaluation of thread t generates an inter-thread action, it must match the inter-thread action a of t that comes next in program order. If a is a read, then further evaluation of t uses the value seen by a.<br />\nSimply put, intra-thread semantics are what result from the execution of a thread in isolation; when values are read from the heap, they are determined by the memory model.</p>\n<p><strong>Synchronization Actions</strong> All inter-thread actions other than reads and writes of normal and final variables are synchronization actions.</p>\n<p><strong>Synchronization Order</strong> In any execution, there is a synchronization order which is a total order over all of the synchronization actions of that execution. For each thread t, the synchronization order of the synchronization actions in t is consistent with the program order of t.</p>\n<p><strong>Happens-Before Edges</strong> If we have two actions x and y, we use <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><munderover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow></mrow></mpadded><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></munderover><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">x \\xrightarrow[]{hd} y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.230108em;vertical-align:-0.12200000000000011em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span><span style=\"top:-2.5780000000000003em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.12200000000000011em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span> to mean that x happens-before y. If x and y are actions of the same thread and x comes before y in program order, then <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><munderover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow></mrow></mpadded><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></munderover><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">x \\xrightarrow[]{hd} y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.230108em;vertical-align:-0.12200000000000011em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span><span style=\"top:-2.5780000000000003em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.12200000000000011em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>.<br />\nSynchronization actions also induce happens-before edges:</p>\n<ul>\n<li>There is a happens-before edge from an unlock action on monitor m to all subsequent lock actions on m (where subsequent is defined according to the synchronization order).</li>\n<li>There is a happens-before edge from a write to a volatile variable v to all subsequent reads of v (where subsequent is defined according to the synchronization order).</li>\n<li>There is a happens-before edge from an action that starts a thread to the first action in the thread it starts.</li>\n<li>There is a happens-before edge between the final action in a thread T1 and an action in another thread T2 that allows T2 to detect that T1 has terminated. T2 may accomplish this by calling T1.isAlive() or doing a join action on T1.</li>\n</ul>\n<p>In addition, we have two other rules for generating happens-before edges.</p>\n<ul>\n<li>There is a happens-before edge from the write of the default value (zero, false or null)of each variable to the first action in every thread.</li>\n<li>Happens-before is transitively closed. In other words, if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><munderover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow></mrow></mpadded><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></munderover><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">x \\xrightarrow[]{hd} y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.230108em;vertical-align:-0.12200000000000011em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span><span style=\"top:-2.5780000000000003em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.12200000000000011em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><munderover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow></mrow></mpadded><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></munderover><mi>z</mi></mrow><annotation encoding=\"application/x-tex\">y \\xrightarrow[]{hd} z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.3025479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span><span style=\"top:-2.5780000000000003em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.12200000000000011em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span></span></span></span>, then <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></mover><mi>z</mi></mrow><annotation encoding=\"application/x-tex\">x \\xrightarrow{hd} z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.119108em;vertical-align:-0.01100000000000012em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.01100000000000012em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span></span></span></span>.</li>\n</ul>\n<p><strong>Execution Trace</strong> An execution trace (which we sometimes simply call an execution) E of a program P consists of four parts:</p>\n<ul>\n<li>A set of inter-thread actions, including, for each thread t, the program order among actions in thread t.</li>\n<li>A synchronization order over the synchronization actions in the execution.</li>\n<li>The happens-before relationships in the program, derived from the program order and the synchronization order.</li>\n<li>A causal order, discussed in Section 7.</li>\n</ul>\n<p>This tuple is written as âŸ¨S, so,<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></mover></mrow><annotation encoding=\"application/x-tex\">\\xrightarrow{hd}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.119108em;vertical-align:-0.01100000000000012em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.01100000000000012em;\"><span></span></span></span></span></span></span></span></span>, coâŸ©. An execution trace E is a valid execution trace if and only if</p>\n<ul>\n<li>the actions of each thread obey intra-thread semantics</li>\n<li>and the values seen by the reads in E are valid according to the memory model (as defined in Section 6 â€“ 10).</li>\n</ul>\n<p>The use of fields marked final changes the guarantees for write visibility somewhat. Final fields are frequently guaranteed to see their correctly initialized value regardless of happens-before orderings. This is discussed in detail in Section 8.<br />\nThe wait methods of class Object have lock and unlock actions associated with them; their happens-before relationships are defined by these associated actions. These methods are described further in Section 12.</p>\n<h1 id=\"consistency\"><a class=\"anchor\" href=\"#consistency\">#</a> Consistency</h1>\n<p>We first introduce a simple memory model called consistency.<br />\nThe happens-before relationship defines a partial order over the actions in an execution trace; one action is ordered before another in the partial order if one action happens-before the other. We say that a read r of a variable v is allowed to observe a write w to v if, in the happens-before partial order of the execution trace:</p>\n<ul>\n<li>r is not ordered before w (i.e., it is not the case that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></mover><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">r \\xrightarrow{hd} w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.119108em;vertical-align:-0.01100000000000012em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.01100000000000012em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span>), and</li>\n<li>there is no intervening write w<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mrow></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span> to v (i.e., no write w<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mrow></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span> to v such that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></mover><msup><mi>w</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></mover><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">w \\xrightarrow{hd} w\\rq \\xrightarrow{hd} r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.119108em;vertical-align:-0.01100000000000012em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.01100000000000012em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.119108em;vertical-align:-0.01100000000000012em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.01100000000000012em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>).</li>\n</ul>\n<p>Informally, a read r is allowed to see the result of a write w if there is no happens-before ordering to prevent that read. An execution trace is consistent if all of the reads in the execution trace are allowed.<br />\nBecause consistent execution traces do not have causal orders, they are represented by a tuple âŸ¨S, so,<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></mover></mrow><annotation encoding=\"application/x-tex\">\\xrightarrow{hd}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.119108em;vertical-align:-0.01100000000000012em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.01100000000000012em;\"><span></span></span></span></span></span></span></span></span>âŸ©.</p>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/24/piHCHnf.png\" alt=\"piHCHnf.png\" /></p>\n<p>As an example of this simple model, consider Figure 1, and the corresponding graph in Figure 9. The solid lines represent happens-before relationships between the actions. The dotted lines between a write and a read indicate a write that the read is allowed to see.<br />\nFor example, the read at r2 = A is allowed to see the write at A = 0 or the write A = 2.<br />\nAn execution is consistent, and valid according to the Consistency memory model, if all reads see writes they are allowed to see. So, for example, an execution that has the result r1 == 1, r2 == 2 would be a valid one.</p>\n<h1 id=\"causality\"><a class=\"anchor\" href=\"#causality\">#</a> Causality</h1>\n<p>Consistency is a necessary, but not sufficient, set of constraints. In other words, we need the requirements imposed by Consistency, but they allow for unacceptable behaviors.<br />\nIn particular, one of our key requirements is that correctly synchronized programs may exhibit only sequentially consistent behavior. Consistency alone will violate this requirement.<br />\nConsider the code in Figure 10. If this code is executed in a sequentially consistent way, each action will occur in program order, and neither of the writes will occur. Since no writes occur, there can be no data races: the program is correctly synchronized. We therefore only want the program to exhibit sequentially consistent behavior.<br />\nCould we get a non-sequentially consistent behavior from this program? Consider what would happen if both r1 and r2 saw the value 1. Can we argue that this relatively nonsensical result is legal under Consistency?<br />\nThe answer to this is â€œyesâ€. The read in Thread 2 is allowed to see the write in Thread 1, because there is no happens-before relationship to prevent it. Similarly, the read in Thread 1 is allowed to see the read in Thread 2: there is no synchronization to prevent that, either. Consistency is therefore inadequate for our purposes.<br />\nEven for incorrectly synchronized programs, Consistency is too weak: it can allow situ-ations in which an action causes itself to happen, when it could happen no other way. We say that an execution that contains this behavior contains a causal loop. At the extreme, this might allow a value to appear out of thin air. An example of this is given in Figure 11. If we decide arbitrarily that the writes in each thread will be of the value 42, the behavior r1 == r2 == 42 can be validated as consistent: each read each sees a write in the execution, without any intervening happens-before relation.<br />\nTo avoid problems such as this, we require that executions respect causality. It turns out that formally defining causality in a multithreaded context is tricky and subtle.</p>\n<h2 id=\"causal-orders\"><a class=\"anchor\" href=\"#causal-orders\">#</a> Causal Orders</h2>\n<p>For any execution trace, we require the existence of a causal order, which is an ordered list of the reads, writes and synchronization actions in that execution. The causal order can be considered an explanation of how an execution happened. For example, first we can show that x could happen; once we know x will happen, we can show that y can happen; once we know that both x and y will happen, we can show that z can happen.</p>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/24/piHP5aF.png\" alt=\"piHP5aF.png\" /></p>\n<p>The causal order does not have to be consistent with the program order or the happens-before order. Any total order over actions in an execution trace is potentially a valid causal order. The causal order could, for example, reflect the order in which the actions might occur after compiler transformations have taken place.<br />\nThe intuition behind causal orders is that for each prefix of that causal order, the next action in the order is justified by the actions in the prefix. Actions that do not involve potential cycles do not need to be explicitly justified; we only require the justification of prescient actions. An action x in a trace âŸ¨S, so,<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></mover></mrow><annotation encoding=\"application/x-tex\">\\xrightarrow{hd}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.119108em;vertical-align:-0.01100000000000012em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.01100000000000012em;\"><span></span></span></span></span></span></span></span></span>, coâŸ© is prescient if and only if either:</p>\n<ul>\n<li>there exists an action y that occurs after x in the causal order such that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></mover><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">y \\xrightarrow{hd} x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.3025479999999998em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.01100000000000012em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> or</li>\n<li>x observes a write that occurs after it in the causal order.</li>\n</ul>\n<p>All prescient actions must be justified. To justify a prescient action x in trace E, let Î± be the actions that occur before x in the causal order. We need to show that x will be allowed to occur in all executions with a causal order that starts with Î± and contains no prescient actions after Î±. Section 7.4 describes an alternative weak causality model, in which we would only require that there exist some execution in which x would be allowed to occur.<br />\nIt should be fairly clear that there are no causal orders for which Figure 11 will produce 42: there is no sequence of actions that will guarantee that 42 will be written to x or y.<br />\nIn addition, the reads in Figure 10 will not be able to see the value 1. The first action in the causal order would have to be a write of 1 or a read of 1. Since neither of those are allowed in any non-prescient execution, they cannot be the first action in a causal order.</p>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/24/piHP7G9.png\" alt=\"piHP7G9.png\" /></p>\n<p>Formally defining causality is somewhat involved. To do so, it is necessary to define what it means for one action to be in more than one execution. This definition will be omitted here; the full definition can be found, along with the formal model, in Appendix B.</p>\n<h2 id=\"when-is-a-race-read-justified-in-a-causal-order\"><a class=\"anchor\" href=\"#when-is-a-race-read-justified-in-a-causal-order\">#</a> When is a race read justified in a causal order?</h2>\n<p>We need to state more formally what it means for a read r to be justified in occurring in an execution E whose causal order is Î±rÎ². If r is involved in a data race, then execution can non-deterministically choose which of the multiple writes visible to r is seen by r, which makes it difficult to guarantee that r will see a particular value. The read r is justified if in all executions whose causal order consists of Î± followed by non-prescient actions, there is a corresponding read r<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mrow></mrow><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span> that is allowed to observe the same value that r observed.<br />\nIntuitively, we are only able to justify a read if it will always be allowed to occur based on the actions we have already justified.</p>\n<h2 id=\"prohibited-sets\"><a class=\"anchor\" href=\"#prohibited-sets\">#</a> Prohibited Sets</h2>\n<p>In order to perform an action presciently, we must be guaranteed that the action will occur.<br />\nThe JMM allows for many possible behaviors of incorrectly synchronized programs. Com-pilers may perform transformations that prevent some behaviors that are allowed by the JMM. When these behaviors are prohibited by compiler transformations, other actions may be guaranteed that were not guaranteed given the full freedom of the JMM. The semantics need to allow such actions to be performed presciently. In Figure 12, we see an example of such an optimization. The compiler can</p>\n<ul>\n<li>eliminate the redundant read of a, replacing 2 with r2 = r1, then</li>\n<li>determine that the expression r1 == r2 is always true, eliminating the conditional branch 3, and finally</li>\n<li>move the write 4: b = 2 early.</li>\n</ul>\n<p>Here, the assignment 4: b = 2 seems to cause itself to happen. Thus, simple compiler optimizations can lead to an apparent cyclic execution trace without a workable causal order.<br />\nWe must allow these cases, but also prevent cases where, if r1 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo mathvariant=\"normal\">â‰ </mo></mrow><annotation encoding=\"application/x-tex\">\\ne</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"inner\"><span class=\"mrel\">î€ </span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel\">=</span></span></span></span></span> r2, r3 is assigned a value other than 1.<br />\nTo validate such an execution we would need a causal order that makes r1 == r2 == r3 == 2 a causally consistent execution of Figure 12. To see this behavior, we need a causal order over valid executions that would justify this behavior in an execution.<br />\nHow would we go about trying to construct a causal order to validate this behavior? In this case, we are trying to capture a potential behavior of the transformed program: the case where 4 happens first, then all of Thread 2, and finally 1 - 3. This would suggest { 4, 5, 6, 1, 2, 3 } as a potential causal order.<br />\nHowever, we cannot use this causal order assuming only Causality and Consistency. The prefix of 4 (b = 2) is empty, so all of the validated executions for which the empty set is a prefix (i.e., all validated executions) must allow the write 4 to occur. The problem is that 4 is not guaranteed to occur in all non-prescient executions; it only occurs whenever r1 and r2 see the same value. If we were able to exclude all executions in which r1 and r2 see different values, then we could use the causal order { 4, 5, 6, 1, 2, 3 }<br />\nIn short, compiler transformations can make certain executions (such as the ones in which 1 and 2 do not see the same value) impossible. This prohibition, in turn, can lead to additional executions that seem cyclic.<br />\nFor the purposes of showing that a prescient action x is justified, a set of behaviors that are not possible on a particular implementation of a JVM may be specified. This, in turn, allows other actions to be guaranteed and performed presciently, allowing for new behaviors.<br />\nIf we allowed arbitrary executions to be prohibited, we could conceivably, for example, prohibit all executions. We could then vacuously justify any action we liked, because it would occur in every execution. This sort of behavior is nonsensical; we therefore cannot allow arbitrary executions to be prohibited.<br />\nInstead, an execution can be prohibited only if it contains a read that could see multiple values, and there is an alternate execution that is not prohibited that contains that read, but sees a different value.<br />\nConsider prescient action x in an execution <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">âŸ¨</mo><mi>S</mi><mo separator=\"true\">,</mo><mi>s</mi><mi>o</mi><mo separator=\"true\">,</mo><mover><mo stretchy=\"true\">â†’</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>h</mi><mi>d</mi></mrow></mpadded></mover><mo separator=\"true\">,</mo><mi>Î±</mi><mi>x</mi><mi>Î²</mi><mo stretchy=\"false\">âŸ©</mo></mrow><annotation encoding=\"application/x-tex\">âŸ¨S, so,\\xrightarrow{hd}, \\alpha x \\betaâŸ©</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.3581079999999999em;vertical-align:-0.25em;\"></span><span class=\"mopen\">âŸ¨</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mord mathnormal\">o</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1081079999999999em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.01100000000000012em;\"><span></span></span></span></span></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span><span class=\"mord mathnormal\">x</span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span><span class=\"mclose\">âŸ©</span></span></span></span> we wish to justify, and the set of executions J of executions whose causal order starts with Î±. We allow the specification of a set of prohibited executions <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>âŠ‚</mo><mi>J</mi></mrow><annotation encoding=\"application/x-tex\">P \\subset J</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72243em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">âŠ‚</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>, and only require that x be allowed to occur in all executions in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi><mo>âˆ’</mo><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">J-P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span>.<br />\nFor each prohibited execution <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>E</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo>âˆˆ</mo><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">E\\rq \\in P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.790992em;vertical-align:-0.0391em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">âˆˆ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span>, we must identify a read r in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>E</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">E\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span>, but not in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">Î±</span></span></span></span>, that is allowed by the happens before constraint to see multiple writes. Assume that in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>E</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">E\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span> the read r sees a write w. Then there must exist a different write <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>w</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">w\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span> that could be seen by r in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>E</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">E\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span> and an execution <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>E</mi><mrow><mo mathvariant=\"normal\">â€²</mo><mo mathvariant=\"normal\">â€²</mo></mrow></msup><mo>âˆˆ</mo><mi>J</mi><mo>âˆ’</mo><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">E\\rq\\rq \\in J-P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.790992em;vertical-align:-0.0391em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">âˆˆ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span> such that</p>\n<ul>\n<li>r and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>w</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">w\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span> occur in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>E</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">E\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span>, and in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>E</mi><mrow><mo mathvariant=\"normal\">â€²</mo><mo mathvariant=\"normal\">â€²</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">E\\rq\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span>, the read r sees <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>w</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">w\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span>.</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>E</mi><mrow><mo mathvariant=\"normal\">â€²</mo><mo mathvariant=\"normal\">â€²</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">E\\rq\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span> includes all of the actions that come before r in the causal order of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>E</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">E\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span>.</li>\n</ul>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/24/piHiLWj.png\" alt=\"piHiLWj.png\" /></p>\n<p>Note that since r represents a choice at which <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>E</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">E\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>E</mi><mrow><mo mathvariant=\"normal\">â€²</mo><mo mathvariant=\"normal\">â€²</mo></mrow></msup></mrow><annotation encoding=\"application/x-tex\">E\\rq\\rq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span> diverge, the remainder of their executions can be substantially different.<br />\nUsing prohibited executions, we can show that the execution in Figure 12 respects causal-ity. This can be done by prohibiting all executions where h1 and h2 do not return the same value. Execution traces where they do return the same value can be provided as alternate executions.</p>\n<h2 id=\"causality-model-summary-and-a-possible-weakening\"><a class=\"anchor\" href=\"#causality-model-summary-and-a-possible-weakening\">#</a> Causality Model Summary and a Possible Weakening</h2>\n<p>Figure 15 summarizes, using the informal notation used in this section, the strong causality model proposed for the Java Memory Model. However, the JSR-133 expert group is debating whether instead to adopt a weaker model (Figure 16) that would make fewer guarantees about the behavior of incorrectly synchronized programs and might allow for more compiler and other optimizations of Java programs. At the moment, we do not have a good handle on whether guarantees necessary for safety and defensive programming might be violated by the weaker model, or whether there are any compiler or architectural optimizations that would be forbidden by the stronger causality model. The expert group solicits feedback on this issue. The weak causality model allows the behavior shown in Figure 14, while this behavior is forbidden by the strong causality model.</p>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "æ¨¡å‹è§„èŒƒ",
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "å†…å­˜æ¨¡å‹",
                "çº¿ç¨‹è§„èŒƒ"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%8F%8Avolatile%E5%85%B3%E9%94%AE%E5%AD%97%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%8F%8Avolatile%E5%85%B3%E9%94%AE%E5%AD%97%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "title": "Javaå†…å­˜æ¨¡å‹åŠvolatileå…³é”®å­—æ·±å…¥ç†è§£",
            "date_published": "2023-12-18T14:07:20.000Z",
            "content_html": "<blockquote>\n<p>æœ¬ç¯‡æ˜¯å¯¹ <code>Java</code>  å†…å­˜æ¨¡å‹ ( <code>JMM</code> ) åŠ <code>volatile</code>  å…³é”®å­—çš„æ·±åº¦è®°å½•ï¼Œä»è€Œå½»åº•ç†è§£ <code>JMM</code>  å’Œ <code>volatile</code>  å…³é”®å­—çš„ä½œç”¨ã€‚</p>\n</blockquote>\n<h1 id=\"javaå†…å­˜åŒºåŸŸä¸å†…å­˜æ¨¡å‹\"><a class=\"anchor\" href=\"#javaå†…å­˜åŒºåŸŸä¸å†…å­˜æ¨¡å‹\">#</a> Java å†…å­˜åŒºåŸŸä¸å†…å­˜æ¨¡å‹</h1>\n<h2 id=\"javaå†…å­˜åŒºåŸŸ\"><a class=\"anchor\" href=\"#javaå†…å­˜åŒºåŸŸ\">#</a> Java å†…å­˜åŒºåŸŸ</h2>\n<blockquote>\n<p><code>Java</code>  è™šæ‹Ÿæœºåœ¨è¿è¡Œç¨‹åºæ—¶ä¼šæŠŠè‡ªåŠ¨ç®¡ç†çš„å†…å­˜åˆ’åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªåŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸéƒ½æœ‰å„è‡ªçš„ç”¨é€”ä»¥åŠåˆ›å»ºå’Œé”€æ¯çš„æ—¶æœºï¼Œå…¶ä¸­è“è‰²éƒ¨åˆ†ä»£è¡¨çš„æ˜¯æ‰€æœ‰çº¿ç¨‹å…±äº«çš„æ•°æ®åŒºåŸŸï¼Œç»¿è‰²éƒ¨åˆ†ä»£è¡¨çš„æ˜¯æ¯ä¸ªçº¿ç¨‹ç§æœ‰çš„æ•°æ®åŒºåŸŸã€‚</p>\n</blockquote>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/19/piIY4MT.png\" alt=\"piIY4MT.png\" /></p>\n<ul>\n<li><code>Method Area(æ–¹æ³•åŒº)</code> ï¼š\n<ul>\n<li>æ–¹æ³•åŒºåˆè¢«ç§°ä¸ºï¼š <code>Non-Heap</code>  å±äºçº¿ç¨‹å…±äº«çš„å†…å­˜åŒºåŸŸï¼Œä¸»è¦ç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€é€šè¿‡å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ï¼Œæ ¹æ® <code>JVM</code>  è§„å®šï¼Œå½“ <code>Method Area(æ–¹æ³•åŒº)</code>  æ— æ³•æ»¡è¶³å†…å­˜åˆ†é…éœ€æ±‚æ—¶ï¼Œå°†ä¼šæŠ›å‡º <code>OutOfMemoryError</code>  é”™è¯¯ï¼Œæ³¨æ„ï¼šåœ¨ <code>Method Area(æ–¹æ³•åŒº)</code>  ä¸­å­˜åœ¨ä¸€ä¸ªå«è¿è¡Œæ—¶å¸¸é‡æ±  <code>(Runtime Constant Pool)</code>  çš„åŒºåŸŸï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å­˜æ”¾ç¼–è¯‘å™¨ç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ï¼Œè¿™äº›å†…å®¹å°†åœ¨ç±»åŠ è½½åå­˜æ”¾åˆ°è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ä»¥ä¾¿åç»­ä½¿ç”¨ã€‚</li>\n</ul>\n</li>\n<li><code>Java Heap(JVMå †)</code>\n<ul>\n<li><code>Java</code>  å †ä¹Ÿå±äºçº¿ç¨‹å…±äº«å†…å­˜åŒºåŸŸï¼Œå®ƒåœ¨è™šæ‹Ÿæœºå¯åŠ¨æ—¶åˆ›å»ºï¼Œæ˜¯ <code>Java</code>  è™šæ‹Ÿæœºæ‰€ç®¡ç†çš„å†…å­˜ä¸­æœ€å¤§çš„ä¸€å—ï¼Œä¸»è¦ç”¨äºå­˜æ”¾å¯¹è±¡å®ä¾‹ï¼Œå‡ ä¹æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹éƒ½åœ¨è¿™é‡Œè¿›è¡Œå†…å­˜åˆ†é…ï¼Œæ³¨æ„ï¼š <code>Java</code>  å †æ˜¯åƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„ä¸»è¦åŒºåŸŸï¼Œå› æ­¤å¾ˆå¤šæ—¶å€™ä¹Ÿè¢«ç§°ä¸º <code>GC</code>  å †ï¼Œå¦‚æœåœ¨å †ä¸­æ²¡æœ‰å†…å­˜å®Œæˆå®ä¾‹åˆ†é…å¹¶ä¸”å †æ— æ³•å†æ‰©å±•æ—¶ï¼Œå°†ä¼šæŠ›å‡º <code>OutOfMemoryError</code>  é”™è¯¯ã€‚</li>\n</ul>\n</li>\n<li><code>Program Counter Register(ç¨‹åºè®¡æ•°å™¨)</code>\n<ul>\n<li>ç¨‹åºè®¡æ•°å™¨å±äºçº¿ç¨‹ç§æœ‰æ•°æ®åŒºåŸŸï¼Œå®ƒæ˜¯ä¸€å°å—å†…å­˜ç©ºé—´ï¼Œä¸»è¦ä»£è¡¨å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç è¡Œå·çš„æŒ‡ç¤ºå™¨ï¼Œå­—èŠ‚ç è§£é‡Šå™¨å·¥ä½œæ—¶ï¼Œé€šè¿‡æ”¹å˜è¿™ä¸ªè®¡æ•°å™¨çš„å€¼æ¥é€‰åŒºä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ã€åˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤ç­‰åŸºç¡€åŠŸèƒ½éƒ½ä¾èµ–äºè¿™ä¸ªè®¡æ•°å™¨æ¥å®Œæˆã€‚</li>\n</ul>\n</li>\n<li><code>Java Virtual Machine Stacks(è™šæ‹Ÿæœºæ ˆ)</code>\n<ul>\n<li>è™šæ‹Ÿæœºæ ˆå±äºçº¿ç¨‹ç§æœ‰æ•°æ®åŒºåŸŸï¼Œå®ƒä¸çº¿ç¨‹åŒæ—¶åˆ›å»ºï¼Œæ€»æ•°ä¸çº¿ç¨‹ç›¸å…³è”ï¼Œå®ƒä»£è¡¨ <code>Java</code>  æ–¹æ³•æ‰§è¡Œçš„å†…å­˜æ¨¡å‹ï¼Œæ¯ä¸ªæ–¹æ³•æ‰§è¡Œæ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§æ¥å­˜å‚¨æ–¹æ³•çš„å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€è¿”å›å€¼ã€è¿”å›åœ°å€ç­‰ä¿¡æ¯ï¼Œæ–¹æ³•çš„è°ƒç”¨åˆ°ç»“æŸå¯¹åº”ä¸€ä¸ªæ ˆå¸§åœ¨è™šæ‹Ÿæœºæ ˆä¸­çš„å…¥æ ˆå’Œå‡ºæ ˆè¿‡ç¨‹ã€‚<br />\n<img data-src=\"https://s11.ax1x.com/2023/12/19/piIYvQK.png\" alt=\"piIYvQK.png\" /></li>\n</ul>\n</li>\n<li><code>Native Method Stacks(æœ¬åœ°æ–¹æ³•æ ˆ)</code>\n<ul>\n<li>æœ¬åœ°æ–¹æ³•æ ˆå±äºçº¿ç¨‹ç§æœ‰æ•°æ®åŒºåŸŸï¼Œè¿™éƒ¨åˆ†ä¸»è¦ä¸è™šæ‹Ÿæœºç”¨åˆ°çš„çš„ <code>Native</code>  æ–¹æ³•æœ‰å…³ï¼Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒæ­¤åŒºåŸŸã€‚</li>\n</ul>\n</li>\n</ul>\n<div class=\"note danger no-icon\">\n<p>æ³¨æ„ï¼š <code>Java</code>  å†…å­˜åŒºåŸŸå’Œ <code>Java</code>  å†…å­˜æ¨¡å‹ä¸æ˜¯åŒä¸€ç§æ¦‚å¿µï¼Œå®ƒä»¬ä¸¤ç§æ˜¯å±äºä¸åŒå±‚æ¬¡çš„æ¦‚å¿µã€‚å› æ­¤ <code>Java</code>  å†…å­˜åŒºåŸŸå’Œ <code>Java</code>  å†…å­˜æ¨¡å‹æ˜¯å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªä¸œè¥¿ã€‚</p>\n</div>\n<h2 id=\"javaå†…å­˜æ¨¡å‹\"><a class=\"anchor\" href=\"#javaå†…å­˜æ¨¡å‹\">#</a> Java å†…å­˜æ¨¡å‹</h2>\n<blockquote>\n<p><code>Java</code>  å†…å­˜æ¨¡å‹åˆè¢«ç§°ä¸º <code>JMM(Java Memory Model)</code> ï¼Œå®ƒæ˜¯ä¸€ç§æŠ½è±¡æ¦‚å¿µï¼Œæè¿°çš„æ˜¯ä¸€ç»„è§„åˆ™æˆ–è§„èŒƒï¼Œé€šè¿‡è¿™ç»„è§„èŒƒå®šä¹‰äº†ç¨‹åºä¸­çš„å„ä¸ªå˜é‡ (å…¶ä¸­åŒ…æ‹¬ï¼šå®ä¾‹å­—æ®µã€é™æ€å­—æ®µã€æ•°ç»„ç­‰) çš„è®¿é—®æ–¹å¼ï¼Œç”±äº <code>JVM</code>  è¿è¡Œç¨‹åºçš„å®ä½“æ˜¯çº¿ç¨‹ï¼Œè€Œæ¯ä¸ªçº¿ç¨‹åˆ›å»ºæ—¶ <code>JVM</code>  éƒ½ä¼šä¸ºå…¶åˆ›å»ºä¸€ä¸ªå·¥ä½œå†…å­˜æœ‰æ—¶å€™ä¹Ÿä¼šè¢«ç§°ä¸ºæ ˆç©ºé—´ï¼Œç”¨äºå­˜å‚¨çº¿ç¨‹ç§æœ‰æ•°æ®ï¼Œè€Œ <code>Java</code>  å†…å­˜æ¨¡å‹ä¸­è§„å®šäº†æ‰€æœ‰å˜é‡éƒ½è¦å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼Œä¸»å†…å­˜æ˜¯å…±äº«å†…å­˜åŒºåŸŸï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½å¯ä»¥è¿›è¡Œè®¿é—®ï¼Œä½†çº¿ç¨‹å¯¹å˜é‡çš„æ“ä½œ (è¯»å–èµ‹å€¼ç­‰æ“ä½œ) å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œæ‰å¯ä»¥ï¼Œé¦–å…ˆä¼šå°†å˜é‡ä»ä¸»å†…å­˜æ‹·è´åˆ°è‡ªå·±çš„å·¥ä½œå†…å­˜ç©ºé—´ä¸­ï¼Œç„¶åå¯¹å˜é‡è¿›è¡Œæ“ä½œï¼Œæ“ä½œå®Œæˆåå†å°†å˜é‡å†™å›ä¸»å†…å­˜ï¼Œä¸èƒ½ç›´æ¥æ“ä½œä¸»å†…å­˜ä¸­çš„å˜é‡ï¼Œå·¥ä½œå†…å­˜ä¸­å­˜å‚¨ç€ä¸»å†…å­˜ä¸­çš„å˜é‡å‰¯æœ¬æ•°æ®ï¼Œåœ¨å‰é¢è¯´è¿‡ï¼Œå·¥ä½œå†…å­˜æ˜¯æ¯ä¸ªçº¿ç¨‹çš„ç§æœ‰æ•°æ®åŒºåŸŸï¼Œå› æ­¤ä¸åŒçš„çº¿ç¨‹é—´æ— æ³•è®¿é—®å¯¹æ–¹çš„å·¥ä½œå†…å­˜ï¼Œçº¿ç¨‹é—´çš„é€šä¿¡å¿…é¡»é€šè¿‡ä¸»å†…å­˜æ¥å®Œæˆï¼Œè¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š</p>\n</blockquote>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/19/piop9xO.png\" alt=\"piop9xO.png\" /></p>\n<blockquote>\n<p>æ³¨æ„ï¼š <code>JMM</code>  ä¸ <code>Java</code>  å†…å­˜åŒºåŸŸçš„åˆ’åˆ†æ˜¯ä¸åŒçš„æ¦‚å¿µå±‚æ¬¡ï¼Œæ›´æ°å½“æ¥è¯´ <code>JMM</code>  æè¿°çš„æ˜¯ä¸€ç»„è§„åˆ™ï¼Œé€šè¿‡è¿™ç»„è§„åˆ™æ¥æ§åˆ¶ç¨‹åºä¸­çš„å„ä¸ªå˜é‡åœ¨å…±äº«æ•°æ®åŒºåŸŸå’Œç§æœ‰æ•°æ®åŒºåŸŸçš„è®¿é—®æ–¹å¼ï¼Œ <code>JMM</code>  æ˜¯å›´ç»•åŸå­æ€§ã€æœ‰åºæ€§ã€å¯è§æ€§å±•å¼€çš„ã€‚ <code>Java</code>  å†…å­˜æ¨¡å‹ä¸ <code>Java</code>  å†…å­˜åŒºåŸŸå”¯ä¸€ç›¸ä¼¼çš„æ˜¯éƒ½å­˜åœ¨å…±äº«å’Œç§æœ‰æ•°æ®åŒºåŸŸï¼Œåœ¨ <code>JMM</code>  ä¸­ä¸»å†…å­˜å±äºå…±äº«æ•°æ®åŒºåŸŸï¼Œä»æŸä¸ªç¨‹åº¦ä¸Šè®²åº”è¯¥åŒ…æ‹¬äº†å †å’Œæ–¹æ³•åŒºï¼Œè€Œå·¥ä½œå†…å­˜å’Œçº¿ç¨‹ç§æœ‰æ•°æ®åŒºåŸŸï¼Œä»æŸä¸ªç¨‹åº¦ä¸Šè®²åº”è¯¥åŒ…æ‹¬ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆåŠæœ¬åœ°æ–¹æ³•æ ˆã€‚åœ¨æŸäº›åœ°æ–¹æˆ‘ä»¬ä¼šçœ‹åˆ°ä¸»å†…å­˜ä¼šè¢«æè¿°ä¸ºå †å†…å­˜ï¼Œå·¥ä½œå†…å­˜è¢«æè¿°ä¸ºçº¿ç¨‹æ ˆï¼Œå®é™…ä¸Šå®ƒä»¬è¡¨è¾¾çš„éƒ½æ˜¯åŒä¸€ä¸ªå«ä¹‰ï¼Œ <code>JMM</code>  ä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜è¯¦ç»†ä»‹ç»å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<ul>\n<li>ä¸»å†…å­˜ï¼š\n<ul>\n<li>å…¶ä¸»è¦å­˜å‚¨çš„æ˜¯ <code>Java</code>  å®ä¾‹å¯¹è±¡ï¼Œæ‰€æœ‰çº¿ç¨‹åˆ›å»ºçš„å®ä¾‹å¯¹è±¡éƒ½å­˜æ”¾åœ¨ä¸»å†…å­˜ä¸­ï¼Œä¸ç®¡è¯¥å®ä¾‹å¯¹è±¡æ˜¯æˆå‘˜å˜é‡è¿˜æ˜¯å±€éƒ¨å˜é‡ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬å…±äº«çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ï¼Œç”±äºæ˜¯å…±äº«æ•°æ®åŒºåŸŸï¼Œå¤šæ¡çº¿ç¨‹å¯¹åŒä¸€ä¸ªå˜é‡è¿›è¡Œè®¿é—®å¯èƒ½ä¼šå‘ç”Ÿçº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</li>\n</ul>\n</li>\n<li>å·¥ä½œå†…å­˜ï¼š\n<ul>\n<li>å…¶ä¸»è¦å­˜å‚¨å½“å‰æ–¹æ³•çš„æ‰€æœ‰æœ¬åœ°å˜é‡ä¿¡æ¯ (åŒ…å«ä»ä¸»å†…å­˜ä¸­æ‹·è´çš„å˜é‡å‰¯æœ¬)ï¼Œæ¯ä¸ªçº¿ç¨‹åªèƒ½è®¿é—®è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œå³ï¼šçº¿ç¨‹ä¸­çš„æœ¬åœ°å˜é‡å¯¹å…¶å®ƒçº¿ç¨‹æ˜¯ä¸å¯è§çš„ï¼Œå°±ç®—æ˜¯ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡ŒåŒä¸€æ®µä»£ç ï¼Œå®ƒä»¬ä¹Ÿä¼šåœ¨å„è‡ªçš„å·¥ä½œå†…å­˜ä¸­åˆ›å»ºå±äºå½“å‰çº¿ç¨‹çš„æœ¬åœ°å˜é‡ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬å­—èŠ‚ç è¡Œå·æŒ‡ç¤ºå™¨å’Œ <code>Native</code>  ç›¸å…³æ–¹æ³•ä¿¡æ¯ï¼Œç”±äºå·¥ä½œå†…å­˜æ˜¯æ¯ä¸ªçº¿ç¨‹çš„ç§æœ‰æ•°æ®ï¼Œçº¿ç¨‹é—´æ— æ³•äº’ç›¸è®¿é—®ï¼Œå› æ­¤å­˜å‚¨åœ¨å·¥ä½œå†…å­˜çš„æ•°æ®ä¸å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜çš„æ•°æ®å­˜å‚¨ç±»å‹\"><a class=\"anchor\" href=\"#ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜çš„æ•°æ®å­˜å‚¨ç±»å‹\">#</a> ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜çš„æ•°æ®å­˜å‚¨ç±»å‹</h2>\n<blockquote>\n<p>åœ¨ä¸Šé¢äº†è§£äº†ä¸»å†…å­˜å’Œå·¥ä½œå†…å­˜åï¼Œä¸‹é¢å°†æ¥çœ‹ä¸€ä¸‹å®ƒä»¬çš„æ•°æ®å­˜å‚¨ç±»å‹åŠæ“ä½œæ–¹å¼ï¼Œæ ¹æ® <code>Java</code>  è™šæ‹Ÿæœºè§„èŒƒï¼Œå¯¹äºä¸€ä¸ªå®ä¾‹å¯¹è±¡ä¸­çš„æˆå‘˜æ–¹æ³•è€Œè¨€ï¼Œå¦‚æœæ–¹æ³•ä¸­åŒ…å«æœ¬åœ°å˜é‡æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ <code>(byteã€shortã€charã€intã€longã€floatã€doubleã€boolean)</code> ï¼Œå°†ä¼šç›´æ¥å­˜å‚¨åœ¨å·¥ä½œå†…å­˜çš„æ ˆå¸§ç»“æ„ä¸­ï¼Œå€˜è‹¥æœ¬åœ°å˜é‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆè¯¥å˜é‡çš„å¼•ç”¨ä¼šå­˜å‚¨åœ¨å·¥ä½œå†…å­˜çš„æ ˆå¸§ä¸­ï¼Œè€Œå¯¹è±¡å®ä¾‹å°†å­˜å‚¨åœ¨ä¸»å†…å­˜çš„å…±äº«æ•°æ®åŒºåŸŸçš„å †ä¸­ã€‚</p>\n</blockquote>\n<blockquote>\n<p>ä½†æ˜¯å¯¹äºå®ä¾‹å¯¹è±¡çš„æˆå‘˜å˜é‡ï¼Œä¸ç®¡å®ƒæ˜¯åŸºæœ¬æ•°æ®ç±»å‹æˆ–å¼•ç”¨ç±»å‹è¿˜æ˜¯åŒ…è£…ç±»å‹ <code>(Intergerã€Double)</code>  ç­‰ï¼Œéƒ½ä¼šè¢«å­˜å‚¨åˆ°å †ä¸­ï¼Œè‡³äº <code>static</code>  é™æ€å˜é‡ä»¥åŠç±»æœ¬èº«ç›¸å…³ä¿¡æ¯å°†ä¼šå­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ã€‚éœ€è¦æ³¨æ„ï¼šåœ¨ä¸»å†…å­˜ä¸­çš„å®ä¾‹å¯¹è±¡å¯ä»¥è¢«å¤šçº¿ç¨‹å…±äº«ï¼Œå¦‚æœä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨åŒä¸€ä¸ªå¯¹è±¡çš„åŒä¸€ä¸ªæ–¹æ³•æ—¶ä¸¤æ¡çº¿ç¨‹ä¼šå°†è¦æ“ä½œçš„æ•°æ®æ‹·è´åˆ°è‡ªå·±çš„å·¥ä½œå†…å­˜ä¸­ï¼Œåœ¨æ‰§è¡Œå®Œæˆåä¼šå†™å›åˆ°ä¸»å†…å­˜ä»è€Œå®ç°æ•°æ®ä¿®æ”¹æ“ä½œã€‚</p>\n</blockquote>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/19/pio9O41.png\" alt=\"pio9O41.png\" /></p>\n<h1 id=\"javaå†…å­˜ä¸ç¡¬ä»¶å†…å­˜\"><a class=\"anchor\" href=\"#javaå†…å­˜ä¸ç¡¬ä»¶å†…å­˜\">#</a> Java å†…å­˜ä¸ç¡¬ä»¶å†…å­˜</h1>\n<h2 id=\"ç¡¬ä»¶å†…å­˜æ¶æ„\"><a class=\"anchor\" href=\"#ç¡¬ä»¶å†…å­˜æ¶æ„\">#</a> ç¡¬ä»¶å†…å­˜æ¶æ„</h2>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/20/pioiynO.png\" alt=\"pioiynO.png\" /></p>\n<blockquote>\n<p>ä¸Šå›¾ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œçœå»äº†å—åŒ—æ¡¥å¹¶å°†ä¸‰çº§ç¼“å­˜ç»Ÿç§°ä¸º <code>CPU</code>  ç¼“å­˜ï¼Œå¯¹äºç›®å‰è®¡ç®—æœºè€Œè¨€ï¼Œæ¯ä¸ª <code>CPU</code>  éƒ½å­˜åœ¨å¤šä¸ªæ ¸å¿ƒï¼Œå¤šæ ¸æŒ‡çš„æ˜¯åœ¨ä¸€æšå¤„ç†å™¨ä¸­é›†æˆå¤šä¸ªå®Œæ•´è®¡ç®—å¼•æ“ <code>(å†…æ ¸)</code> ï¼Œè¿™æ ·å°±å¯ä»¥æ”¯æŒå¤šä»»åŠ¡å¹¶è¡Œæ‰§è¡Œï¼Œä»å¤šçº¿ç¨‹è§’åº¦æ¥è®²ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæ˜ å°„åˆ°å„ä¸ª <code>CPU</code>  æ ¸å¿ƒä¸­å¹¶è¡Œæ‰§è¡Œã€‚</p>\n</blockquote>\n<blockquote>\n<p>åœ¨å¤„ç†å™¨å†…éƒ¨æœ‰ä¸€ç»„ <code>CPU</code>  å¯„å­˜å™¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸´æ—¶å­˜æ”¾æ•°æ®çš„ç©ºé—´ï¼Œä¸€èˆ¬å¤„ç†å™¨éƒ½ä¼šä»å†…å­˜å–æ•°æ®åˆ°å¯„å­˜å™¨ï¼Œç„¶åå¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œä½†ç”±äºå†…å­˜çš„å¤„ç†é€Ÿåº¦è¿œä½äº <code>CPU</code>  è¿™å°±å¯¼è‡´å¤„ç†å™¨åœ¨å¤„ç†æŒ‡ä»¤æ—¶å¾€å¾€èŠ±è´¹å¾ˆå¤šæ—¶é—´åœ¨ç­‰å¾…å†…å­˜åšå‡†å¤‡å·¥ä½œï¼Œäºæ˜¯åœ¨å¯„å­˜å™¨å’Œä¸»å†…å­˜é—´æ·»åŠ äº† <code>CPU</code>  ç¼“å­˜ï¼Œ <code>CPU</code>  ç¼“å­˜å¾ˆå°ä½†è®¿é—®é€Ÿåº¦è¿œæ¯”ä¸»å†…å­˜å¿«çš„å¤šã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¦‚æœå¤„ç†å™¨æ€»æ˜¯æ“ä½œä¸»å†…å­˜ä¸­çš„åŒä¸€åœ°å€æ•°æ®ï¼Œå°±å¾ˆå®¹æ˜“å½±å“å¤„ç†å™¨æ‰§è¡Œé€Ÿåº¦ï¼Œæ­¤æ—¶ <code>CPU</code>  ç¼“å­˜å°±å¯ä»¥æŠŠå†…å­˜çš„æ•°æ®æš‚æ—¶å­˜èµ·æ¥ï¼Œå¦‚æœå¯„å­˜å™¨è¦å–å†…å­˜ä¸­çš„åŒä¸€ä¸ªä½ç½®çš„æ•°æ®ï¼Œå°±å¯ç›´æ¥ä» <code>CPU</code>  ç¼“å­˜ä¸­å–å‡ºï¼Œæ— éœ€å†è·‘åˆ°ä¸»å†…å­˜ä¸­å»å–ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æ³¨æ„ï¼šå¯„å­˜å™¨å¹¶ä¸æ˜¯æ¯æ¬¡æ•°æ®éƒ½å¯ä»¥ä»ç¼“å­˜ä¸­å–åˆ°ï¼Œå¦‚æœä¸æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ä¸­çš„æ•°æ®ï¼Œé‚£ä¹ˆå¯„å­˜å™¨è¿˜å¿…é¡»å¾—ç»•è¿‡ç¼“å­˜ä»å†…å­˜ä¸­å–æ•°æ®ï¼Œè¿™ç§ç°è±¡å«åšç¼“å­˜å‘½ä¸­ç‡ï¼Œä»ç¼“å­˜ä¸­å¯ä»¥å–åˆ°æ•°æ®å°±ä»£è¡¨å‘½ä¸­ï¼Œåˆ™è€Œåä¹‹å°±æ˜¯ä»å†…å­˜ä¸­å–å°±ä»£è¡¨æ²¡å‘½ä¸­ï¼Œç¼“å­˜å‘½ä¸­ç‡çš„é«˜ä½ä¹Ÿä¼šå½±å“å¤„ç†å™¨æ‰§è¡Œæ•ˆç‡ï¼Œè¿™å°±æ˜¯ <code>CPU(å¤„ç†å™¨)</code> ã€ç¼“å­˜ã€ä»¥åŠä¸»å†…å­˜çš„æ•°æ®äº¤äº’ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æ€»è€Œè¨€ä¹‹å½“ä¸€ä¸ª <code>CPU</code>  éœ€è¦è®¿é—®ä¸»å†…å­˜æ—¶ï¼Œä¼šå…ˆè¯»å–ä¸€éƒ¨åˆ†ä¸»å†…å­˜ä¸­çš„æ•°æ®åˆ° <code>CPU</code>  ç¼“å­˜ï¼Œå¦‚æœ <code>CPU</code>  ç¼“å­˜ä¸­å­˜åœ¨éœ€è¦çš„æ•°æ®å°±ä¼šç›´æ¥ä»ç¼“å­˜ä¸­è·å–ï¼Œè¿›è€Œåœ¨è¯»å– <code>CPU</code>  ç¼“å­˜åˆ°å¯„å­˜å™¨ï¼Œå½“ <code>CPU</code>  éœ€è¦å†™æ•°æ®åˆ°ä¸»å†…å­˜æ—¶ï¼ŒåŒæ ·ä¼šå…ˆåˆ·æ–°å¯„å­˜å™¨ä¸­çš„æ•°æ®åˆ° <code>CPU</code>  ç¼“å­˜ï¼Œç„¶åå†æŠŠæ•°æ®åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ã€‚</p>\n</blockquote>\n<h2 id=\"çº¿ç¨‹ä¸ç¡¬ä»¶å¤„ç†å™¨\"><a class=\"anchor\" href=\"#çº¿ç¨‹ä¸ç¡¬ä»¶å¤„ç†å™¨\">#</a> çº¿ç¨‹ä¸ç¡¬ä»¶å¤„ç†å™¨</h2>\n<blockquote>\n<p><code>Java</code>  çº¿ç¨‹çš„å®ç°æ˜¯åŸºäºä¸€å¯¹ä¸€çš„çº¿ç¨‹æ¨¡å‹ï¼Œæ‰€è°“çš„ä¸€å¯¹ä¸€æ¨¡å‹å°±æ˜¯é€šè¿‡è¯­è¨€çº§åˆ«å±‚é¢ç¨‹åºå»é—´æ¥è°ƒç”¨ç³»ç»Ÿå†…æ ¸çš„çº¿ç¨‹æ¨¡å‹ (å³æˆ‘ä»¬ä½¿ç”¨ <code>Java</code>  çº¿ç¨‹æ—¶), åœ¨ <code>Java</code>  è™šæ‹Ÿæœºå†…éƒ¨æ˜¯è½¬è€Œè°ƒç”¨å½“å‰æ“ä½œç³»ç»Ÿçš„ <code>å†…æ ¸çº¿ç¨‹(Kernel-Level Thread,kLT)</code>  æ¥å®Œæˆå½“å‰ä»»åŠ¡ï¼Œå®ƒæ˜¯ç”±æ“ä½œç³»ç»Ÿ <code>å†…æ ¸(Kernel)</code>  æ”¯æŒçš„çº¿ç¨‹ï¼Œè¿™ç§çº¿ç¨‹æ˜¯ç”±æ“ä½œç³»ç»Ÿå†…æ ¸æ¥å®Œæˆçº¿ç¨‹åˆ‡æ¢ï¼Œå†…æ ¸é€šè¿‡æ“ä½œè°ƒåº¦å™¨è¿›è€Œå¯¹çº¿ç¨‹æ‰§è¡Œè°ƒåº¦ï¼Œå¹¶å°†çº¿ç¨‹çš„ä»»åŠ¡æ˜ å°„åˆ°å„ä¸ªå¤„ç†å™¨ä¸Šã€‚</p>\n</blockquote>\n<blockquote>\n<p>æ¯ä¸ªå†…æ ¸çº¿ç¨‹å¯ä»¥è¢«è§†ä¸ºå†…æ ¸çš„ä¸€ä¸ªåˆ†èº«ï¼Œè¿™ä¹Ÿå°±æ˜¯æ“ä½œç³»ç»Ÿå¯ä»¥åŒæ—¶å¤„ç†å¤šä»»åŠ¡çš„åŸå› ï¼Œç”±äºæˆ‘ä»¬ç¼–å†™çš„å¤šçº¿ç¨‹ç¨‹åºå±äºè¯­è¨€å±‚é¢ï¼Œç¨‹åºä¸€èˆ¬ä¸ä¼šç›´æ¥å»è°ƒç”¨å†…æ ¸çº¿ç¨‹ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸€ç§è½»é‡çº§ <code>è¿›ç¨‹(Light Weight Process)</code> ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„çº¿ç¨‹ï¼Œç”±äºæ¯ä¸ªè½»é‡çº§è¿›ç¨‹éƒ½ä¼šæ˜ å°„åˆ°ä¸€ä¸ªå†…æ ¸çº¿ç¨‹ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡è½»é‡çº§è¿›ç¨‹æ¥è°ƒç”¨å†…æ ¸çº¿ç¨‹ï¼Œè¿›è€Œç”±æ“ä½œç³»ç»Ÿå†…æ ¸å°†ä»»åŠ¡æ˜ å°„åˆ°å„ä¸ªå¤„ç†å™¨ï¼Œè¿™ç§è½»é‡çº§è¿›ç¨‹ä¸å†…æ ¸çº¿ç¨‹é—´çš„ä¸€å¯¹ä¸€å…³ç³»å°±è¢«ç§°ä¸ºä¸€å¯¹ä¸€çš„çº¿ç¨‹æ¨¡å‹ã€‚</p>\n</blockquote>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/20/piojxQe.png\" alt=\"piojxQe.png\" /></p>\n<blockquote>\n<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ¯ä¸ªçº¿ç¨‹æœ€ç»ˆéƒ½ä¼šæ˜ å°„åˆ° <code>CPU</code>  ä¸­è¿›è¡Œå¤„ç†ï¼Œå¦‚æœ <code>CPU</code>  å­˜åœ¨å¤šæ ¸é‚£ä¹ˆä¸€ä¸ª <code>CPU</code>  å°†å¯ä»¥å¹¶è¡Œæ‰§è¡Œå¤šä¸ªçº¿ç¨‹ä»»åŠ¡ã€‚</p>\n</blockquote>\n<h2 id=\"å†…å­˜æ¨¡å‹ä¸å†…å­˜æ¶æ„å…³ç³»\"><a class=\"anchor\" href=\"#å†…å­˜æ¨¡å‹ä¸å†…å­˜æ¶æ„å…³ç³»\">#</a> å†…å­˜æ¨¡å‹ä¸å†…å­˜æ¶æ„å…³ç³»</h2>\n<blockquote>\n<p>åœ¨äº†è§£äº†å‰é¢çš„ç¡¬ä»¶å†…å­˜æ¶æ„å’Œ <code>Java</code>  å†…å­˜æ¨¡å‹åŠ <code>Java</code>  å¤šçº¿ç¨‹çš„å®ç°åŸç†åï¼Œæˆ‘ä»¬å·²ç»æ„è¯†åˆ°å¤šçº¿ç¨‹çš„æ‰§è¡Œæœ€ç»ˆéƒ½ä¼šæ˜ å°„åˆ°ç¡¬ä»¶å¤„ç†å™¨ä¸Šè¿›è¡Œæ‰§è¡Œï¼Œä½† <code>Java</code>  å†…å­˜æ¨¡å‹å’Œç¡¬ä»¶å†…å­˜æ¶æ„å¹¶ä¸å®Œå…¨ä¸€è‡´ï¼Œå¯¹äºç¡¬ä»¶å†…å­˜æ¥è¯´åªæœ‰å¯„å­˜å™¨ã€ç¼“å­˜ã€ä¸»å†…å­˜çš„æ¦‚å¿µï¼Œå¹¶æ²¡æœ‰å·¥ä½œå†…å­˜ (ç§æœ‰æ•°æ®åŒºåŸŸ) å’Œä¸»å†…å­˜ (å †å†…å­˜) ä¹‹åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>Java</code>  å†…å­˜æ¨¡å‹çš„å†…å­˜åˆ’åˆ†å¯¹ç¡¬ä»¶å†…å­˜å¹¶æ²¡æœ‰ä»»ä½•å½±å“ï¼Œå› ä¸º <code>JMM</code>  åªæ˜¯ä¸€ç§æŠ½è±¡æ¦‚å¿µï¼Œæ˜¯ä¸€ç»„è§„åˆ™å¹¶ä¸å­˜åœ¨ï¼Œä¸ç®¡æ˜¯å·¥ä½œå†…å­˜çš„æ•°æ®è¿˜æ˜¯ä¸»å†…å­˜çš„æ•°æ®ï¼Œå¯¹äºè®¡ç®—æœºç¡¬ä»¶æ¥è®²éƒ½ä¼šå­˜å‚¨åœ¨è®¡ç®—æœºä¸»å†…å­˜ä¸­ï¼Œå½“ç„¶ä¹Ÿæœ‰å¯èƒ½å­˜å‚¨åˆ° <code>CPU</code>  ç¼“å­˜æˆ–å¯„å­˜å™¨ä¸­ï¼Œå› æ­¤æ€»ä½“æ¥è®² <code>Java</code>  å†…å­˜æ¨¡å‹å’Œè®¡ç®—æœºç¡¬ä»¶å†…å­˜æ¶æ„æ˜¯ä¸€ä¸ªç›¸äº’äº¤å‰çš„å…³ç³»ï¼Œæ˜¯ä¸€ç§æŠ½è±¡æ¦‚å¿µåˆ’åˆ†ä¸çœŸå®ç‰©ç†ç¡¬ä»¶çš„äº¤å‰ï¼Œå¯¹äº <code>Jav</code>  å†…å­˜åŒºåŸŸåˆ’åˆ†ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ã€‚</p>\n</blockquote>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/21/pioxUgS.png\" alt=\"pioxUgS.png\" /></p>\n<h1 id=\"æŒ‡ä»¤é‡æ’\"><a class=\"anchor\" href=\"#æŒ‡ä»¤é‡æ’\">#</a> æŒ‡ä»¤é‡æ’</h1>\n<blockquote>\n<p>æŒ‡ä»¤é‡æ’æ˜¯ä»€ä¹ˆï¼Ÿç®€å•æ¥è¯´å°±æ˜¯æ“ä½œç³»ç»Ÿåœ¨æ‰§è¡Œä»£ç çš„æ—¶å€™å¹¶ä¸ä¸€å®šæŒ‰ç…§ä½ çš„ä»£ç é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</p>\n</blockquote>\n<ul>\n<li>è®¡ç®—æœºåœ¨æ‰§è¡Œç¨‹åºæ—¶ä¸ºäº†æé«˜æ€§èƒ½ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¸¸å¸¸ä¼šå¯¹æŒ‡ä»¤åšé‡æ’åºåˆ—æ“ä½œï¼Œå¹¶åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š\n<ul>\n<li><code>ç¼–è¯‘å™¨ä¼˜åŒ–é‡æ’</code> ï¼šç¼–è¯‘å™¨åœ¨ä¸æ”¹å˜å•çº¿ç¨‹ç¨‹åºçš„å‰æä¸‹ï¼Œå¯ä»¥é‡æ–°å®‰æ’æŒ‡ä»¤è¯­å¥çš„æ‰§è¡Œé¡ºåºã€‚</li>\n<li><code>æŒ‡ä»¤å¹¶è¡Œé‡æ’</code> ï¼šç°ä»£å¤„ç†å™¨é‡‡ç”¨äº†æŒ‡ä»¤çº§å¹¶è¡ŒæŠ€æœ¯æ¥å°†å¤šæ¡æŒ‡ä»¤é‡å æ‰§è¡Œï¼Œå¦‚æœä¸å­˜åœ¨æ•°æ®ä¾èµ–æ€§ (å³ï¼šåé¢çš„æ‰§è¡Œè¯­å¥ä¸ä¾èµ–äºå‰é¢æ‰§è¡Œè¯­å¥çš„ç»“æœ)ï¼Œå¤„ç†å™¨å¯ä»¥æ”¹å˜è¯­å¥å¯¹åº”çš„æœºå™¨æŒ‡ä»¤çš„æ‰§è¡Œé¡ºåºã€‚</li>\n<li><code>å†…å­˜ç³»ç»Ÿé‡æ’</code> ï¼šç”±äºå¤„ç†å™¨ä½¿ç”¨ç¼“å­˜å’Œè¯»å†™ç¼“å†²åŒºï¼Œè¿™ä½¿å¾—åŠ è½½å’Œå­˜å‚¨æ“ä½œçœ‹ä¸Šå»å°±åƒæ˜¯åœ¨ä¹±åºæ‰§è¡Œï¼Œå› ä¸ºä¸‰çº§ç¼“å­˜çš„å­˜åœ¨ï¼Œå¯¼è‡´å†…å­˜ä¸ç¼“å­˜çš„æ•°æ®åŒæ­¥å­˜åœ¨æ—¶é—´å·®ã€‚</li>\n</ul>\n</li>\n<li><code>Java</code>  æºä»£ç ä¼šç»å† <code>ç¼–è¯‘å™¨ä¼˜åŒ–é‡æ’</code> â¡ï¸ <code>æŒ‡ä»¤å¹¶è¡Œé‡æ’</code> â¡ï¸ <code>å†…å­˜ç³»ç»Ÿé‡æ’</code> çš„è¿‡ç¨‹æœ€ç»ˆæ‰å˜æˆæ“ä½œç³»ç»Ÿå¯æ‰§è¡Œçš„æŒ‡ä»¤é¡ºåºï¼Œå¦å¤–æŒ‡ä»¤é‡æ’åºå¯ä»¥ä¿è¯ä¸²è¡Œè¯­ä¹‰ä¸€è‡´ï¼Œä½†æ˜¯æ²¡æœ‰ä¹‰åŠ¡ä¿è¯å¤šçº¿ç¨‹ä¹‹é—´çš„è¯­ä¹‰ä¸€è‡´ï¼Œæ‰€ä»¥åœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼ŒæŒ‡ä»¤é‡æ’å°±ä¼šå¯èƒ½å¯¼è‡´ä¸€äº›é—®é¢˜çš„å‘ç”Ÿã€‚</li>\n<li>ç¼–è¯‘å™¨å’Œå¤„ç†å™¨çš„æŒ‡ä»¤é‡æ’å¤„ç†æ–¹å¼æ˜¯ä¸åŒçš„ï¼Œå¯¹äºç¼–è¯‘å™¨ï¼Œé€šè¿‡ç¦æ­¢ç‰¹å®šç±»å‹çš„ç¼–è¯‘å™¨é‡æ’åºçš„æ–¹å¼æ¥ç¦æ­¢é‡æ’åºã€‚å¯¹äºå¤„ç†å™¨ï¼Œé€šè¿‡æ’å…¥å†…å­˜å±éšœ <code>(Memory Barrieråˆè¢«ç§°ä¸ºå†…å­˜æ …æ æˆ–Memory Fence)</code>  çš„æ–¹å¼æ¥ç¦æ­¢ç‰¹å®šç±»å‹çš„å¤„ç†å™¨é‡æ’åºï¼ŒæŒ‡ä»¤å¹¶è¡Œé‡æ’å’Œå†…å­˜ç³»ç»Ÿé‡æ’éƒ½å±äºå¤„ç†å™¨çº§åˆ«çš„æŒ‡ä»¤é‡æ’åºã€‚\n<ul>\n<li><code>Memory Barrier(å†…å­˜å±éšœ)</code> ï¼šå®ƒæ˜¯ä¸€ç§ <code>CPU</code>  æŒ‡ä»¤ï¼Œç”¨æ¥ç¦æ­¢å¤„ç†å™¨æŒ‡ä»¤å‘ç”Ÿé‡æ’åº (åƒå±éšœä¸€æ ·)ï¼Œä»è€Œä¿éšœæŒ‡ä»¤æ‰§è¡Œçš„æœ‰åºæ€§ï¼Œå¦å¤–ä¸ºäº†è¾¾åˆ°å±éšœæ•ˆæœï¼Œå®ƒä¹Ÿä¼šä½¿å¤„ç†å™¨å†™å…¥ã€è¯»å–å€¼ä¹‹å‰å°†ä¸»å†…å­˜çš„å€¼å†™å…¥é«˜é€Ÿç¼“å­˜å¹¶æ¸…ç©ºæ— æ•ˆé˜Ÿåˆ—ï¼Œä»è€Œä¿è¯å˜é‡çš„å¯è§æ€§ã€‚</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>CommandDisorder.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: æŒ‡ä»¤é‡æ’ç¤ºä¾‹ä»£ç </pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-22 00:21</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * æŒ‡ä»¤é‡æ’æµ‹è¯•</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CommandDisorder</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>   * å½“ä½¿ç”¨ volatile å…³é”®è¯ä¿®é¥°å˜é‡æ—¶ï¼Œåˆ™ä¸ä¼šå‡ºç°æŒ‡ä»¤é‡æ’ç°è±¡</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token comment\">/*volatile*/</span> <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> b <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> c <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> d <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>   * æµ‹è¯•æ–¹å¼ï¼šä¸€æ¬¡å¼€å¯ä¸¤ä¸ªçº¿ç¨‹ï¼ŒåŒæ—¶ä¿®æ”¹å˜é‡</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      a <span class=\"token operator\">=</span> b <span class=\"token operator\">=</span> c <span class=\"token operator\">=</span> d <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>      <span class=\"token class-name\">Thread</span> t1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">// æŒ‡ä»¤é‡æ’ï¼Œä¼šå…ˆæ‰§è¡Œè¿™è¡Œä»£ç ï¼Œå¯¼è‡´ c = 0, d = 0</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        c <span class=\"token operator\">=</span> b<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>      <span class=\"token class-name\">Thread</span> t2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\">// æŒ‡ä»¤é‡æ’ï¼Œä¼šå…ˆæ‰§è¡Œè¿™è¡Œä»£ç ï¼Œå¯¼è‡´ c = 0, d = 0</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        b <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        d <span class=\"token operator\">=</span> a<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>      t1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>      t2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>      t1<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>      t2<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> d <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¬¬%sæ¬¡å‡ºç°æŒ‡ä»¤é‡æ’%n\"</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>                1</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>                2</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>                3</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>                4</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>                ...</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>                56145</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>                56146</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>                56147</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>                ç¬¬ 56148 æ¬¡å‡ºç°æŒ‡ä»¤é‡æ’</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸Šè¿°ä»£ç å°±æ˜¯ç”¨äºæµ‹è¯•æŒ‡ä»¤é‡æ’ä¼šåœ¨ä»€ä¹ˆæ—¶å€™å‘ç”Ÿï¼ŒæŒ‡ä»¤é‡æ’ä¼šåœ¨å¤šå°‘æ¬¡åè¿›è¡Œé‡æ’æ“ä½œéƒ½æ˜¯ä¸ç¡®å®šçš„ï¼Œåœ¨çœŸå®ä¸šåŠ¡ä¸­æƒ³è¦é¿å…æŒ‡ä»¤é‡æ’è¯·åŠ ä¸Š <code>volatile</code>  å…³é”®å­—ï¼Œæ¥ä¿è¯å˜é‡åœ¨çº¿ç¨‹é—´çš„å¯è§æ€§ã€‚</p>\n</blockquote>\n<h1 id=\"jmmjava-memory-model\"><a class=\"anchor\" href=\"#jmmjava-memory-model\">#</a> JMM(Java Memory Model)</h1>\n<h2 id=\"jmmåˆ°åº•æ˜¯ä»€ä¹ˆ\"><a class=\"anchor\" href=\"#jmmåˆ°åº•æ˜¯ä»€ä¹ˆ\">#</a> JMM åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h2>\n<blockquote>\n<p><code>Java</code>  æ˜¯æœ€æ—©å°è¯•æä¾›å†…å­˜æ¨¡å‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œç”±äºæ—©æœŸå†…å­˜æ¨¡å‹å­˜åœ¨ä¸€äº›ç¼ºé™· (ä¾‹å¦‚éå¸¸å®¹æ˜“å‰Šå¼±ç¼–è¯‘å™¨çš„ä¼˜åŒ–)ï¼Œè‡ª <code>Java 5</code>  å¼€å§‹ï¼Œ <code>Java</code>  å¼€å§‹ä½¿ç”¨æ–°çš„å†…å­˜æ¨¡å‹ <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5jcy51bWQuZWR1L35wdWdoL2phdmEvbWVtb3J5TW9kZWwvQ29tbXVuaXR5UmV2aWV3LnBkZg==\">ã€ŠJSR-133ï¼šJava Memory Model and Thread Specificationã€‹</span>ã€‚ä¸€èˆ¬æ¥è®²ï¼Œç¼–ç¨‹è¯­è¨€ä¹Ÿå¯ä»¥ç›´æ¥å¤ç”¨æ“ä½œç³»ç»Ÿå±‚é¢çš„å†…å­˜æ¨¡å‹ï¼Œä¸è¿‡ä¸åŒçš„æ“ä½œç³»ç»Ÿå†…å­˜æ¨¡å‹æ˜¯ä¸åŒçš„ã€‚å¦‚æœç›´æ¥å¤ç”¨æ“ä½œç³»ç»Ÿå±‚é¢çš„å†…å­˜æ¨¡å‹ï¼Œå°±å¯èƒ½ä¼šå¯¼è‡´åŒæ ·ä¸€å¥—ä»£ç æ¢äº†ä¸€ä¸ªæ“ä½œç³»ç»Ÿå°±æ— æ³•æ‰§è¡Œäº†ã€‚ <code>Java</code>  è¯­è¨€æ˜¯è·¨å¹³å°çš„ï¼Œå®ƒéœ€è¦è‡ªå·±æä¾›ä¸€å¥—å†…å­˜æ¨¡å‹ä»¥å±è”½ç³»ç»Ÿå·®å¼‚ã€‚</p>\n</blockquote>\n<blockquote>\n<p>è¿™åªæ˜¯ <code>JMM</code>  å­˜åœ¨çš„å…¶ä¸­ä¸€ä¸ªåŸå› ï¼Œå®é™…ä¸Šå¯¹äº <code>Java</code>  æ¥è¯´ï¼Œä½ å¯ä»¥æŠŠ <code>JMM</code>  çœ‹åšæ˜¯ <code>Java</code>  å®šä¹‰çš„å¹¶å‘ç¼–ç¨‹ç›¸å…³çš„ä¸€ç»„è§„èŒƒï¼Œé™¤äº†æŠ½è±¡äº†çº¿ç¨‹å’Œä¸»å†…å­˜ä¹‹é—´çš„å…³ç³»ä¹‹å¤–ï¼Œå…¶è¿˜è§„å®šäº†ä» <code>Java</code>  æºä»£ç åˆ° <code>CPU</code>  å¯æ‰§è¡Œå‘½ä»¤çš„è¿™ä¸ªè½¬åŒ–è¿‡ç¨‹è¦éµå®ˆå“ªäº›å’Œå¹¶å‘ç›¸å…³çš„åŸåˆ™å’Œè§„èŒƒï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†ç®€åŒ–å¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œå¢å¼ºç¨‹åºçš„å¯ç§»æ¤æ€§ã€‚</p>\n</blockquote>\n<blockquote>\n<p>ä¸ºä»€ä¹ˆéœ€è¦éµå®ˆå¹¶å‘ç›¸å…³çš„åŸåˆ™å’Œè§„èŒƒï¼Œè¿™æ˜¯å› ä¸ºå¹¶å‘ç¼–ç¨‹ä¸‹åƒ <code>CPU</code>  å¤šçº§ç¼“å­˜å’ŒæŒ‡ä»¤é‡æ’è¿™ç±»è®¾è®¡å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºè¿è¡Œå‡ºç°ä¸€äº›é—®é¢˜ã€‚æ¯”å¦‚æŒ‡ä»¤é‡æ’å°±å¯èƒ½ä¼šè®©å¤šçº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œå‡ºç°é—®é¢˜ï¼Œä¸ºæ­¤ <code>JMM</code>  æŠ½è±¡äº† <code>happens-before</code>  åŸåˆ™æ¥è§£å†³æŒ‡ä»¤é‡æ’é—®é¢˜ã€‚</p>\n</blockquote>\n<blockquote>\n<p><code>JMM</code>  ç®€å•æ¥è¯´å°±æ˜¯å®šä¹‰äº†ä¸€äº›è§„èŒƒæ¥è§£å†³è¿™äº›é—®é¢˜ï¼Œå¼€å‘è€…å¯ä»¥åˆ©ç”¨è¿™äº›è§„åˆ™æ›´æ–¹ä¾¿åœ°å¼€å‘å¤šçº¿ç¨‹ç¨‹åºï¼Œå¯¹äº <code>Java</code>  å¼€å‘è€…æ¥è¯´ä¸éœ€è¦æ·±åº¦äº†è§£åº•å±‚åŸç†ä¹Ÿå¯ä»¥å¼€å‘å‡ºå¹¶å‘å®‰å…¨çš„ç¨‹åºï¼Œä½¿ç”¨å¹¶å‘ç›¸å…³çš„å…³é”®å­—å¦‚ï¼š <code>volatile</code> ã€ <code>synchronized</code> ã€ <code>Lock</code>  ç­‰ï¼Œå³å¯å®ç°å¹¶å‘å®‰å…¨ã€‚</p>\n</blockquote>\n<h2 id=\"jmmå­˜åœ¨çš„å¿…è¦æ€§\"><a class=\"anchor\" href=\"#jmmå­˜åœ¨çš„å¿…è¦æ€§\">#</a> JMM å­˜åœ¨çš„å¿…è¦æ€§</h2>\n<blockquote>\n<p>åœ¨æ˜ç™½äº† <code>Java</code>  å†…å­˜åŒºåŸŸå’Œç¡¬ä»¶å†…å­˜æ¶æ„åŠ <code>Java</code>  å¤šçº¿ç¨‹å®ç°åŸç†ä¸ <code>Java</code>  å†…å­˜æ¨¡å‹çš„å…·ä½“å…³ç³»åï¼Œæ¥çœ‹ <code>Java</code>  å†…å­˜æ¨¡å‹å­˜åœ¨çš„å¿…è¦æ€§ï¼Œç”±äº <code>JVM</code>  è¿è¡Œç¨‹åºçš„å®ä½“æ˜¯çº¿ç¨‹ï¼Œè€Œæ¯ä¸ªçº¿ç¨‹åˆ›å»ºæ—¶ <code>JVM</code>  éƒ½ä¼šä¸ºå…¶åˆ›å»ºä¸€ä¸ªå·¥ä½œå†…å­˜ï¼Œç”¨äºå­˜å‚¨çº¿ç¨‹ç§æœ‰æ•°æ®ï¼Œçº¿ç¨‹ä¸ä¸»å†…å­˜ä¸­çš„å˜é‡æ“ä½œå¿…é¡»é€šè¿‡å·¥ä½œå†…å­˜é—´æ¥å®Œæˆï¼Œä¸»è¦è¿‡ç¨‹æ˜¯å°†å˜é‡ä»ä¸»å†…å­˜æ‹·è´åˆ°æ¯ä¸ªçº¿ç¨‹å„è‡ªçš„å·¥ä½œå†…å­˜ä¸­ï¼Œç„¶åå¯¹å˜é‡è¿›è¡Œæ“ä½œï¼Œæ“ä½œå®Œæˆåå†å°†å˜é‡å†™å›ä¸»å†…å­˜ã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¦‚æœä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹ä¸€ä¸ªä¸»å†…å­˜ä¸­çš„å®ä¾‹å¯¹è±¡å˜é‡è¿›è¡Œæ“ä½œå°±æœ‰å¯èƒ½è¯±å‘çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œè¯·çœ‹ä¸‹å›¾ï¼Œä¸»å†…å­˜ä¸­å­˜åœ¨ä¸€ä¸ªå…±äº«å˜é‡ <code>x</code> , ä½†ç°åœ¨æœ‰ä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«æ˜¯ <code>A</code>  çº¿ç¨‹å’Œ <code>B</code>  çº¿ç¨‹å¯¹è¯¥å˜é‡è¿›è¡Œèµ‹å€¼æ“ä½œ (å¦‚ï¼š <code>x = 100</code> ), <code>A</code>  å’Œ <code>B</code>  æ¯ä¸ªçº¿ç¨‹å„è‡ªçš„å·¥ä½œå†…å­˜ä¸­éƒ½å­˜åœ¨å…±äº«å˜é‡å‰¯æœ¬ <code>x</code> ï¼Œå‡å¦‚ç°åœ¨ <code>A</code>  çº¿ç¨‹æƒ³è¦ä¿®æ”¹ <code>x</code>  å€¼ä¸º <code>150</code> ï¼Œè€Œ <code>B</code>  çº¿ç¨‹å´è¦è¯»å– <code>x</code>  çš„å€¼ï¼Œé‚£ä¹ˆ <code>B</code>  çº¿ç¨‹è¯»å–åˆ°çš„å€¼æ˜¯ <code>A</code>  çº¿ç¨‹æ›´æ–°åçš„æ•°æ®è¿˜æ˜¯æ›´æ–°å‰çš„æ•°æ®å‘¢ï¼Ÿè¿™è°ä¹Ÿä¸çŸ¥é“ï¼Œæœ‰å¯èƒ½ <code>B</code>  çº¿ç¨‹è¯»å–åˆ°æ›´æ–°åçš„ä¹Ÿæœ‰å¯èƒ½è¯»å–åˆ°æ›´æ–°å‰çš„æ•°æ®ï¼Œè¿™æ˜¯å› ä¸ºå·¥ä½œå†…å­˜æ˜¯æ¯ä¸ªçº¿ç¨‹ç§æœ‰æ•°æ®åŒºåŸŸï¼Œè€Œ <code>A</code>  çº¿ç¨‹æ“ä½œå˜é‡ <code>x</code>  æ—¶é¦–å…ˆå°†å˜é‡ä»ä¸»å†…å­˜æ‹·è´ä¸€ä»½åˆ° <code>A</code>  çº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ï¼Œç„¶åå¯¹å…¶å˜é‡è¿›è¡Œèµ‹å€¼æ“ä½œç­‰ï¼Œç­‰æ“ä½œå®Œæˆåå†å°†å˜é‡ <code>x</code>  å†™å›åˆ°ä¸»å†…å­˜ï¼Œå¯¹äº <code>B</code>  çº¿ç¨‹ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œè¿™æ ·å°±æœ‰å¯èƒ½é€ æˆä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜æ•°æ®å­˜åœ¨ä¸€è‡´æ€§é—®é¢˜ã€‚</p>\n</blockquote>\n<blockquote>\n<p>å‡è®¾ <code>A</code>  çº¿ç¨‹ä¿®æ”¹å®Œæˆåæ­£åœ¨å°†æ•°æ®å†™å›ä¸»å†…å­˜ä¸­ï¼Œè€Œ <code>B</code>  çº¿ç¨‹æ­¤æ—¶æ­£åœ¨è¯»å–ä¸»å†…å­˜ï¼Œå³ï¼šå°† <code>x = 100</code>  æ‹·è´åˆ°è‡ªå·±çš„å·¥ä½œå†…å­˜ä¸­ï¼Œè¿™æ · <code>B</code>  çº¿ç¨‹è¯»å–åˆ°çš„å€¼å°±æ˜¯ <code>x=100</code> , ä½†å¦‚æœ <code>A</code>  çº¿ç¨‹å·²å°† <code>x = 150</code>  å†™å›åˆ°ä¸»å†…å­˜åï¼Œ <code>B</code>  çº¿ç¨‹æ‰å¼€å§‹è¯»å–çš„è¯é‚£ä¹ˆæ­¤æ—¶ <code>B</code>  çº¿ç¨‹è¯»å–åˆ°çš„å°±æ˜¯ <code>x = 150</code> , ä½†åˆ°åº•æ˜¯å“ªç§æƒ…å†µä¼šå‘ç”Ÿè°éƒ½ä¸ä¼šçŸ¥é“ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p>\n</blockquote>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/21/piTsRrd.png\" alt=\"piTsRrd.png\" /></p>\n<blockquote>\n<p>ä¸ºäº†è§£å†³ç±»ä¼¼ä¸Šè¿°çš„é—®é¢˜ <code>JVM</code>  å®šä¹‰äº†ä¸€ç»„è§„åˆ™ï¼Œé€šè¿‡è¿™ç»„è§„åˆ™æ¥å†³å®šä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡çš„å†™å…¥ä½•æ—¶å¯¹å¦ä¸€ä¸ªçº¿ç¨‹å¯è§ï¼Œè¿™ç»„è§„åˆ™è¢«ç§°ä¸º <code>Java</code>  å†…å­˜æ¨¡å‹ <code>(JMM)</code> , <code>JMM</code>  æ˜¯å›´ç»•ç€ç¨‹åºæ‰§è¡Œçš„åŸå­æ€§ã€æœ‰åºæ€§ã€å¯è§æ€§å±•å¼€çš„ã€‚</p>\n</blockquote>\n<h2 id=\"jmmçš„ä¸‰ç§ç‰¹æ€§\"><a class=\"anchor\" href=\"#jmmçš„ä¸‰ç§ç‰¹æ€§\">#</a> JMM çš„ä¸‰ç§ç‰¹æ€§</h2>\n<h3 id=\"åŸå­æ€§\"><a class=\"anchor\" href=\"#åŸå­æ€§\">#</a> åŸå­æ€§</h3>\n<blockquote>\n<p>åŸå­æ€§æ˜¯æŒ‡ä¸€ä¸ªæ“ä½œæ˜¯ä¸å¯ä¸­æ–­çš„ï¼Œå³ä½¿æ˜¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œä¸€ä¸ªæ“ä½œä¸€æ—¦å¼€å§‹å°±ä¸ä¼šè¢«å…¶å®ƒçº¿ç¨‹æ‰€å½±å“ï¼Œå¦‚ï¼šå¯¹ä¸€ä¸ªé™æ€å˜é‡ ( <code>private static int i = 0</code> ) ä¸¤æ¡çº¿ç¨‹åŒæ—¶å¯¹å®ƒè¿›è¡Œèµ‹å€¼æ“ä½œï¼Œçº¿ç¨‹ <code>A</code>  èµ‹å€¼ä¸º <code>100</code> ï¼Œçº¿ç¨‹ <code>B</code>  èµ‹å€¼ä¸º <code>200</code> ï¼Œä¸ç®¡çº¿ç¨‹å¦‚ä½•è¿è¡Œæœ€ç»ˆ <code>i</code>  çš„å€¼è¦ä¹ˆæ˜¯ <code>100</code>  è¦ä¹ˆæ˜¯ <code>200</code> ï¼Œçº¿ç¨‹ <code>A</code>  å’Œçº¿ç¨‹ <code>B</code>  ä¹‹é—´çš„æ“ä½œæ˜¯æ²¡æœ‰ä»»ä½•å¹²æ‰°çš„ï¼Œè¿™å°±æ˜¯åŸå­æ€§æ“ä½œä¸å¯è¢«ä¸­æ–­çš„ç‰¹ç‚¹ã€‚</p>\n</blockquote>\n<blockquote>\n<p>ä½†æ˜¯å¯¹äº <code>32</code>  ä½ç³»ç»Ÿæ¥è®² <code>long</code>  ç±»å‹å’Œ <code>double</code>  ç±»å‹æ•°æ®å®ƒä»¬è¯»å†™å¹¶éåŸå­æ€§çš„ï¼Œå¯¹äºåŸºæœ¬ç±»å‹æ•°æ®ï¼š <code>byte</code> ã€ <code>short</code> ã€ <code>int</code> ã€ <code>float</code> ã€ <code>boolean</code> ã€ <code>char</code>  çš„è¯»å†™æ˜¯åŸå­æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤æ¡çº¿ç¨‹åŒæ—¶å¯¹ <code>long</code>  ç±»å‹æˆ– <code>double</code>  ç±»å‹çš„æ•°æ®è¿›è¡Œè¯»å†™æ˜¯ä¼šå­˜åœ¨äº’ç›¸å¹²æ‰°çš„ï¼Œå› ä¸ºå¯¹äº <code>32</code>  ä½è™šæ‹Ÿæœºæ¥è¯´ï¼Œæ¯æ¬¡åŸå­è¯»å†™æ˜¯ <code>32</code>  ä½ï¼Œè€Œ <code>long</code>  å’Œ <code>double</code>  åˆ™æ˜¯ <code>64</code>  ä½çš„å­˜å‚¨å•å…ƒã€‚</p>\n</blockquote>\n<blockquote>\n<p>è¿™æ ·å°±ä¼šå¯¼è‡´ä¸€ä¸ªçº¿ç¨‹åœ¨å†™æ—¶ï¼Œæ“ä½œå®Œå‰ <code>32</code>  ä½çš„åŸå­æ“ä½œåï¼Œè½®åˆ° <code>B</code>  çº¿ç¨‹è¯»å–æ—¶ï¼Œæ°å¥½åªè¯»åˆ°äº†å <code>32</code>  ä½çš„æ•°æ®ï¼Œè¿™æ ·å¯èƒ½ä¼šè¯»å–åˆ°ä¸€ä¸ªæ—¢éåŸå€¼åˆä¸æ˜¯çº¿ç¨‹ä¿®æ”¹å€¼çš„å˜é‡ï¼Œå®ƒå¯èƒ½å°±æ˜¯åŠä¸ªå˜é‡çš„æ•°å€¼ï¼Œå³ <code>64</code>  ä½æ•°æ®å‘—ä¸¤ä¸ªçº¿ç¨‹åˆ†æˆäº†ä¸¤æ¬¡è¯»å–ã€‚ä¹Ÿä¸å¿…å¤ªè¿‡æ‹…å¿ƒè‡³å°‘ç›®å‰çš„å•†ç”¨è™šæ‹Ÿæœºä¸­å‡ ä¹æŠŠ <code>64</code>  ä½æ•°æ®è¯»å†™æ“ä½œä½œä¸ºåŸå­æ“ä½œæ¥æ‰§è¡Œã€‚</p>\n</blockquote>\n<h3 id=\"å¯è§æ€§\"><a class=\"anchor\" href=\"#å¯è§æ€§\">#</a> å¯è§æ€§</h3>\n<blockquote>\n<p>å¯è§æ€§æ˜¯æŒ‡å½“ä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡è¿›è¡Œäº†ä¿®æ”¹ï¼Œé‚£ä¹ˆå¦å¤–çš„çº¿ç¨‹éƒ½æ˜¯ç«‹å³å¯ä»¥çœ‹åˆ°ä¿®æ”¹åçš„æœ€æ–°å€¼ï¼Œåœ¨ <code>Java</code>  ä¸­å¯ä»¥ä½¿ç”¨ <code>synchronized</code> ã€ <code>volatile</code>  å…³é”®å­—ã€ä»¥åŠå„ç§ <code>Lock</code>  å®ç°å¯è§æ€§ï¼Œå¦‚æœæˆ‘ä»¬å°†å˜é‡å£°æ˜ä¸º <code>volatile</code>  å°±ä»£è¡¨æˆ‘ä»¬å°†å‘Šè¯‰ <code>JVM</code>  è¿™ä¸ªå˜é‡æ˜¯å…±äº«æ•°æ®ä¸”ä¸ç¨³å®šçš„ï¼Œæ¯æ¬¡ä½¿ç”¨å®ƒéƒ½åˆ°ä¸»å†…å­˜ä¸­è¿›è¡Œè¯»å–ã€‚</p>\n</blockquote>\n<h3 id=\"æœ‰åºæ€§\"><a class=\"anchor\" href=\"#æœ‰åºæ€§\">#</a> æœ‰åºæ€§</h3>\n<blockquote>\n<p>æœ‰åºæ€§æ˜¯æŒ‡å¯¹äºå•çº¿ç¨‹çš„æ‰§è¡Œä»£ç ï¼Œæˆ‘ä»¬æ€»æ˜¯è®¤ä¸ºä»£ç çš„æ‰§è¡Œæ˜¯æŒ‰ç…§é¡ºåºä¾æ¬¡æ‰§è¡Œçš„ï¼Œæ¯•ç«Ÿå¯¹äºå•çº¿ç¨‹è€Œè¨€ç¡®å®å¦‚æ­¤ï¼Œä½†å¯¹äºå¤šçº¿ç¨‹ç¯å¢ƒåˆ™å¯èƒ½ä¼šå‡ºç°ä¹±åºç°è±¡ï¼Œå› ä¸ºç¨‹åºç¼–è¯‘æˆæœºå™¨æŒ‡ä»¤åå¯èƒ½ä¼šå‡ºç°æŒ‡ä»¤é‡æ’ç°è±¡ï¼Œé‡æ’åçš„æŒ‡ä»¤ä¸åŸæŒ‡ä»¤çš„é¡ºåºæœªå¿…ä¸€è‡´ï¼Œè¦æ˜ç™½åœ¨ <code>Java</code>  ç¨‹åºä¸­ï¼Œå€˜è‹¥åœ¨æœ¬çº¿ç¨‹å†…ï¼Œæ‰€æœ‰æ“ä½œéƒ½è§†ä¸ºæœ‰åºè¡Œä¸ºï¼Œå¦‚æœæ˜¯å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œä¸€ä¸ªçº¿ç¨‹ä¸­è§‚å¯Ÿå¦å¤–ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯æ— åºçš„ï¼Œå‰åŠå¥æ˜¯ä»£è¡¨å•çº¿ç¨‹å†…ä¿è¯ä¸²è¡Œè¯­ä¹‰æ‰§è¡Œçš„ä¸€è‡´æ€§ï¼ŒååŠå¥ä»£è¡¨æŒ‡ä»¤é‡æ’ç°è±¡å’Œå·¥ä½œå†…å­˜ä¸ä¸»å†…å­˜åŒæ­¥å»¶è¿Ÿç°è±¡ã€‚</p>\n</blockquote>\n<h2 id=\"happens-before\"><a class=\"anchor\" href=\"#happens-before\">#</a> happens-before</h2>\n<h3 id=\"happens-beforeä»€ä¹ˆæ˜¯\"><a class=\"anchor\" href=\"#happens-beforeä»€ä¹ˆæ˜¯\">#</a> happens-before ä»€ä¹ˆæ˜¯</h3>\n<blockquote>\n<p>å…³äº <code>happens-before</code>  æ¦‚å¿µæœ€æ—©è¯ç”Ÿäº <code>1978</code>  å¹´ç”± <code>Leslie Lamport</code>  å‘è¡¨çš„<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sYW1wb3J0LmF6dXJld2Vic2l0ZXMubmV0L3B1YnMvdGltZS1jbG9ja3MucGRm\">ã€ŠTimeï¼ŒClocks and the Ordering of Events in a Distributed Systemã€‹</span>è®ºæ–‡ä¸­ï¼Œåœ¨è¿™ç¯‡è®ºæ–‡ä¸­ <code>Leslie Lamport</code>  æå‡ºäº†é€»è¾‘æ—¶é’Ÿçš„æ¦‚å¿µï¼Œè¿™ä¹Ÿæˆäº†ç¬¬ä¸€ä¸ªé€»è¾‘æ—¶é’Ÿç®—æ³•ã€‚åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­ï¼Œé€šè¿‡ä¸€ç³»åˆ—è§„åˆ™æ¥å®šä¹‰é€»è¾‘æ—¶é’Ÿçš„å˜åŒ–ï¼Œä»è€Œèƒ½é€šè¿‡é€»è¾‘æ—¶é’Ÿæ¥å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„äº‹ä»¶çš„å…ˆåé¡ºåºè¿›è¡Œåˆ¤æ–­ï¼Œé€»è¾‘æ—¶é’Ÿå¹¶ä¸åº¦é‡æ—¶é—´æœ¬èº«ï¼Œä»…åŒºåˆ†äº‹ä»¶å‘ç”Ÿçš„å‰åé¡ºåºï¼Œå…¶æœ¬è´¨å°±æ˜¯å®šä¹‰äº†ä¸€ç§ <code>happens-before</code>  å…³ç³»ï¼Œç®€å•äº†è§£ä¸€ä¸‹å³å¯ã€‚</p>\n</blockquote>\n<blockquote>\n<p><code>JSR 133</code>  å¼•å…¥äº† <code>happens-before</code>  è¿™ä¸ªæ¦‚å¿µæ¥æè¿°ä¸¤ä¸ªæ“ä½œä¹‹é—´çš„å†…å­˜å¯è§æ€§ï¼Œä¸ºä»€ä¹ˆéœ€è¦ <code>happens-beffore</code>  åŸåˆ™ï¼Ÿ <code>happens-before</code>  åŸåˆ™çš„è¯ç”Ÿæ˜¯ä¸ºäº†ç¨‹åºå‘˜å’Œç¼–è¯‘å™¨ã€å¤„ç†å™¨ä¹‹é—´çš„å¹³è¡¡ï¼Œç¨‹åºå‘˜è¿½æ±‚çš„æ˜¯æ˜“äºç†è§£å’Œç¼–ç¨‹çš„å¼ºå†…å­˜æ¨¡å‹ï¼Œéµå®ˆè§„åˆ™ç¼–ç å³å¯ã€‚ç¼–è¯‘å™¨å’Œå¤„ç†å™¨è¿½æ±‚çš„æ˜¯è¾ƒå°‘çº¦æŸçš„å¼±å†…å­˜æ¨¡å‹ï¼Œè®©å®ƒä»¬å°½å·±æ‰€èƒ½åœ°å»ä¼˜åŒ–æ€§èƒ½ï¼Œè®©æ€§èƒ½æœ€å¤§åŒ–ã€‚</p>\n</blockquote>\n<ul>\n<li><code>happens-before</code>  åŸåˆ™è®¾è®¡æ€æƒ³éå¸¸ç®€å•ï¼š\n<ul>\n<li>1ï¸âƒ£ä¸ºäº†å¯¹ç¼–è¯‘å™¨å’Œå¤„ç†å™¨çš„çº¦æŸå°½å¯èƒ½å°‘ï¼Œåªè¦ä¸æ”¹å˜ç¨‹åºçš„æ‰§è¡Œç»“æœ (å•çº¿ç¨‹ç¨‹åºå’Œæ­£ç¡®æ‰§è¡Œçš„å¤šçº¿ç¨‹ç¨‹åº)ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨æ€ä¹ˆè¿›è¡Œé‡æ’åºä¼˜åŒ–éƒ½è¡Œã€‚</li>\n<li>2ï¸âƒ£å¯¹äºä¼šæ”¹å˜ç¨‹åºæ‰§è¡Œç»“æœçš„é‡æ’åºï¼Œ <code>JMM</code>  è¦æ±‚ç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¿…é¡»ç¦æ­¢è¿™ç§é‡æ’åºã€‚</li>\n</ul>\n</li>\n<li>ä¸‹é¢çš„å›¾æ¥è‡ªäº<span class=\"red\">ã€ŠJava å¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹</span>ä¸­çš„ä¸€å¼  <code>JMM</code>  è®¾è®¡æ€æƒ³ç¤ºæ„å›¾ã€‚<br />\n<img data-src=\"https://s11.ax1x.com/2023/12/23/pi7UJNF.png\" alt=\"pi7UJNF.png\" /></li>\n<li><code>happens-before</code>  åŸåˆ™çš„å®šä¹‰ï¼š\n<ul>\n<li>å¦‚æœä¸€ä¸ªæ“ä½œ <code>happens-before</code>  å¦ä¸€ä¸ªæ“ä½œ (æè¿°ä¸ºç¬¬ä¸€ä¸ªæ“ä½œå’Œç¬¬äºŒä¸ªæ“ä½œä¹‹é—´æ»¡è¶³ <code>happens-before</code>  å…³ç³»ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è¯´ç¬¬ä¸€ä¸ªæ“ä½œå¯¹äºç¬¬äºŒä¸ªæ“ä½œä¸€å®šæ˜¯å¯è§çš„)ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªæ“ä½œçš„æ‰§è¡Œç»“æœå°†å¯¹ç¬¬äºŒä¸ªæ“ä½œå¯è§ï¼Œå¹¶ä¸”ç¬¬ä¸€ä¸ªæ“ä½œçš„æ‰§è¡Œé¡ºåºæ’åœ¨ç¬¬äºŒä¸ªæ“ä½œä¹‹å‰ã€‚</li>\n<li>ä¸¤ä¸ªæ“ä½œä¹‹é—´å­˜åœ¨ <code>happens-before</code>  å…³ç³»ï¼Œå¹¶ä¸æ„å‘³ç€ <code>Java</code>  å¹³å°çš„å…·ä½“å®ç°å¿…é¡»è¦æŒ‰ç…§ <code>happens-before</code>  å…³ç³»æŒ‡å®šçš„é¡ºåºæ¥æ‰§è¡Œã€‚</li>\n<li>å¦‚æœé‡æ’åºä¹‹åçš„æ‰§è¡Œç»“æœï¼Œä¸æŒ‰ <code>happens-before</code>  å…³ç³»æ¥æ‰§è¡Œçš„ç»“æœä¸€ç›´ï¼Œé‚£ä¹ˆ <code>JMM</code>  ä¹Ÿå…è®¸è¿™æ ·çš„é‡æ’åºã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> userNum <span class=\"token operator\">=</span> <span class=\"token function\">getUserNum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \t<span class=\"token comment\">// 1</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">int</span> teacherNum <span class=\"token operator\">=</span> <span class=\"token function\">getTeacherNum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t <span class=\"token comment\">// 2</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">int</span> totalNum <span class=\"token operator\">=</span> userNum <span class=\"token operator\">+</span> teacherNum<span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 3</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// 1 happens-before 2</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// 2 happens-before 3</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// 1 happens-before 3</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>   è™½ç„¶ 1 happens-before 2ï¼Œä½†å¯¹ 1 å’Œ 2 è¿›è¡Œé‡æ’åºä¸ä¼šå½±å“ä»£ç çš„æ‰§è¡Œç»“æœï¼Œæ‰€ä»¥ JMM æ˜¯å…è®¸ç¼–è¯‘å™¨å’Œå¤„ç†å™¨æ‰§è¡Œè¿™ç§é‡æ’åºçš„ã€‚ä½† 1 å’Œ 2 å¿…é¡»æ˜¯åœ¨ 3 æ‰§è¡Œä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯è¯´ 1,2 happens-before 3</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> */</span></pre></td></tr></table></figure></li>\n</ul>\n<blockquote>\n<p><code>happens-before</code>  åŸåˆ™è¡¨è¾¾çš„æ„ä¹‰å…¶å®å¹¶ä¸æ˜¯ä¸€ä¸ªæ“ä½œå‘ç”Ÿåœ¨å¦å¤–ä¸€ä¸ªæ“ä½œçš„å‰é¢ï¼Œè™½ç„¶è¿™ä»ç¨‹åºå‘˜çš„è§’åº¦ä¸Šæ¥è®²ä¹Ÿå¹¶æ— å¤§ç¢ã€‚æ›´å‡†ç¡®åœ°æ¥è¯´ï¼Œå®ƒæ›´æƒ³è¡¨è¾¾çš„æ„ä¹‰æ˜¯å‰ä¸€ä¸ªæ“ä½œçš„ç»“æœå¯¹äºåä¸€ä¸ªæ“ä½œæ˜¯å¯è§çš„ï¼Œæ— è®ºè¿™ä¸¤ä¸ªæ“ä½œæ˜¯å¦åœ¨åŒä¸€ä¸ªçº¿ç¨‹é‡Œã€‚</p>\n</blockquote>\n<h3 id=\"happens-beforeå’Œjmmçš„å…³ç³»\"><a class=\"anchor\" href=\"#happens-beforeå’Œjmmçš„å…³ç³»\">#</a> happens-before å’Œ JMM çš„å…³ç³»</h3>\n<blockquote>\n<p>ä¸‹å›¾æ¥è‡ªäº<span class=\"red\">ã€ŠJava å¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹</span>ä¸­çš„ä¸€å¼ å›¾å°±å¯ä»¥éå¸¸å¥½çš„è§£é‡Šæ¸…æ¥šã€‚</p>\n</blockquote>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/23/pi7d8W4.png\" alt=\"pi7d8W4.png\" /></p>\n<h3 id=\"happens-beforeåŸåˆ™\"><a class=\"anchor\" href=\"#happens-beforeåŸåˆ™\">#</a> happens-before åŸåˆ™</h3>\n<blockquote>\n<p>åœ¨ç¨‹åºå¼€å‘ä¸­ï¼Œä»…é  <code>synchronized</code>  å’Œ <code>volatile</code>  å…³é”®å­—æ¥ä¿è¯åŸå­æ€§ã€å¯è§æ€§åŠæœ‰åºæ€§ï¼Œé‚£ä¹ˆç¼–å†™å¹¶å‘ç¨‹åºå¯èƒ½ä¼šæ˜¾å¾—ååˆ†éº»çƒ¦ï¼Œå¹¸è¿çš„æ˜¯åœ¨ <code>Java</code>  å†…å­˜æ¨¡å‹ä¸­ï¼Œæä¾›äº† <code>happens-before</code>  åŸåˆ™æ¥è¾…åŠ©ä¿è¯ç¨‹åºæ‰§è¡Œçš„åŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§çš„é—®é¢˜ï¼Œå®ƒæ˜¯åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨ç«äº‰ã€çº¿ç¨‹æ˜¯å¦å®‰å…¨çš„ä¾æ®ã€‚</p>\n</blockquote>\n<ul>\n<li><code>happens-before</code>  åŸåˆ™åˆ†ä¸ºä»¥ä¸‹å…«ç§ï¼š\n<ul>\n<li><code>ç¨‹åºé¡ºåºåŸåˆ™</code> ï¼šä¸€ä¸ªçº¿ç¨‹å†…ï¼ŒæŒ‰ç…§ä»£ç é¡ºåºï¼Œä¹¦å†™åœ¨å‰é¢çš„æ“ä½œï¼Œ <code>happens-before</code>  äºä¹¦å†™åœ¨åé¢çš„æ“ä½œï¼Œå³ï¼šåœ¨ä¸€ä¸ªçº¿ç¨‹å†…ä¿è¯è¯­ä¹‰ä¸²è¡Œæ€§ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§ä»£ç é¡ºåºæ‰§è¡Œã€‚</li>\n<li><code>é”è§„åˆ™</code> ï¼šè§£é” <code>(unlock)</code>  æ“ä½œå¿…ç„¶å‘ç”Ÿåœ¨åç»­çš„åŒä¸€ä¸ªé”çš„åŠ é” <code>(lock)</code>  ä¹‹å‰ï¼Œå°±æ˜¯è¯´å¦‚æœå¯¹äºä¸€ä¸ªé”è§£é”åå†åŠ é”ï¼Œé‚£ä¹ˆåŠ é”çš„åŠ¨ä½œå¿…é¡»åœ¨è§£é”åŠ¨ä½œä¹‹å (åŒä¸€ä¸ªé”)ã€‚</li>\n<li><code>volatileè§„åˆ™</code> ï¼š <code>volatile</code>  å˜é‡çš„å†™ï¼Œå…ˆå‘ç”Ÿäºè¯»ï¼Œè¿™ä¿è¯äº† <code>volatile</code>  å˜é‡çš„å¯è§æ€§ï¼Œç®€å•ç†è§£å°±æ˜¯ <code>volatile</code>  å˜é‡åœ¨æ¯æ¬¡è¢«çº¿ç¨‹è®¿é—®æ—¶ï¼Œéƒ½å¼ºè¿«ä»ä¸»å†…å­˜ä¸­è¯»å–è¯¥å˜é‡çš„å€¼ï¼Œè€Œå½“è¯¥å˜é‡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåˆä¼šå¼ºè¿«å°†æœ€æ–°çš„å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ï¼Œåœ¨ä»»ä½•æ—¶åˆ»ä¸åŒçš„çº¿ç¨‹æ€»æ˜¯èƒ½çœ‹åˆ°è¯¥å˜é‡çš„æœ€æ–°å€¼ã€‚</li>\n<li><code>çº¿ç¨‹å¯åŠ¨è§„åˆ™</code> ï¼šçº¿ç¨‹çš„ <code>start()</code>  æ–¹æ³•å…ˆäºå®ƒçš„æ¯ä¸€ä¸ªåŠ¨ä½œï¼Œå³å¦‚æœçº¿ç¨‹ <code>A</code>  åœ¨æ‰§è¡Œçº¿ç¨‹ <code>B</code>  çš„ <code>start()</code>  æ–¹æ³•ä¹‹å‰ä¿®æ”¹äº†å…³ç³»å˜é‡çš„å€¼ï¼Œé‚£ä¹ˆå½“çº¿ç¨‹ <code>B</code>  æ‰§è¡Œ <code>start()</code>  æ–¹æ³•æ—¶ï¼Œçº¿ç¨‹ <code>A</code>  å¯¹å…±äº«å˜é‡çš„ä¿®æ”¹å¯¹çº¿ç¨‹ <code>B</code>  å¯è§ã€‚</li>\n<li><code>ä¼ é€’æ€§</code> ï¼š <code>A</code>  ä¼˜å…ˆäº <code>B</code> ï¼Œ <code>B</code>  ä¼˜å…ˆäº <code>C</code> ï¼Œé‚£ä¹ˆ <code>A</code>  å¿…ç„¶å…ˆäº <code>C</code> ã€‚</li>\n<li><code>çº¿ç¨‹ç»ˆæ­¢è§„åˆ™</code> ï¼šçº¿ç¨‹çš„æ‰€æœ‰æ“ä½œå…ˆäºçº¿ç¨‹çš„ç»ˆç»“ï¼Œ <code>Thread.join()</code>  æ–¹æ³•çš„ä½œç”¨æ˜¯ç­‰å¾…å½“å‰æ‰§è¡Œçš„çº¿ç¨‹ç»ˆæ­¢ï¼Œå‡è®¾åœ¨çº¿ç¨‹ <code>B</code>  ç»ˆæ­¢ä¹‹å‰ï¼Œä¿®æ”¹äº†å…±äº«å˜é‡ï¼Œçº¿ç¨‹ <code>A</code>  ä»çº¿ç¨‹ <code>B</code>  çš„ <code>join()</code>  æ–¹æ³•æˆåŠŸè¿”å›åï¼Œçº¿ç¨‹ <code>B</code>  å¯¹å…±äº«å˜é‡çš„ä¿®æ”¹å°†å¯¹çº¿ç¨‹ <code>A</code>  å¯è§ã€‚</li>\n<li><code>çº¿ç¨‹ä¸­æ–­è§„åˆ™</code> ï¼šå¯¹çº¿ç¨‹ <code>interrupt()</code>  æ–¹æ³•çš„è°ƒç”¨å…ˆè¡Œå‘ç”Ÿäºè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿï¼Œå¯ä»¥é€šè¿‡ <code>Thread.interrupted()</code>  æ–¹æ³•æ£€æµ‹çº¿ç¨‹æ˜¯å¦ä¸­æ–­ã€‚</li>\n<li><code>å¯¹è±¡ç»ˆç»“è§„åˆ™</code> ï¼šå¯¹è±¡çš„æ„é€ å‡½æ•°æ‰§è¡Œï¼Œç»“æŸå…ˆäº <code>finalize()</code>  æ–¹æ³•</li>\n</ul>\n</li>\n<li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¦‚æœä¸¤ä¸ªæ“ä½œä¸æ»¡è¶³ä¸Šè¿°ä»»æ„ä¸€ä¸ª <code>happens-before</code>  è§„åˆ™ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ“ä½œå°±æ²¡æœ‰é¡ºåºçš„ä¿éšœï¼Œ <code>JVM</code>  å¯ä»¥å¯¹è¿™ä¸¤ä¸ªæ“ä½œè¿›è¡Œé‡æ’åºã€‚</li>\n<li>åœ¨ä¸Šè¿°ä¸­çš„å…«æ¡åŸåˆ™æ— éœ€æ‰‹åŠ¨æ·»åŠ ä»»ä½•åŒæ­¥æ‰‹æ®µä½¿ç”¨å…³é”®å­— <code>synchronized</code>  æˆ– <code>volatile</code>  å³å¯è¾¾åˆ°æ•ˆæœã€‚</li>\n</ul>\n<h1 id=\"å…³äºvolatileå…³é”®å­—\"><a class=\"anchor\" href=\"#å…³äºvolatileå…³é”®å­—\">#</a> å…³äº volatile å…³é”®å­—</h1>\n<h2 id=\"volatileå†…å­˜è¯­ä¹‰\"><a class=\"anchor\" href=\"#volatileå†…å­˜è¯­ä¹‰\">#</a> volatile å†…å­˜è¯­ä¹‰</h2>\n<ul>\n<li><code>volatile</code>  å…³é”®å­—åœ¨å¹¶å‘ç¼–ç¨‹ä¸­å¾ˆå¸¸è§ï¼Œä½†ä¹Ÿå®¹æ˜“è¢«æ»¥ç”¨ï¼Œç°åœ¨æˆ‘ä»¬å°†æ¥æ·±å…¥äº†è§£ä¸€ä¸‹ <code>volatile</code>  å…³é”®å­—çš„è¯­ä¹‰ï¼Œ <code>volatile</code>  æ˜¯ <code>Java</code>  è™šæ‹Ÿæœºæä¾›çš„è½»é‡çº§åŒæ­¥æœºåˆ¶ï¼Œä¸»è¦æœ‰å¦‚ä¸‹ä¸¤ä¸ªä½œç”¨ï¼š\n<ul>\n<li>ç¦æ­¢æŒ‡ä»¤é‡æ’åºä¼˜åŒ–ã€‚</li>\n<li>ä¿è¯è¢« <code>volatile</code>  ä¿®é¥°çš„å…±äº«å˜é‡å¯¹æ‰€æœ‰çº¿ç¨‹æ€»æ˜¯å¯è§çš„ï¼Œä¹Ÿå°±æ˜¯å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†ä¸€ä¸ªè¢« <code>volatile</code>  å…³é”®å­—æ‰€ä¿®é¥°çš„å…±äº«å˜é‡çš„å€¼ï¼Œæ–°å€¼æ€»æ˜¯å¯ä»¥è¢«å…¶å®ƒçº¿ç¨‹æ‰€çœ‹åˆ°ã€‚</li>\n</ul>\n</li>\n<li>å½“å†™ä¸€ä¸ª <code>volatile</code>  å˜é‡æ—¶ï¼Œ <code>JMM</code>  ä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ä¸­çš„å…±äº«å˜é‡å€¼ç«‹å³åˆ·æ–°å›ä¸»å†…å­˜ä¸­ã€‚</li>\n<li>å½“è¯»ä¸€ä¸ª <code>volatile</code>  å˜é‡æ—¶ï¼Œ <code>JMM</code>  ä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜è®¾ç½®ä¸ºæ— æ•ˆï¼Œé‡æ–°å›åˆ°ä¸»å†…å­˜ä¸­è¯»å–æœ€æ–°å…±äº«å˜é‡ã€‚</li>\n</ul>\n<h2 id=\"volatileå¯è§æ€§\"><a class=\"anchor\" href=\"#volatileå¯è§æ€§\">#</a> volatile å¯è§æ€§</h2>\n<blockquote>\n<p>å…³äº <code>volatile</code>  çš„å¯è§æ€§ä½œç”¨ï¼Œæˆ‘ä»¬å¿…é¡»æ„è¯†åˆ°è¢« <code>volatile</code>  å…³é”®å­—æ‰€ä¿®é¥°çš„å˜é‡å¯¹æ‰€æœ‰çº¿ç¨‹æ€»æ˜¯ç«‹å³å¯è§çš„ï¼Œå¯¹ <code>volatile</code>  å˜é‡çš„æ‰€æœ‰å†™æ“ä½œæ€»æ˜¯èƒ½ç«‹åˆ»ååº”åˆ°å…¶å®ƒçº¿ç¨‹ä¸­ï¼Œä½†æ˜¯å¯¹äº <code>volatile</code>  å˜é‡è¿ç®—æ“ä½œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¹¶ä¸ä¿è¯å®‰å…¨æ€§ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>VolatileVisibility.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: volition çš„å¯è§æ€§ä»£ç ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-23 16:38</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">VolatileVisibility</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">volatile</span> <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">increase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">VolatileVisibility</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">VolatileVisibility</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        t2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        t2<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"i = \"</span> <span class=\"token operator\">+</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        æ‰§è¡Œç»“æœï¼ši = 1140057</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token function\">increase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å¦‚ä¸Šè¿°ä»£ç æ‰€ç¤ºï¼Œå…±äº«å˜é‡ <code>i</code>  çš„ä»»ä½•æ”¹å˜éƒ½ä¼šç«‹é©¬ååº”åˆ°å…¶å®ƒçº¿ç¨‹ä¸­ï¼Œä½†æ˜¯å¦‚æœæ­¤æ—¶å­˜åœ¨å¤šæ¡çº¿ç¨‹åŒæ—¶è°ƒç”¨ <code>increase()</code>  æ–¹æ³•çš„è¯ï¼Œæ­¤æ—¶å°±ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæ¯•ç«Ÿ <code>i++</code>  æ“ä½œå¹¶ä¸æ˜¯åŸå­æ€§ï¼Œè¯¥æ“ä½œæ˜¯å…ˆè¯»å–å€¼ç„¶åå†™å›ä¸€ä¸ªæ–°å€¼ï¼Œç›¸å½“äºåœ¨åŸæ¥çš„åŸºç¡€ä¸Š <code>+1</code>  åˆ†ä¸ºä¸¤æ­¥æ¥å®Œæˆã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¦‚æœç¬¬äºŒä¸ªçº¿ç¨‹åœ¨ç¬¬ä¸€ä¸ªçº¿ç¨‹è¯»å–æ—§å€¼å’Œå†™å›æ–°å€¼æœŸé—´è¯»å– <code>i</code>  çš„åŸŸå€¼ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªçº¿ç¨‹å°±ä¼šä¸ç¬¬ä¸€ä¸ªçº¿ç¨‹ä¸€èµ·çœ‹åˆ°åŒä¸€ä¸ªå€¼ï¼Œå¹¶æ‰§è¡Œç›¸åŒå€¼çš„ <code>+1</code>  æ“ä½œï¼Œè¿™ä¹Ÿå°±é€ æˆäº†çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p>\n</blockquote>\n<blockquote>\n<p>å› æ­¤å¯¹äº <code>increase()</code>  æ–¹æ³•å¿…é¡»ä½¿ç”¨ <code>synchronized</code>  æ¥ä¿®é¥°ï¼Œä»¥ç¡®ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ä¸€æ—¦ä½¿ç”¨ <code>synchronized</code>  ä¿®é¥°æ–¹æ³•åï¼Œç”±äº <code>synchronized</code>  æœ¬èº«å°±å…·å¤‡ä¸ <code>volatile</code>  ç›¸åŒç‰¹æ€§ (å¯è§æ€§)ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹å°±å¯ä»¥çœå» <code>volatile</code>  å…³é”®å­—äº†ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>VolatileVisibility.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: volition çš„å¯è§æ€§ä»£ç ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-23 16:38</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">VolatileVisibility</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">increase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>       i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token class-name\">Thread</span> t1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">VolatileVisibility</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token class-name\">Thread</span> t2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">VolatileVisibility</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    t1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    t2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    t1<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    t2<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"i = \"</span> <span class=\"token operator\">+</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        æ‰§è¡Œç»“æœï¼ši = 2000000</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>      <span class=\"token function\">increase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸‹æ–¹ä»£ç ä½¿ç”¨ <code>volatile</code>  ä¿®é¥°å˜é‡è¾¾åˆ°çº¿ç¨‹å®‰å…¨ç›®çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description:</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-23 20:49</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">VolatileSafe</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">volatile</span> <span class=\"token keyword\">boolean</span> flag <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Runnable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>flag<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"çº¿ç¨‹åœæ­¢ï¼Œæ­»å¾ªç¯è¢«æ‰“å¼€\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Runnable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>                <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                    <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                    e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>                flag <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"ä¿®æ”¹ flag ä¸º\"</span> <span class=\"token operator\">+</span> flag<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span>MAX_VALUE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>         ä½¿ç”¨ volatile çš„æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>         Thread-0 çº¿ç¨‹åœæ­¢ï¼Œæ­»å¾ªç¯è¢«æ‰“å¼€</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>         Thread-1 ä¿®æ”¹ flag ä¸º false</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>      --------------------------------</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>         ä¸ä½¿ç”¨ volatile çš„æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>         Thread-1 ä¿®æ”¹ flag ä¸º false</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ä½¿ç”¨ <code>volatile</code>  å’Œä¸ä½¿ç”¨ <code>volatile</code>  å…³é”®å­—çš„ç»“æœæ˜¾ç„¶ä¸åŒï¼Œè¿™ä¹Ÿå°±è¡¨æ˜äº†ä½¿ç”¨ <code>volatile</code>  å…³é”®å­—æ¥ä¿®é¥°å˜é‡ç¡®å®å¯ä»¥è®©å…¶å®ƒçº¿ç¨‹æ‰€çœ‹åˆ°ä¿®æ”¹çš„ç»“æœï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>volatile</code>  å…³é”®å­—æ¥è¾¾åˆ°çº¿ç¨‹å®‰å…¨ç›®çš„ã€‚</p>\n</blockquote>\n<blockquote>\n<p>é‚£ä¹ˆ <code>JMM</code>  æ˜¯å¦‚ä½•å®ç°è®© <code>volatile</code>  å˜é‡å¯¹å…¶å®ƒçº¿ç¨‹ç«‹å³å¯è§çš„å‘¢ï¼Ÿå½“å†™ä¸€ä¸ª <code>volatile</code>  å˜é‡æ—¶ <code>JMM</code>  ä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„å·¥ä½œå†…å­˜ä¸­çš„å…±äº«å˜é‡å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ï¼Œå½“è¯»å–ä¸€ä¸ª <code>volatile</code>  å˜é‡æ—¶ï¼Œ <code>JMM</code>  ä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„å·¥ä½œå†…å­˜ç½®ä¸ºæ— æ•ˆï¼Œé‚£ä¹ˆè¯¥çº¿ç¨‹å°†åªèƒ½ä»ä¸»å†…å­˜ä¸­é‡æ–°è¯»å–å…±äº«å˜é‡ï¼Œ <code>volatile</code>  å˜é‡æ­£æ˜¯é€šè¿‡è¿™ç§ <code>å†™/è¯»</code> æ–¹å¼å®ç°å¯¹å…¶å®ƒçº¿ç¨‹å¯è§ (ä½†å…¶å†…å­˜è¯­ä¹‰å®ç°åˆ™æ˜¯é€šè¿‡å†…å­˜å±éšœ)ã€‚</p>\n</blockquote>\n<h2 id=\"volatileç¦æ­¢é‡æ’\"><a class=\"anchor\" href=\"#volatileç¦æ­¢é‡æ’\">#</a> volatile ç¦æ­¢é‡æ’</h2>\n<blockquote>\n<p><code>volatile</code>  å…³é”®å­—å¦ä¸€ä¸ªä½œç”¨å°±æ˜¯ç¦æ­¢æŒ‡ä»¤é‡æ’ä¼˜åŒ–ï¼Œä»è€Œé¿å…å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ç¨‹åºå‡ºç°ä¹±åºæ‰§è¡Œçš„ç°è±¡ï¼Œå…³äºæŒ‡ä»¤é‡æ’ä¼˜åŒ–åœ¨å‰é¢æåˆ°è¿‡ï¼Œè¿™é‡Œä¸»è¦ç®€å•è¯´æ˜ä¸€ä¸‹ <code>volatile</code>  æ˜¯å¦‚ä½•å®ç°ç¦æ­¢æŒ‡ä»¤é‡æ’ä¼˜åŒ–çš„ã€‚</p>\n</blockquote>\n<blockquote>\n<p>å†…å­˜å±éšœ (Memory Barrier) åˆè¢«ç§°ä¸ºå†…å­˜æ …æ ï¼Œå®ƒæ˜¯ <code>CPU</code>  æŒ‡ä»¤ï¼Œå®ƒçš„ä½œç”¨æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯ä¿è¯ç‰¹å®šæ“ä½œçš„æ‰§è¡Œé¡ºåºï¼ŒäºŒæ˜¯ä¿è¯æŸäº›å˜é‡çš„å†…å­˜å¯è§æ€§ ( <code>volatile</code>  çš„å†…å­˜å¯è§æ€§å°±æ˜¯åˆ©ç”¨è¯¥ç‰¹æ€§å®ç°çš„)ã€‚</p>\n</blockquote>\n<blockquote>\n<p>ç”±äºç¼–è¯‘å™¨å’Œå¤„ç†å™¨éƒ½èƒ½æ‰§è¡ŒæŒ‡ä»¤é‡æ’ä¼˜åŒ–ï¼Œå¦‚æœåœ¨æŒ‡ä»¤é—´æ’å…¥ä¸€æ¡ <code>Memory Barrier</code>  åˆ™ä¼šå‘Šè¯‰ç¼–è¯‘å™¨å’Œ <code>CPU</code> ï¼Œä¸ç®¡ä»€ä¹ˆæŒ‡ä»¤éƒ½ä¸èƒ½å’Œè¿™æ¡ <code>Memory Barrier</code>  æŒ‡ä»¤é‡æ’åºï¼Œä¹Ÿå°±æ˜¯è¯´é€šè¿‡æ’å…¥å†…å­˜å±éšœç¦æ­¢åœ¨å†…å­˜å±éšœå‰åçš„æŒ‡ä»¤æ‰§è¡Œé‡æ’åºä¼˜åŒ–ã€‚</p>\n</blockquote>\n<blockquote>\n<p><code>Memory Barrier</code>  çš„å¦ä¸€ä¸ªä½œç”¨æ˜¯å¼ºåˆ¶åˆ·å‡ºå„ç§ <code>CPU</code>  ç¼“å­˜æ•°æ®ï¼Œå› æ­¤ä»»ä½• <code>CPU</code>  ä¸Šçš„çº¿ç¨‹éƒ½èƒ½è¯»å–åˆ°è¿™äº›æ•°æ®çš„æœ€æ–°ç‰ˆæœ¬ï¼Œæ€»ä¹‹ <code>volatile</code>  å˜é‡æ­£æ˜¯é€šè¿‡å†…å­˜å±éšœå®ç°å…¶åœ¨å†…å­˜ä¸­çš„å¯è§æ€§å’Œç¦æ­¢é‡æ’ä¼˜åŒ–ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DoubleCheckLock.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: åŒé‡æ£€æŸ¥é”</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-23 23:29</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DoubleCheckLock</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">DoubleCheckLock</span> instance<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token class-name\">DoubleCheckLock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">DoubleCheckLock</span> <span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token comment\">// ç¬¬ä¸€æ¬¡æ£€æµ‹</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>instance <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      <span class=\"token comment\">// åŒæ­¥</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token keyword\">synchronized</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DoubleCheckLock</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>instance <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>          <span class=\"token comment\">// å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¯èƒ½ä¼šå‡ºç°é—®é¢˜çš„åœ°æ–¹</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>          instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DoubleCheckLock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">return</span> instance<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸Šè¿°ä»£ç æ˜¯ä¸€ä¸ªç»å…¸çš„å•ä¾‹åŒé‡æ£€æŸ¥é”çš„ä»£ç ï¼Œè¿™æ®µä»£ç åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹å¹¶æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†å¦‚æœæ˜¯åœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹å°±å¯èƒ½å‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼ŒåŸå› åœ¨äºæŸä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œåˆ°ç¬¬ä¸€æ¬¡æ£€æµ‹ï¼Œè¯»å–åˆ° <code>instance</code>  ä¸ä¸º <code>null</code>  æ—¶ï¼Œ <code>instance</code>  çš„å¼•ç”¨å¯¹è±¡å¯èƒ½æ²¡æœ‰å®Œæˆåˆå§‹åŒ–ï¼Œå› ä¸º <code>instance = new DoubleCheckLock()</code>  å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸‰æ­¥å®Œæˆ (ä¼ªä»£ç )ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>memory <span class=\"token operator\">=</span> <span class=\"token function\">allocate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç¬¬ä¸€æ­¥ï¼šåˆ†é…å¯¹è±¡å†…å­˜ç©ºé—´</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">instance</span><span class=\"token punctuation\">(</span>memory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>instance <span class=\"token operator\">=</span> memory<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// ç¬¬ä¸‰æ­¥ï¼šè®¾ç½® instance æŒ‡å‘åˆšåˆ†é…çš„å†…å­˜åœ°å€ï¼Œæ­¤æ—¶ instance != null</span></pre></td></tr></table></figure><blockquote>\n<p>ç”±äºç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥ä¹‹é—´å¯èƒ½ä¼šé‡æ’åºï¼Œé‡æ’åºåå¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>memory <span class=\"token operator\">=</span> <span class=\"token function\">allocate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç¬¬ä¸€æ­¥ï¼šåˆ†é…å¯¹è±¡å†…å­˜ç©ºé—´</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>instance <span class=\"token operator\">=</span> memory<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// ç¬¬ä¸‰æ­¥ï¼šè®¾ç½® instance æŒ‡å‘åˆšåˆ†é…çš„å†…å­˜åœ°å€ï¼Œæ­¤æ—¶ instance != null</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">instance</span><span class=\"token punctuation\">(</span>memory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–å¯¹è±¡</span></pre></td></tr></table></figure><blockquote>\n<p>ç”±äºç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥ä¸å­˜åœ¨æ•°æ®ä¾èµ–å…³ç³»ï¼Œè€Œä¸”æ— è®ºé‡æ’å‰è¿˜æ˜¯é‡æ’åç¨‹åºçš„æ‰§è¡Œç»“æœåœ¨å•çº¿ç¨‹ä¸­å¹¶æ²¡æœ‰ä»»ä½•æ”¹å˜ï¼Œå› æ­¤è¿™ç§é‡æ’ä¼˜åŒ–æ˜¯å…è®¸çš„ã€‚ä½†æ˜¯æŒ‡ä»¤é‡æ’åªä¼šä¿è¯ä¸²è¡Œè¯­ä¹‰æ‰§è¡Œçš„ä¸€è‡´æ€§ (å•çº¿ç¨‹)ï¼Œä½†å¹¶ä¸ä¼šå…³å¿ƒå¤šçº¿ç¨‹é—´çš„è¯­ä¹‰ä¸€è‡´æ€§ï¼Œæ‰€ä»¥å½“ä¸€æ¡çº¿ç¨‹è®¿é—® <code>instance</code>  ä¸ä¸º <code>null</code>  æ—¶ï¼Œç”±äº <code>instance</code>  å®ä¾‹æœªå¿…åˆå§‹åŒ–å®Œæˆï¼Œä¹Ÿå°±é€ æˆäº†çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <code>volatile</code>  å…³é”®å­—æ¥ç¦æ­¢ <code>instance</code>  å˜é‡è¢«æ‰§è¡ŒæŒ‡ä»¤é‡æ’ä¼˜åŒ–ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// ä½¿ç”¨ volatile æ¥ç¦æ­¢æŒ‡ä»¤é‡æ’ä¼˜åŒ–</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">private</span> <span class=\"token keyword\">volatile</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">DoubleCheckLock</span> instance<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>æœ€åæˆ‘ä»¬åº”è¯¥æ¸…é™¤çŸ¥é“ <code>JMM</code>  å°±æ˜¯ä¸€ç»„è§„åˆ™ï¼Œè¿™ç»„è§„åˆ™æ„åœ¨è§£å†³åœ¨å¹¶å‘ç¼–ç¨‹å¯èƒ½å‡ºç°çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå¹¶æä¾›äº†å†…ç½®è§£å†³æ–¹æ¡ˆ <code>(happens-beforeåŸåˆ™)</code>  åŠå…¶å¤–éƒ¨å¯ä»¥ä½¿ç”¨çš„åŒæ­¥æ‰‹æ®µï¼š <code>synchronized</code> ã€ <code>volatile</code>  ç­‰ï¼Œç¡®ä¿äº†ç¨‹åºæ‰§è¡Œåœ¨å¤šçº¿ç¨‹ä¸­çš„åº”æœ‰çš„åŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§ã€‚</p>\n</blockquote>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaæ·±å…¥ç†è§£",
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "å¹¶å‘",
                "JMM",
                "volatile",
                "å†…å­˜æ¨¡å‹"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E5%B9%B6%E5%8F%91%E4%B9%8Bsynchronized%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E5%B9%B6%E5%8F%91%E4%B9%8Bsynchronized%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "title": "Javaå¹¶å‘ä¹‹synchronizedæ·±å…¥ç†è§£",
            "date_published": "2023-12-15T14:27:30.000Z",
            "content_html": "<blockquote>\n<p>æœ¬ç¯‡ç« æ˜¯å¯¹ <code>Java</code>  å¹¶å‘ä¸­çš„ <code>synchronized</code>  å…³é”®å­—è¿›è¡Œæ·±å…¥æ¢ç´¢ã€‚<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRlZS5jb20vUmFpblNhdWNlL2phdmEtc3luY2hyb25pemVkLWRlbW8=\">ğŸš€æœ¬ç¯‡ç« ä»£ç  Demo</span></p>\n</blockquote>\n<h1 id=\"åºè¨€\"><a class=\"anchor\" href=\"#åºè¨€\">#</a> åºè¨€</h1>\n<ul>\n<li>çº¿ç¨‹å®‰å…¨æ˜¯å¹¶å‘ç¼–ç¨‹ä¸­çš„é‡è¦å…³æ³¨ç‚¹ï¼Œåº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œé€ æˆçº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä¸»è¦åŸå› æœ‰ä»¥ä¸‹ä¸¤ç‚¹ï¼š\n<ul>\n<li>1ï¸âƒ£ æ˜¯å­˜åœ¨å…±äº«æ•°æ® (ä¸´ç•Œèµ„æº)ã€‚</li>\n<li>2ï¸âƒ£ å­˜åœ¨å¤šæ¡çº¿ç¨‹å…±åŒæ“ä½œå…±äº«æ•°æ®ã€‚</li>\n</ul>\n</li>\n<li>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è¿™æ ·ä¸€ä¸ªæ–¹æ¡ˆï¼Œå½“å­˜åœ¨å¤šä¸ªçº¿ç¨‹æ“ä½œå…±äº«æ•°æ®æ—¶ï¼Œéœ€è¦ä¿è¯åŒä¸€ä¸ªæ—¶åˆ»æœ‰ä¸”åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ“ä½œå…±äº«æ•°æ®ï¼Œå…¶å®ƒçº¿ç¨‹å¿…é¡»ç­‰åˆ°è¯¥çº¿ç¨‹å¤„ç†å®Œæ•°æ®åå†è¿›è¡Œã€‚</li>\n<li>è¿™ç§æ–¹å¼çš„åç§°å« <code>äº’æ–¥é”</code> ï¼Œå³èƒ½è¾¾åˆ°äº’æ–¥è®¿é—®ç›®çš„çš„é”ï¼Œä¹Ÿå°±è¯´å½“ä¸€ä¸ªå…±äº«æ•°æ®è¢«å½“å‰æ­£åœ¨è®¿é—®çš„çº¿ç¨‹åŠ ä¸Š <code>äº’æ–¥é”</code> åï¼Œåœ¨åŒä¸€ä¸ªæ—¶åˆ»ï¼Œå…¶å®ƒçº¿ç¨‹åªèƒ½å¤„äºç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°å½“å‰çº¿ç¨‹å¤„ç†å®Œæ•°æ®é‡Šæ”¾è¯¥é”ã€‚</li>\n<li>åœ¨ <code>Java</code>  ä¸­å…³é”®å­— <code>synchronized</code>  å¯ä»¥ä¿è¯åœ¨åŒä¸€ä¸ªæ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ‰§è¡ŒæŸä¸ªæ–¹æ³•æˆ–è€…æŸä¸ªä»£ç å— (ä¸»è¦æ˜¯å¯¹æ–¹æ³•æˆ–è€…ä»£ç å—ä¸­å­˜åœ¨å…±äº«æ•°æ®çš„æ“ä½œ)ã€‚</li>\n<li>åŒæ—¶æˆ‘ä»¬è¿˜åº”è¯¥æ³¨æ„åˆ° <code>synchronized</code>  å¦å¤–ä¸€ä¸ªé‡è¦çš„ä½œç”¨ï¼Œé‚£å°±æ˜¯ <code>synchronized</code>  å¯ä»¥ä¿è¯ä¸€ä¸ªçº¿ç¨‹çš„å˜åŒ– (å…±äº«æ•°æ®çš„å˜åŒ–) è¢«å…¶å®ƒçº¿ç¨‹æ‰€çœ‹åˆ° (ä¿è¯å¯è§æ€§ï¼Œå®Œå…¨å¯ä»¥æ›¿ä»£ <code>volatile</code>  å…³é”®å­—)ï¼Œè¿™ç‚¹ä¹Ÿæ˜¯å¾ˆé‡è¦ã€‚</li>\n</ul>\n<h1 id=\"synchronizedçš„åº”ç”¨\"><a class=\"anchor\" href=\"#synchronizedçš„åº”ç”¨\">#</a> synchronized çš„åº”ç”¨</h1>\n<ul>\n<li><code>synchronized</code>  å…³é”®å­—ä¸»è¦æœ‰ä»¥ä¸‹ <code>3</code>  ç§åº”ç”¨æ–¹å¼ï¼š\n<ul>\n<li><a href=\"#synchronized%E4%BF%AE%E9%A5%B0%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95\">ä¿®é¥°å®ä¾‹æ–¹æ³•</a>ï¼šä½œç”¨äºå½“å‰å®ä¾‹åŠ é”ï¼Œè¿›å…¥åŒæ­¥ä»£ç å‰è¦è·å¾—å½“å‰å®ä¾‹çš„é”ã€‚</li>\n<li><a href=\"#synchronized%E4%BF%AE%E9%A5%B0%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95\">ä¿®é¥°é™æ€æ–¹æ³•</a>ï¼šä½œç”¨äºå½“å‰ç±»å¯¹è±¡åŠ é”ï¼Œè¿›å…¥åŒæ­¥ä»£ç å‰è¦è·å¾—å½“å‰ç±»å¯¹è±¡çš„é”ã€‚</li>\n<li><a href=\"#synchronized%E5%90%8C%E6%AD%A5%E4%BB%A3%E7%A0%81%E5%9D%97\">ä¿®é¥°ä»£ç å—</a>ï¼šæŒ‡å®šåŠ é”å¯¹è±¡ï¼Œå¯¹ç»™å®šå¯¹è±¡åŠ é”ï¼Œè¿›å…¥åŒæ­¥ä»£ç åº“å‰è¦è·å¾—ç»™å®šå¯¹è±¡çš„é”ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"synchronizedä¿®é¥°å®ä¾‹æ–¹æ³•\"><a class=\"anchor\" href=\"#synchronizedä¿®é¥°å®ä¾‹æ–¹æ³•\">#</a> synchronized ä¿®é¥°å®ä¾‹æ–¹æ³•</h2>\n<blockquote>\n<p>æ‰€è°“å®ä¾‹å¯¹è±¡é”å°±æ˜¯ç”¨ <code>synchronized</code>  ä¿®é¥°å®ä¾‹å¯¹è±¡ä¸­çš„å®ä¾‹æ–¹æ³• (å®ä¾‹æ–¹æ³•ä¸åŒ…æ‹¬é™æ€æ–¹æ³•)ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: synchronized ä¿®é¥°å®ä¾‹æ–¹æ³•</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-15 23:02</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SynchronizedData</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * å…±äº«èµ„æº (ä¸´ç•Œèµ„æº)</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token function\">incremental</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * é€’å¢æ–¹æ³•</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">incremental</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token class-name\">SynchronizedData</span> instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SynchronizedData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">// å¼€å§‹</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        t2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        t2<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>           æ‰§è¡Œç»“æœ: 2000000</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¼€å¯äº†ä¸¤ä¸ªçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªå…±äº«èµ„æº (å³ï¼šå˜é‡ <code>i</code> ), ç”±äº <code>i++</code>  å¹¶ä¸æ˜¯åŸå­æ€§æ“ä½œï¼Œè¯¥æ“ä½œæ˜¯å…ˆè¯»å–å€¼ç„¶åå†™å›ä¸€ä¸ªæ–°å€¼ï¼Œç›¸å½“äºåŸæ¥çš„å€¼åŠ ä¸Š <code>1</code> ï¼Œåˆ†ä¸¤æ­¥å®Œæˆã€‚å¦‚æœç¬¬äºŒä¸ªçº¿ç¨‹åœ¨ç¬¬ä¸€ä¸ªçº¿ç¨‹è¯»å–æ—§å€¼å’Œå†™ä¼šæ–°å€¼æœŸé—´è¯»å– <code>i</code>  çš„é˜ˆå€¼ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªçº¿ç¨‹å°±ä¼šä¸ç¬¬ä¸€ä¸ªçº¿ç¨‹ä¸€èµ·çœ‹åˆ°åŒä¸€ä¸ªå€¼ï¼Œå¹¶æ‰§è¡Œç›¸åŒå€¼çš„åŠ  <code>1</code>  æ“ä½œï¼Œè¿™ä¹Ÿå°±é€ æˆäº†çº¿ç¨‹å®‰å…¨å¤±è´¥ã€‚å› æ­¤å¯¹äº <code>incremental()</code>  æ–¹æ³•å¿…é¡»ä½¿ç”¨ <code>synchronized</code>  æ¥ä¿®é¥°ï¼Œä»¥ä¾¿ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚æ­¤æ—¶æˆ‘ä»¬åº”è¯¥æ³¨æ„åˆ° <code>synchronized</code>  ä¿®é¥°çš„æ˜¯å®ä¾‹æ–¹æ³• <code>incremental()</code> , åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œå½“å‰çº¿ç¨‹çš„é”ä¾¿æ˜¯å®ä¾‹å¯¹è±¡ <code>incremental</code> ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æ³¨æ„ï¼šåœ¨ <code>Java</code>  ä¸­çº¿ç¨‹åŒæ­¥é”å¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ï¼Œä»ä»£ç æ‰§è¡Œç»“æœæ¥çœ‹ç¡®å®æ˜¯æ­£ç¡®çš„ï¼Œå€˜è‹¥æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨ <code>synchronized</code>  å…³é”®å­—ï¼Œå…¶æœ€ç»ˆæ‰§è¡Œç»“æœå¤§æ¦‚ç‡æ˜¯å°äº <code>2000000</code>  çš„ï¼Œè¿™ä¾¿æ˜¯ <code>synchronized</code>  å…³é”®å­—çš„ä½œç”¨ï¼Œè¿™é‡Œæˆ‘ä»¬è¿˜éœ€è¦æ„è¯†åˆ°ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„ <code>synchronized</code>  å®ä¾‹æ–¹æ³•æ—¶ï¼Œé‚£ä¹ˆå…¶å®ƒçº¿ç¨‹ä¸èƒ½è®¿é—®è¯¥å¯¹è±¡çš„å…¶å®ƒ <code>synchronized</code>  æ–¹æ³•ï¼Œæ¯•ç«Ÿä¸€ä¸ªå¯¹è±¡åªæœ‰ä¸€æŠŠé”ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è·å–äº†è¯¥å¯¹è±¡çš„é”ä¹‹åï¼Œå…¶å®ƒçº¿ç¨‹å°†æ— æ³•å†æ¬¡è·å–è¯¥å¯¹è±¡çš„é”ï¼Œæ‰€ä»¥æ— æ³•è®¿é—®è¯¥å¯¹è±¡çš„å…¶å®ƒ <code>synchronized</code>  å®ä¾‹æ–¹æ³•ï¼Œä½†æ˜¯å…¶å®ƒçº¿ç¨‹è¿˜æ˜¯å¯ä»¥è®¿é—®è¯¥å®ä¾‹å¯¹è±¡çš„å…¶å®ƒé <code>synchronized</code>  æ–¹æ³•ã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¦‚æœï¼šä¸€ä¸ªçº¿ç¨‹ <code>A</code>  éœ€è¦è®¿é—®å®ä¾‹å¯¹è±¡ <code>object1</code>  çš„ <code>synchronized</code>  çš„ <code>a1</code>  æ–¹æ³• (å½“å‰å¯¹è±¡é”æ˜¯ <code>object1</code> )ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ <code>B</code>  éœ€è¦è®¿é—®å®ä¾‹å¯¹è±¡ <code>object2</code>  çš„ <code>synchronized</code>  çš„ <code>a2</code>  æ–¹æ³• (å½“å‰å¯¹è±¡é”æ˜¯ <code>object2</code> )ï¼Œè¿™æ ·æ˜¯å…è®¸çš„ï¼Œä»¥ä¸ºä¸¤ä¸ªå®ä¾‹å¯¹è±¡çš„é”å¹¶ä¸ç›¸åŒï¼Œæ­¤æ—¶äººå·¥ä¸¤ä¸ªçº¿ç¨‹æ“ä½œæ•°æ®å¹¶éå…±äº«æ•°æ®ï¼Œæ­¤æ—¶çº¿ç¨‹æ˜¯å®‰å…¨æœ‰ä¿éšœçš„ï¼Œé—æ†¾çš„æ˜¯å¦‚æœä¸¤ä¸ªçº¿ç¨‹æ“ä½œçš„æ˜¯å…±äº«æ•°æ®é‚£ä¹ˆçº¿ç¨‹å®‰å…¨å°±å¾ˆæœ‰å¯èƒ½æ— æ³•ä¿è¯ï¼Œä¸‹é¢æ˜¯ä»£ç ç¤ºä¾‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SynchronizedDataError.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: éçº¿ç¨‹å®‰å…¨ä½¿ç”¨å…±äº«æ•°æ®</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-15 23:02</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SynchronizedDataError</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * å…±äº«èµ„æº (ä¸´ç•Œèµ„æº)</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token function\">incremental</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * é€’å¢æ–¹æ³•</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">incremental</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºæ–°å®ä¾‹</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t1<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">SynchronizedDataError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºæ–°å®ä¾‹</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t2<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">SynchronizedDataError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\">// å¼€å§‹çº¿ç¨‹</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        t2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token comment\">//join å«ä¹‰ï¼šå½“å‰çº¿ç¨‹ A ç­‰å¾… thread çº¿ç¨‹ç»ˆæ­¢ä¹‹åæ‰èƒ½ä» thread.join () è¿”å›</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        t2<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>           æ‰§è¡Œç»“æœ: 1658464</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>           æ¯æ¬¡æ‰§è¡Œçš„æ•°å€¼æ˜¯éšæœºçš„å¹¶ä¸æ˜¯å›ºå®šçš„æ•°å€¼ï¼Œè¿™å°±æ˜¯éçº¿ç¨‹å®‰å…¨æ“ä½œå…±äº«æ•°æ®</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸Šè¿°ä»£ç ä¸å‰é¢çš„ä¸åŒçš„æ˜¯æˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªæ–°å®ä¾‹çš„ <code>SynchronizedDataError</code>  çº¿ç¨‹å¯¹è±¡ï¼Œç„¶åå¯åŠ¨ä¸¤ä¸ªä¸åŒçš„çº¿ç¨‹å¯¹å…±äº«æ•°æ®å˜é‡ <code>i</code>  è¿›è¡Œæ“ä½œï¼Œé—æ†¾çš„æ˜¯æ‰§è¡Œç»“æœä¸æ˜¯æœŸæœ›çš„ <code>2000000</code> ï¼Œå› æ­¤ä¸Šè¿°ä»£ç çŠ¯äº†ä¸¥é‡çš„é”™è¯¯ï¼Œè™½ç„¶æˆ‘ä»¬ä½¿ç”¨ <code>synchronized</code>  ä¿®é¥°äº† <code>incremental()</code>  æ–¹æ³•ï¼Œä½†æ˜¯åˆ›å»ºçš„æ˜¯ä¸¤ä¸ªä¸åŒçš„å®ä¾‹å¯¹è±¡ï¼Œè¿™ä¹Ÿå°±ä»¥ä¸ºç€å­˜åœ¨ç€ä¸¤ä¸ªä¸åŒå®ä¾‹çš„å¯¹è±¡é”ï¼Œå› æ­¤ <code>t1</code>  å’Œ <code>t2</code>  éƒ½ä¼šè¿›å…¥å„è‡ªçš„å¯¹è±¡é”ä¸­ï¼Œå°±æ˜¯è¯´ <code>t1</code>  å’Œ <code>t2</code>  çº¿ç¨‹ä½¿ç”¨çš„æ˜¯ä¸åŒçš„é”ï¼Œå› è€Œæ— æ³•ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹å¼æ˜¯å°† <code>synchronized</code>  ä½œç”¨äºé™æ€çš„ <code>incremental()</code>  æ–¹æ³•ä¸Šï¼Œè¿™æ ·ä¸€æ¥çš„è¯ï¼Œå¯¹è±¡é”å°±æ˜¯å½“å‰ç±»å¯¹è±¡ï¼Œç”±äºæ— è®ºåˆ›å»ºå¤šå°‘ä¸ªå®ä¾‹å¯¹è±¡ï¼Œä½†å¯¹äºç±»å¯¹è±¡æ‹¥æœ‰åªæœ‰ä¸€ä¸ªï¼Œæ‰€æœ‰åœ¨è¿™æ ·çš„æƒ…å†µä¸‹å¯¹è±¡é”å°±æ˜¯å”¯ä¸€çš„ï¼Œä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SynchronizedDataError.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: çº¿ç¨‹å®‰å…¨ä½¿ç”¨å…±äº«æ•°æ®</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-15 23:02</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SynchronizedDataError</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * å…±äº«èµ„æº (ä¸´ç•Œèµ„æº)</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token function\">incremental</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * é€’å¢æ–¹æ³•</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">incremental</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºæ–°å®ä¾‹</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t1<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">SynchronizedDataError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºæ–°å®ä¾‹</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t2<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">SynchronizedDataError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\">// å¼€å§‹çº¿ç¨‹</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        t2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token comment\">//join å«ä¹‰ï¼šå½“å‰çº¿ç¨‹ A ç­‰å¾… thread çº¿ç¨‹ç»ˆæ­¢ä¹‹åæ‰èƒ½ä» thread.join () è¿”å›</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        t2<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>           æ‰§è¡Œç»“æœ: 2000000</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>           å°† incremental () æ–¹æ³•ä¿®é¥°ä¸º static åå°±å¯ä»¥åšåˆ°çº¿ç¨‹å®‰å…¨çš„äº†</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"synchronizedä¿®é¥°é™æ€æ–¹æ³•\"><a class=\"anchor\" href=\"#synchronizedä¿®é¥°é™æ€æ–¹æ³•\">#</a> synchronized ä¿®é¥°é™æ€æ–¹æ³•</h2>\n<blockquote>\n<p>å½“ <code>synchronized</code>  ä½œç”¨äºé™æ€æ–¹æ³•æ—¶ï¼Œå…¶é”å°±æ˜¯å½“å‰ç±»çš„ <code>class</code>  å¯¹è±¡é”ï¼Œç”±äºé™æ€æˆå‘˜ä¸ä¸“å±äºä»»ä½•ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œå±äºç±»æˆå‘˜ï¼Œå› æ­¤é€šè¿‡ <code>class</code>  å¯¹è±¡é”å°±å¯ä»¥æ§åˆ¶é™æ€æˆå‘˜çš„å¹¶å‘æ“ä½œã€‚éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœï¼šä¸€ä¸ªçº¿ç¨‹ <code>A</code>  è°ƒç”¨ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„é <code>static synchronized</code>  æ–¹æ³•ï¼Œè€Œçº¿ç¨‹ <code>B</code>  éœ€è¦è°ƒç”¨è¿™ä¸ªå®ä¾‹å¯¹è±¡æ‰€å±ç±»çš„é™æ€ <code>synchronized</code>  æ–¹æ³•ï¼Œè¿™æ ·æ˜¯å…è®¸çš„ï¼Œä¸ä¼šå‘ç”Ÿäº’æ–¥ç°è±¡ï¼Œå› ä¸ºè®¿é—®é™æ€ <code>synchronized</code>  æ–¹æ³•å ç”¨çš„é”æ˜¯å½“å‰ç±»çš„ <code>class</code>  å¯¹è±¡ï¼Œè€Œè®¿é—®éé™æ€ <code>synchronized</code>  æ–¹æ³•å ç”¨çš„é”æ˜¯å½“å‰å®ä¾‹å¯¹è±¡é”ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SynchronizedDataClass.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: synchronized ä¿®é¥°é™æ€æ–¹æ³•</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-16 12:33</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SynchronizedDataClass</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * å…±äº«èµ„æº (ä¸´ç•Œèµ„æº)</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token function\">staticIncremental</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * ä½œç”¨äºé™æ€æ–¹æ³•ï¼Œé”æ˜¯å½“å‰ class å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     * SynchronizedDataClass ç±»å¯¹åº”çš„ class å¯¹è±¡</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">staticIncremental</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     * éé™æ€ï¼Œè®¿é—®æ—¶é”ä¸ä¸€æ ·ä¸ä¼šå‘ç”Ÿäº’æ–¥</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">incremental</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token comment\">//new æ–°å®ä¾‹</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">SynchronizedDataClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">SynchronizedDataClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token comment\">// å¯åŠ¨çº¿ç¨‹</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        t2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        t2<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>            æ‰§è¡Œç»“æœï¼š2000000</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ç”±äº <code>synchronized</code>  å…³é”®å­—ä¿®é¥°çš„æ˜¯é™æ€ <code>staticIncremental()</code>  æ–¹æ³•ï¼Œä¸ä¿®é¥°å®ä¾‹æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œå…¶é”å¯¹è±¡æ˜¯å½“å‰ç±»çš„ <code>class</code>  å¯¹è±¡ï¼Œæ³¨æ„ä»£ç ä¸­çš„ <code>incremental()</code>  æ–¹æ³•æ˜¯å®ä¾‹æ–¹æ³•ï¼Œå…¶å¯¹è±¡é”æ˜¯å½“å‰å®ä¾‹å¯¹è±¡ï¼Œå¦‚æœåˆ«çš„çº¿ç¨‹è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå°†ä¸ä¼šäº§ç”Ÿäº’æ–¥ç°è±¡ï¼Œæ¯•ç«Ÿé”å¯¹è±¡ä¸åŒï¼Œä½†æˆ‘ä»¬åº”è¯¥æ„è¯†åˆ°è¿™ç§æƒ…å†µä¸‹å¯èƒ½ä¼šå‘ç°çº¿ç¨‹å®‰å…¨é—®é¢˜ (æ“ä½œå…±äº«èµ„æº)ã€‚</p>\n</blockquote>\n<h2 id=\"synchronizedåŒæ­¥ä»£ç å—\"><a class=\"anchor\" href=\"#synchronizedåŒæ­¥ä»£ç å—\">#</a> synchronized åŒæ­¥ä»£ç å—</h2>\n<blockquote>\n<p>é™¤äº†ä½¿ç”¨ <code>synchronized</code>  å…³é”®å­—ä¿®é¥°å®ä¾‹æ–¹æ³•å’Œé™æ€æ–¹æ³•å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨åŒæ­¥ä»£ç å—ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç¼–å†™çš„æ–¹æ³•ä½“å¯èƒ½æ¯”è¾ƒå¤§ï¼ŒåŒæ—¶å­˜åœ¨ä¸€äº›æ¯”è¾ƒè€—æ—¶çš„æ“ä½œï¼Œè€Œéœ€è¦åŒæ­¥çš„ä»£ç åˆåªæœ‰ä¸€å°éƒ¨åˆ†ï¼Œå¦‚æœç›´æ¥å¯¹æ•´ä¸ªæ–¹æ³•è¿›è¡ŒåŒæ­¥æ“ä½œï¼Œå°±ä¼šéå¸¸è€—æ—¶ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨åŒæ­¥ä»£ç å—çš„æ–¹å¼å¯¹éœ€è¦åŒæ­¥çš„ä»£ç è¿›è¡ŒåŒ…è£¹ï¼Œè¿™æ ·å°±æ— éœ€å¯¹æ•´ä¸ªæ–¹æ³•è¿›è¡ŒåŒæ­¥æ“ä½œäº†ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SynchronizedCodeBlock.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: synchronized åŒæ­¥ä»£ç å—</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-15 23:02</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SynchronizedCodeBlock</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">SynchronizedCodeBlock</span> INSTANCE <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SynchronizedCodeBlock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     * å…±äº«èµ„æº (ä¸´ç•Œèµ„æº)</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * synchronized åŒæ­¥ä»£ç å—ï¼Œé”å¯¹è±¡æ˜¯ INSTANCE</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">synchronized</span> <span class=\"token punctuation\">(</span>INSTANCE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span>INSTANCE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span>INSTANCE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">// å¼€å§‹</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        t2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        t2<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>           æ‰§è¡Œç»“æœ: 2000000</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä»ä¸Šé¢ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼Œå°† <code>synchronized</code>  ä½œç”¨äºä¸€ä¸ªç»™å®šçš„å®ä¾‹å¯¹è±¡ <code>INSTANCE</code> ï¼Œå³å½“å‰å®ä¾‹å¯¹è±¡å°±æ˜¯é”å¯¹è±¡ï¼Œï¼Œæ¯æ¬¡å½“çº¿ç¨‹è¿›å…¥ <code>synchronized</code>  åŒ…è£¹çš„ä»£ç å—æ—¶å°±ä¼šè¦æ±‚å½“å‰çº¿ç¨‹æŒæœ‰ <code>INSTANCE</code>  å®ä¾‹çš„å¯¹è±¡é”ï¼Œå¦‚æœå½“å‰æœ‰å…¶å®ƒçº¿ç¨‹æŒæœ‰è¯¥å¯¹è±¡é”ï¼Œé‚£ä¹ˆæ–°åˆ°çš„çº¿ç¨‹å°±å¿…é¡»ç­‰å¾…ï¼Œè¿™æ ·å°±ä¿è¯äº†æ¯æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œ <code>i++</code>  æ“ä½œã€‚å½“ç„¶é™¤äº† <code>INSTANCE</code>  ä½œä¸ºå¯¹è±¡å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>this</code>  å¯¹è±¡ (ä»£è¡¨å½“å‰å®ä¾‹) æˆ–è€…å½“å‰ç±»çš„ <code>class</code>  å¯¹è±¡ä½œä¸ºé”ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SynchronizedCodeBlockThis.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: synchronized åŒæ­¥ä»£ç å— this</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-15 23:02</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SynchronizedCodeBlockThis</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * å…±äº«èµ„æº (ä¸´ç•Œèµ„æº)</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">//this: å½“å‰å®ä¾‹å¯¹è±¡é”</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">synchronized</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">//class å¯¹è±¡é”</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">synchronized</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SynchronizedCodeBlockThis</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>                i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>äº†è§£å®Œäº† <code>synchronized</code>  çš„åŸºæœ¬å«ä¹‰å’Œä½¿ç”¨æ–¹å¼åï¼Œä¸‹é¢å°†è¿›ä¸€æ­¥æ·±å…¥ <code>synchronized</code>  çš„åº•å±‚å®ç°åŸç†ã€‚</p>\n</blockquote>\n<h1 id=\"synchronizedåº•å±‚è¯­ä¹‰\"><a class=\"anchor\" href=\"#synchronizedåº•å±‚è¯­ä¹‰\">#</a> synchronized åº•å±‚è¯­ä¹‰</h1>\n<ul>\n<li><code>Java</code>  è™šæ‹Ÿæœºä¸­çš„åŒæ­¥ ( <code>Synchronization</code> ) åŸºäºè¿›å…¥å’Œé€€å‡ºç®¡ç¨‹ ( <code>Monitor</code> ) å¯¹è±¡å®ç°ï¼Œæ— è®ºæ˜¯æ˜¾ç¤ºåŒæ­¥è¿˜æ˜¯éšå¼åŒæ­¥éƒ½æ˜¯å¦‚æ­¤ã€‚\n<ul>\n<li>æ˜¾ç¤ºåŒæ­¥æ˜¯æŒ‡æœ‰æ˜ç¡®çš„ <code>monitorenter</code>  å’Œ <code>monitorexit</code>  æŒ‡ä»¤ï¼Œå³ï¼šåŒæ­¥ä»£ç å—ã€‚</li>\n</ul>\n</li>\n<li>åœ¨ <code>Java</code>  ä¸­ï¼Œ <code>synchronized</code>  ç”¨çš„æœ€å¤šçš„åœ°æ–¹å°±æ˜¯è¢« <code>synchronized</code>  ä¿®é¥°çš„åŒæ­¥æ–¹æ³•ã€‚</li>\n<li>åŒæ­¥æ–¹æ³•å¹¶ä¸æ˜¯ç”± <code>monitorenter</code>  å’Œ <code>monitorexit</code>  æŒ‡ä»¤æ¥å®ç°åŒæ­¥çš„ï¼Œè€Œæ˜¯ç”±æ–¹æ³•è°ƒç”¨æŒ‡ä»¤è¯»å–è¿è¡Œæ—¶å¸¸é‡æ± ä¸­çš„ <code>ACC_SYNCHRONIZED</code>  æ ‡å¿—æ¥éšå¼å®ç°çš„ã€‚</li>\n<li>ä¸‹é¢å…ˆæ¥äº†è§£ä¸€ä¸‹ <code>Java</code>  å¯¹è±¡å¤´æ¦‚å¿µï¼Œè¿™å¯¹ç†è§£ <code>synchronized</code>  å®ç°åŸç†å¾ˆé‡è¦ã€‚</li>\n</ul>\n<h1 id=\"javaå¯¹è±¡å¤´ä¸monitor\"><a class=\"anchor\" href=\"#javaå¯¹è±¡å¤´ä¸monitor\">#</a> Java å¯¹è±¡å¤´ä¸ Monitor</h1>\n<ul>\n<li><code>JVM</code>  ä¸­å¯¹è±¡åœ¨å†…å­˜é‡Œåˆ†å¸ƒä¸ºä¸‰å—åŒºåŸŸï¼šå¯¹è±¡å¤´ã€å®ä¾‹æ•°æ®ã€å¯¹é½å¡«å……ã€‚\n<ul>\n<li><code>å¯¹è±¡å¤´</code> ï¼š<a href=\"#%E5%AF%B9%E8%B1%A1%E5%A4%B4%E9%87%8D%E7%82%B9%E5%88%86%E6%9E%90\">å¯¹è±¡å¤´é‡ç‚¹åˆ†æ</a>ã€‚</li>\n<li><code>å®ä¾‹æ•°æ®</code> ï¼šè¿™éƒ¨åˆ†æ˜¯å¯¹è±¡çœŸæ­£å­˜å‚¨çš„æœ‰æ•ˆä¿¡æ¯ï¼Œä¹Ÿæ˜¯åœ¨ç¨‹åºä»£ç ä¸­æ‰€å®šä¹‰çš„å„ç§ç±»å‹çš„å­—æ®µå†…å®¹ï¼Œæ— è®ºæ˜¯ä»çˆ¶ç±»ç»§æ‰¿ä¸‹æ¥çš„ï¼Œè¿˜æ˜¯åœ¨å­ç±»ä¸­å®šä¹‰çš„ï¼Œéƒ½éœ€è¦è®°å½•èµ·æ¥ã€‚</li>\n<li><code>å¯¹é½å¡«å……</code> ï¼šç”±äºè™šæ‹Ÿæœºè¦æ±‚å¯¹è±¡èµ·å§‹åœ°å€å¿…é¡»æ˜¯ <code>8</code>  å­—èŠ‚çš„æ•´æ•°å€ï¼Œå¯¹é½å¡«å……å¹¶ä¸æ˜¯å¿…é¡»å­˜åœ¨çš„ï¼Œä»…ä»…æ˜¯ä¸ºäº†å­—èŠ‚å¯¹é½ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"å¯¹è±¡å¤´é‡ç‚¹åˆ†æ\"><a class=\"anchor\" href=\"#å¯¹è±¡å¤´é‡ç‚¹åˆ†æ\">#</a> å¯¹è±¡å¤´é‡ç‚¹åˆ†æ</h2>\n<blockquote>\n<p>å¯¹è±¡å¤´å®ƒæ˜¯å®ç° <code>synchronized</code>  é”å¯¹è±¡çš„åŸºç¡€ï¼Œä¸€èˆ¬è€Œè¨€ <code>synchronized</code>  ä½¿ç”¨çš„é”å¯¹è±¡æ˜¯å­˜å‚¨åœ¨ <code>Java</code>  å¯¹è±¡å¤´ä¸­çš„ï¼Œ <code>JVM</code>  é‡‡ç”¨ä¸¤ä¸ªå­—æ¥å­˜å‚¨å¯¹è±¡å¤´ï¼Œå…¶ä¸»è¦ç»“æ„æ˜¯ç”± <code>Mark Word</code>  å’Œ <code>Class Metadata Address</code>  ç»„æˆï¼Œå¦‚æœå¯¹è±¡æ˜¯æ•°ç»„åˆ™ä¼šåˆ†é…ä¸‰ä¸ªå­—ï¼Œå¤šå‡ºæ¥çš„ä¸€ä¸ªå­—ç”¨äºè®°å½•æ•°ç»„é•¿åº¦ï¼Œç»“æ„è¯´æ˜è¯·çœ‹ä¸‹è¡¨ï¼š</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">è™šæ‹Ÿæœºä½æ•°</th>\n<th style=\"text-align:center\">å¯¹è±¡å¤´ç»“æ„</th>\n<th style=\"text-align:center\">æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>32/64bit</code></td>\n<td style=\"text-align:center\"><code>Mark Word</code></td>\n<td style=\"text-align:center\">å­˜å‚¨å¯¹è±¡çš„ <code>hashCode</code> ã€é”ä¿¡æ¯æˆ–åˆ†ä»£å¹´é¾„æˆ– <code>GC</code>  æ ‡å¿—ç­‰ä¿¡æ¯</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>32/64bit</code></td>\n<td style=\"text-align:center\"><code>Class Metadata Address</code></td>\n<td style=\"text-align:center\">ç±»å‹æŒ‡é’ˆæŒ‡å‘å¯¹è±¡çš„ç±»å…ƒæ•°æ®ï¼Œ <code>JVM</code>  é€šè¿‡è¿™ä¸ªæŒ‡é’ˆç¡®å®šè¯¥å¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><code>Mark Word</code>  åœ¨é»˜è®¤æƒ…å†µä¸‹å­˜å‚¨ç€å¯¹è±¡çš„ <code>hashCode</code>   <code>åˆ†ä»£å¹´é¾„</code>   <code>é”çŠ¶æ€æ ‡è®°</code> ç­‰ï¼Œä¸‹è¡¨æ˜¯ <code>32</code>  ä½ <code>JVM</code>  çš„ <code>Mark Word</code>  é»˜è®¤å­˜å‚¨ç»“æ„ã€‚</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">é”çŠ¶æ€</th>\n<th style=\"text-align:center\">25bit</th>\n<th style=\"text-align:center\">4bit</th>\n<th style=\"text-align:center\">1bit æ˜¯å¦æ˜¯åå‘é”</th>\n<th style=\"text-align:center\">2bit é”æ ‡å¿—ä½</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">æ— é”çŠ¶æ€</td>\n<td style=\"text-align:center\">å¯¹è±¡ <code>hashCode</code></td>\n<td style=\"text-align:center\">å¯¹è±¡åˆ†ä»£å¹´é¾„</td>\n<td style=\"text-align:center\"><code>0</code></td>\n<td style=\"text-align:center\"><code>01</code></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>ç”±äºå¯¹è±¡å¤´ä¿¡æ¯æ˜¯å¯¹è±¡è‡ªèº«å®šä¹‰çš„æ•°æ®æ²¡æœ‰å…³ç³»çš„é¢å¤–å‚¨å­˜æˆæœ¬ï¼Œå› æ­¤è€ƒè™‘åˆ° <code>JVM</code>  çš„ç©ºé—´æ•ˆç‡ï¼Œ <code>Mark Word</code>  è¢«è®¾è®¡æˆä¸€ä¸ªéå›ºå®šçš„æ•°æ®ç»“æ„ï¼Œä»¥ä¾¿å­˜å‚¨æ›´å¤šæœ‰æ•ˆæ•°æ®ï¼Œå®ƒä¼šæ ¹æ®å¯¹è±¡æœ¬èº«çŠ¶æ€æ¥å¤ç”¨è‡ªå·±çš„å­˜å‚¨ç©ºé—´ï¼Œå¦‚ï¼š <code>32</code>  ä½çš„ <code>JVM</code>  é™¤äº†ä¸Šè¿°åˆ—å‡ºçš„ <code>Mark Word</code>  é»˜è®¤å­˜å‚¨ç»“æ„å¤–ï¼Œè¿˜æœ‰å¯èƒ½å˜ä¸ºå¦‚ä¸‹ç»“æ„ï¼š</p>\n</blockquote>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/16/pi4XAqP.png\" alt=\"pi4XAqP.png\" /></p>\n<blockquote>\n<p>è½»é‡çº§é”å’Œåå‘é”æ˜¯ <code>Java 6</code>  å¯¹ <code>synchronized</code>  è¿›è¡Œä¼˜åŒ–åæ–°å¢çš„ï¼Œåœ¨è¿™æˆ‘ä»¬å…ˆåˆ†æé‡é‡çº§é”ä¹Ÿå°±æ˜¯ <code>synchronized</code>  çš„å¯¹è±¡é”ï¼Œé”çŠ¶æ€æ ‡è®°ä¸º <code>10</code>  å…¶ä¸­æŒ‡é’ˆæŒ‡å‘çš„æ˜¯ <code>monitor</code>  å¯¹è±¡ (ç®¡ç¨‹æˆ–ç›‘è§†å™¨é”) çš„èµ·å§‹åœ°å€ã€‚æ¯ä¸ªå¯¹è±¡éƒ½å­˜åœ¨ç€ä¸€ä¸ª <code>monitor</code>  ä¸ä¹‹å…³è”ï¼Œå¯¹è±¡ä¸å…¶ <code>monitor</code>  ä¹‹é—´çš„å…³ç³»å­˜åœ¨å¤šç§å®ç°æ–¹å¼ã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¦‚ï¼š <code>monitor</code>  å¯ä»¥ä¸å¯¹è±¡ä¸€èµ·åˆ›å»ºé”€æ¯æˆ–å½“çº¿ç¨‹è¯•å›¾è·å–å¯¹è±¡é”æ—¶è‡ªåŠ¨ç”Ÿæˆï¼Œä½†å½“ä¸€ä¸ª <code>monitor</code>  è¢«æŸä¸ªçº¿ç¨‹æŒæœ‰åï¼Œå®ƒä¾¿å¤„äºé”å®šçŠ¶æ€ã€‚åœ¨ <code>Java</code>  è™šæ‹Ÿæœº ( <code>HotSpot</code> ) ä¸­ï¼Œ <code>monitor</code>  æ˜¯ç”± <code>ObjectMonitor</code>  æ¥å®ç°çš„ï¼Œå…¶ä¸»è¦æ•°æ®ç»“æ„å¦‚ä¸‹ï¼Œä½äº <code>HotSpot</code>  è™šæ‹Ÿæœºæºç  <code>ObjectMonitor.hpp</code>  æ–‡ä»¶ï¼Œç”± <code>C++</code>  å®ç°ã€‚</p>\n</blockquote>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"><span>ObjectMonitor.hpp</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ObjectMonitor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    _header       <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    _count        <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// è®°å½•ä¸ªæ•°</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    _waiters      <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    _recursions   <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// çº¿ç¨‹çš„é‡å…¥æ¬¡æ•°</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    _object       <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    _owner        <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// æ ‡è¯†æ‹¥æœ‰è¯¥ monitor çš„çº¿ç¨‹</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    _WaitSet      <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// å¤„äº wait çŠ¶æ€çš„çº¿ç¨‹ï¼Œä¼šè¢«åŠ å…¥åˆ°_WaitSet</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    _WaitSetLock  <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    _Responsible  <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    _succ         <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    _cxq          <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    FreeNext      <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    _EntryList    <span class=\"token operator\">=</span> <span class=\"token constant\">NULL</span> <span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¤„äºç­‰å¾…é” block çŠ¶æ€çš„çº¿ç¨‹ï¼Œä¼šè¢«åŠ å…¥åˆ°è¯¥åˆ—è¡¨</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    _SpinFreq     <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    _SpinClock    <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    OwnerIsThread <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    _previous_owner_tid <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>ObjectMonitor</code>  ä¸­æœ‰ä¸¤ä¸ªé˜Ÿåˆ—åˆ†åˆ«æ˜¯ <code>_WaitSet</code>  å’Œ <code>_EntryList</code> , ç”¨äºä¿å­˜ <code>ObjectWaiter</code>  å¯¹è±¡åˆ—è¡¨ï¼Œè€Œæ¯ä¸ªç­‰å¾…é”çš„çº¿ç¨‹éƒ½ä¼šè¢«å°è£…æˆ <code>ObjectWaiter</code>  å¯¹è±¡ï¼Œ <code>_owner</code>  æŒ‡å‘æŒæœ‰ <code>ObjectMonitor</code>  å¯¹è±¡çš„çº¿ç¨‹ï¼Œå½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€æ®µåŒæ­¥ä»£ç æ—¶ï¼Œé¦–å…ˆä¼šè¿›å…¥ <code>_EntryList</code>  é›†åˆï¼Œå½“çº¿ç¨‹è·å–åˆ°å¯¹è±¡çš„ <code>monitor</code>  åå°†è¿›å…¥ <code>_owner</code>  åŒºåŸŸå¹¶æŠŠ <code>monitor</code>  ä¸­çš„ <code>_owner</code>  å˜é‡è®¾ç½®ä¸ºå½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶ <code>monitor</code>  ä¸­çš„è®¡æ•°å™¨ <code>count</code>  å°†ä¼š <code>+1</code> ï¼Œè‹¥çº¿ç¨‹è°ƒç”¨ <code>wait()</code>  æ–¹æ³•ï¼Œå°†é‡Šæ”¾å½“å‰æŒæœ‰çš„ <code>monitor</code> , <code>_owner</code>  å˜é‡æ¢å¤ä¸º <code>Null</code>  ç„¶å <code>count</code>  ä¼š <code>-1</code> ï¼Œè¯¥çº¿ç¨‹å°†ä¼šè¿›å…¥ <code>_WaitSet</code>  é›†åˆä¸­ç­‰å¾…è¢«å”¤é†’ã€‚è‹¥å½“å‰çº¿ç¨‹æ‰§è¡Œå®Œæ¯•å°†é‡Šæ”¾ <code>monitor</code>  å¹¶å¤ä½å˜é‡çš„å€¼ï¼Œä»¥ä¾¿å…¶å®ƒçº¿ç¨‹è¿›å…¥è·å– <code>monitor</code>  é”ã€‚</p>\n</blockquote>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/16/pi5ASmD.png\" alt=\"pi5ASmD.png\" /></p>\n<blockquote>\n<p>ç”±æ­¤å¯ä»¥çœ‹å‡º <code>monitor</code>  å¯¹è±¡å­˜åœ¨äºæ¯ä¸ª <code>Java</code>  å¯¹è±¡çš„å¯¹è±¡å¤´ä¸­ (å­˜å‚¨çš„æŒ‡é’ˆæŒ‡å‘)ï¼Œ <code>synchronized</code>  ä¾¿æ˜¯é€šè¿‡è¿™ç§æ–¹å¼è·å–é”çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ <code>Java</code>  ä¸­ä»»æ„å¯¹è±¡å¯ä»¥ä½œä¸ºé”çš„åŸå› ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ <code>noify</code> ã€ <code>notifyAll</code> ã€ <code>wait</code>  ç­‰æ–¹æ³•å­˜åœ¨äºé¡¶çº§å¯¹è±¡ <code>Object</code>  ä¸­çš„åŸå› ï¼Œåœ¨äº†è§£äº†ä¸Šé¢çš„çŸ¥è¯†åŸºç¡€åï¼Œå°†è¿›ä¸€æ­¥æ¥åˆ†æ <code>synchronized</code>  åœ¨å­—èŠ‚ç å±‚é¢çš„å…·ä½“è¯­ä¹‰å®ç°ã€‚</p>\n</blockquote>\n<h1 id=\"synchronizedä»£ç å—åº•å±‚åŸç†\"><a class=\"anchor\" href=\"#synchronizedä»£ç å—åº•å±‚åŸç†\">#</a> synchronized ä»£ç å—åº•å±‚åŸç†</h1>\n<blockquote>\n<p>ç°åœ¨é‡æ–°æ¥å®šä¹‰ä¸€ä¸ª <code>synchronized</code>  åŒæ­¥ä»£ç å—ï¼Œåœ¨ä»£ç å—ä¸­æ“ä½œå…±äº«å˜é‡ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SyncCodeBlock.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: synchronized åŒæ­¥ä»£ç å—ç”¨äº javap åç¼–è¯‘</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-16 22:30</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SyncCodeBlock</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">syncTask</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">// åŒæ­¥ä»£ç å—</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">synchronized</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ç¼–è¯‘ä¸Šè¿°ä»£ç å¹¶ä½¿ç”¨ <code>javap</code>  å‘½ä»¤æ¥åç¼–è¯‘å¾—åˆ°å­—èŠ‚ç ï¼Œåç¼–è¯‘å‘½ä»¤å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>å‘½ä»¤è¡Œæç¤ºç¬¦</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[root@localhost] $\"></td><td><pre>javap -p -s -l -v -constants -c -sysinfo SyncCodeBlock.class</pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SyncCodeBlock.class</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">Classfile</span> <span class=\"token operator\">/</span><span class=\"token class-name\">D</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>é¡¹ç›®<span class=\"token operator\">/</span>gitee<span class=\"token operator\">/</span><span class=\"token keyword\">synchronized</span><span class=\"token operator\">-</span>example<span class=\"token operator\">/</span>target<span class=\"token operator\">/</span>classes<span class=\"token operator\">/</span>top<span class=\"token operator\">/</span>rem<span class=\"token operator\">/</span>rain<span class=\"token operator\">/</span>synchronized_example<span class=\"token operator\">/</span><span class=\"token class-name\">SyncCodeBlock</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token class-name\">Last</span> modified <span class=\"token number\">2023</span>å¹´<span class=\"token number\">12</span>æœˆ<span class=\"token number\">17</span>æ—¥<span class=\"token punctuation\">;</span> size <span class=\"token number\">544</span> bytes</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  SHA<span class=\"token operator\">-</span><span class=\"token number\">256</span> checksum <span class=\"token number\">448</span>b5a7d5bcb275bb0612dbae81d517f7fa275735caecef1ace76e30f695a070</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token class-name\">Compiled</span> from <span class=\"token string\">\"SyncCodeBlock.java\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\"><span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example<span class=\"token punctuation\">.</span></span>SyncCodeBlock</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  minor version<span class=\"token operator\">:</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  major version<span class=\"token operator\">:</span> <span class=\"token number\">61</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  flags<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0x0021</span><span class=\"token punctuation\">)</span> ACC_PUBLIC<span class=\"token punctuation\">,</span> ACC_SUPER</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  this_class<span class=\"token operator\">:</span> #<span class=\"token number\">8</span>                          <span class=\"token comment\">// top/rem/rain/synchronized_example/SyncCodeBlock</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  super_class<span class=\"token operator\">:</span> #<span class=\"token number\">2</span>                         <span class=\"token comment\">// java/lang/Object</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  interfaces<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> fields<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> methods<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> attributes<span class=\"token operator\">:</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token class-name\">Constant</span> pool<span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>   #<span class=\"token number\">1</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Methodref</span>          #<span class=\"token number\">2.</span>#<span class=\"token number\">3</span>          <span class=\"token comment\">// java/lang/Object.\"&lt;init>\":()V</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>   #<span class=\"token number\">2</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span>              #<span class=\"token number\">4</span>             <span class=\"token comment\">// java/lang/Object</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>   #<span class=\"token number\">3</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">NameAndType</span>        #<span class=\"token number\">5</span><span class=\"token operator\">:</span>#<span class=\"token number\">6</span>          <span class=\"token comment\">// \"&lt;init>\":()V</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>   #<span class=\"token number\">4</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               java<span class=\"token operator\">/</span>lang<span class=\"token operator\">/</span><span class=\"token class-name\">Object</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>   #<span class=\"token number\">5</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>init<span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>   #<span class=\"token number\">6</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">V</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>   #<span class=\"token number\">7</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Fieldref</span>           #<span class=\"token number\">8.</span>#<span class=\"token number\">9</span>          <span class=\"token comment\">// top/rem/rain/synchronized_example/SyncCodeBlock.i:I</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>   #<span class=\"token number\">8</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span>              #<span class=\"token number\">10</span>            <span class=\"token comment\">// top/rem/rain/synchronized_example/SyncCodeBlock</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>   #<span class=\"token number\">9</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">NameAndType</span>        #<span class=\"token number\">11</span><span class=\"token operator\">:</span>#<span class=\"token number\">12</span>        <span class=\"token comment\">// i:I</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  #<span class=\"token number\">10</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               top<span class=\"token operator\">/</span>rem<span class=\"token operator\">/</span>rain<span class=\"token operator\">/</span>synchronized_example<span class=\"token operator\">/</span><span class=\"token class-name\">SyncCodeBlock</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  #<span class=\"token number\">11</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               i</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  #<span class=\"token number\">12</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">I</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  #<span class=\"token number\">13</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">Code</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  #<span class=\"token number\">14</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">LineNumberTable</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  #<span class=\"token number\">15</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">LocalVariableTable</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  #<span class=\"token number\">16</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token keyword\">this</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  #<span class=\"token number\">17</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">Ltop</span><span class=\"token operator\">/</span>rem<span class=\"token operator\">/</span>rain<span class=\"token operator\">/</span>synchronized_example<span class=\"token operator\">/</span><span class=\"token class-name\">SyncCodeBlock</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  #<span class=\"token number\">18</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               syncTask</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  #<span class=\"token number\">19</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">StackMapTable</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  #<span class=\"token number\">20</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span>              #<span class=\"token number\">21</span>            <span class=\"token comment\">// java/lang/Throwable</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  #<span class=\"token number\">21</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               java<span class=\"token operator\">/</span>lang<span class=\"token operator\">/</span><span class=\"token class-name\">Throwable</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  #<span class=\"token number\">22</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">SourceFile</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  #<span class=\"token number\">23</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">SyncCodeBlock</span><span class=\"token punctuation\">.</span>java</pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    descriptor<span class=\"token operator\">:</span> <span class=\"token class-name\">I</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    flags<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0x000a</span><span class=\"token punctuation\">)</span> ACC_PRIVATE<span class=\"token punctuation\">,</span> ACC_STATIC</pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token comment\">// æ„é€ å‡½æ•°</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example<span class=\"token punctuation\">.</span></span>SyncCodeBlock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    descriptor<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">V</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    flags<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0x0001</span><span class=\"token punctuation\">)</span> ACC_PUBLIC</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token class-name\">Code</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>      stack<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> locals<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> args_size<span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>         <span class=\"token number\">0</span><span class=\"token operator\">:</span> aload_0</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>         <span class=\"token number\">1</span><span class=\"token operator\">:</span> invokespecial #<span class=\"token number\">1</span>                  <span class=\"token comment\">// Method java/lang/Object.\"&lt;init>\":()V</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>         <span class=\"token number\">4</span><span class=\"token operator\">:</span> <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>      <span class=\"token class-name\">LineNumberTable</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        line <span class=\"token number\">9</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>      <span class=\"token class-name\">LocalVariableTable</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token class-name\">Start</span>  <span class=\"token class-name\">Length</span>  <span class=\"token class-name\">Slot</span>  <span class=\"token class-name\">Name</span>   <span class=\"token class-name\">Signature</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            <span class=\"token number\">0</span>       <span class=\"token number\">5</span>     <span class=\"token number\">0</span>  <span class=\"token keyword\">this</span>   <span class=\"token class-name\">Ltop</span><span class=\"token operator\">/</span>rem<span class=\"token operator\">/</span>rain<span class=\"token operator\">/</span>synchronized_example<span class=\"token operator\">/</span><span class=\"token class-name\">SyncCodeBlock</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>  <span class=\"token comment\">// ä¸»è¦æ¥çœ‹ syncTask æ–¹æ³•å®ç°</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">syncTask</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    descriptor<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">V</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    flags<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0x0001</span><span class=\"token punctuation\">)</span> ACC_PUBLIC</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    <span class=\"token class-name\">Code</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>      stack<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> locals<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> args_size<span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>         <span class=\"token number\">0</span><span class=\"token operator\">:</span> aload_0</pre></td></tr><tr><td data-num=\"63\"></td><td><pre>         <span class=\"token number\">1</span><span class=\"token operator\">:</span> dup</pre></td></tr><tr><td data-num=\"64\"></td><td><pre>         <span class=\"token number\">2</span><span class=\"token operator\">:</span> astore_1</pre></td></tr><tr><td data-num=\"65\"></td><td><pre>         <span class=\"token number\">3</span><span class=\"token operator\">:</span> monitorenter  <span class=\"token comment\">// æ­¤å¤„è¿›å…¥åŒæ­¥æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>         <span class=\"token number\">4</span><span class=\"token operator\">:</span> getstatic     #<span class=\"token number\">7</span>                  <span class=\"token comment\">// Field i:I</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>         <span class=\"token number\">7</span><span class=\"token operator\">:</span> iconst_1</pre></td></tr><tr><td data-num=\"68\"></td><td><pre>         <span class=\"token number\">8</span><span class=\"token operator\">:</span> iadd</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>         <span class=\"token number\">9</span><span class=\"token operator\">:</span> putstatic     #<span class=\"token number\">7</span>                  <span class=\"token comment\">// Field i:I</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token number\">12</span><span class=\"token operator\">:</span> aload_1</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token number\">13</span><span class=\"token operator\">:</span> monitorexit  <span class=\"token comment\">// æ­¤å¤„é€€å‡ºåŒæ­¥æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        <span class=\"token number\">14</span><span class=\"token operator\">:</span> <span class=\"token keyword\">goto</span>          <span class=\"token number\">22</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        <span class=\"token number\">17</span><span class=\"token operator\">:</span> astore_2</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token number\">18</span><span class=\"token operator\">:</span> aload_1</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        <span class=\"token number\">19</span><span class=\"token operator\">:</span> monitorexit  <span class=\"token comment\">// æ­¤å¤„é€€å‡ºåŒæ­¥æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        <span class=\"token number\">20</span><span class=\"token operator\">:</span> aload_2</pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token number\">21</span><span class=\"token operator\">:</span> athrow</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token number\">22</span><span class=\"token operator\">:</span> <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>      <span class=\"token class-name\">Exception</span> table<span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>         from    <span class=\"token keyword\">to</span>  <span class=\"token namespace\">target</span> type</pre></td></tr><tr><td data-num=\"81\"></td><td><pre>             <span class=\"token number\">4</span>    <span class=\"token number\">14</span>    <span class=\"token number\">17</span>   any</pre></td></tr><tr><td data-num=\"82\"></td><td><pre>            <span class=\"token number\">17</span>    <span class=\"token number\">20</span>    <span class=\"token number\">17</span>   any</pre></td></tr><tr><td data-num=\"83\"></td><td><pre>      <span class=\"token class-name\">LineNumberTable</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>        line <span class=\"token number\">14</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        line <span class=\"token number\">15</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>        line <span class=\"token number\">16</span><span class=\"token operator\">:</span> <span class=\"token number\">12</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        line <span class=\"token number\">17</span><span class=\"token operator\">:</span> <span class=\"token number\">22</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>      <span class=\"token class-name\">LocalVariableTable</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>        <span class=\"token class-name\">Start</span>  <span class=\"token class-name\">Length</span>  <span class=\"token class-name\">Slot</span>  <span class=\"token class-name\">Name</span>   <span class=\"token class-name\">Signature</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>            <span class=\"token number\">0</span>      <span class=\"token number\">23</span>     <span class=\"token number\">0</span>  <span class=\"token keyword\">this</span>   <span class=\"token class-name\">Ltop</span><span class=\"token operator\">/</span>rem<span class=\"token operator\">/</span>rain<span class=\"token operator\">/</span>synchronized_example<span class=\"token operator\">/</span><span class=\"token class-name\">SyncCodeBlock</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>      <span class=\"token class-name\">StackMapTable</span><span class=\"token operator\">:</span> number_of_entries <span class=\"token operator\">=</span> <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>        frame_type <span class=\"token operator\">=</span> <span class=\"token number\">255</span> <span class=\"token comment\">/* full_frame */</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>          offset_delta <span class=\"token operator\">=</span> <span class=\"token number\">17</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>          locals <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token keyword\">class</span> top<span class=\"token operator\">/</span>rem<span class=\"token operator\">/</span>rain<span class=\"token operator\">/</span>synchronized_example<span class=\"token operator\">/</span><span class=\"token class-name\">SyncCodeBlock</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">class</span> java<span class=\"token operator\">/</span>lang<span class=\"token operator\">/</span><span class=\"token class-name\">Object</span> <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>          stack <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token keyword\">class</span> java<span class=\"token operator\">/</span>lang<span class=\"token operator\">/</span><span class=\"token class-name\">Throwable</span> <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>        frame_type <span class=\"token operator\">=</span> <span class=\"token number\">250</span> <span class=\"token comment\">/* chop */</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>          offset_delta <span class=\"token operator\">=</span> <span class=\"token number\">4</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre><span class=\"token class-name\">SourceFile</span><span class=\"token operator\">:</span> <span class=\"token string\">\"SyncCodeBlock.java\"</span></pre></td></tr></table></figure><blockquote>\n<p>ä»å­—èŠ‚ç ä¸­å¯ä»¥çœ‹å‡ºåŒæ­¥ä»£ç å—çš„å®ç°ä½¿ç”¨çš„æ˜¯ <code>monitorenter</code>  å’Œ <code>monitorexit</code>  æŒ‡ä»¤ï¼Œå…¶ä¸­ <code>monitorenter</code>  æŒ‡ä»¤æŒ‡å‘åŒæ­¥ä»£ç å—çš„å¼€å§‹ä½ç½®ï¼Œè€Œ <code>monitorexit</code>  æŒ‡ä»¤åˆ™æŒ‡æ˜åŒæ­¥ä»£ç å—çš„ç»“æŸä½ç½®ï¼Œå½“æ‰§è¡Œ <code>monitorenter</code>  æŒ‡ä»¤æ—¶ï¼Œå½“å‰çº¿ç¨‹å°†è¯•å›¾è·å– <code>objectref</code>  (å¯¹è±¡é”) æ‰€å¯¹åº”çš„ <code>monitor</code>  çš„æŒæœ‰æƒï¼Œå½“ <code>objector</code>  çš„ <code>monitor</code>  è¿›å…¥æ—¶è®¡æ•°å™¨ä¸º <code>0</code> ï¼Œé‚£ä¹ˆçº¿ç¨‹å°±å¯ä»¥æˆåŠŸè·å–åˆ° <code>monitor</code> ï¼Œå¹¶å°†è®¡æ•°å™¨è®¾ç½®ä¸º <code>1</code>  åˆ™ä»£è¡¨å–é”æˆåŠŸã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¦‚æœå½“å‰çº¿ç¨‹å·²æŒæœ‰ <code>objectref</code>  çš„ <code>monitor</code>  æŒæœ‰æƒï¼Œé‚£å®ƒå¯ä»¥é‡å…¥è¿™ä¸ª <code>monitor</code>  (é‡å…¥å°†åœ¨åé¢ä»‹ç»)ï¼Œé‡å…¥æ—¶è®¡æ•°å™¨çš„å€¼ä¹Ÿä¼š <code>+1</code> ã€‚å€˜è‹¥å…¶å®ƒçº¿ç¨‹å·²æ‹¥æœ‰ <code>objectref</code>  çš„ <code>monitor</code>  æŒæœ‰æƒï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹å°†è¢«é˜»å¡ï¼Œç›´åˆ°æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯• (å³ï¼š <code>monitorexit</code>  æŒ‡ä»¤è¢«æ‰§è¡Œ)ï¼Œæ‰§è¡Œå®Œ <code>monitorexit</code>  æŒ‡ä»¤åçº¿ç¨‹å°†é‡Šæ”¾ <code>monitor</code>  é”å¹¶è®¾ç½®è®¡æ•°å™¨ä¸º <code>0</code> ï¼Œå…¶ä»–çº¿ç¨‹å°†æœ‰æœºä¼šæŒæœ‰ <code>monitor</code> ã€‚</p>\n</blockquote>\n<blockquote>\n<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ç¼–è¯‘å™¨å°†ä¼šç¡®ä¿ï¼Œæ— è®ºæ–¹æ³•é€šè¿‡ä»»ä½•ä¸€ç§æ–¹å¼å®Œæˆï¼Œ æ–¹æ³•ä¸­è°ƒç”¨è¿‡çš„æ¯æ¡ <code>monitorenter</code>  æŒ‡ä»¤éƒ½æœ‰å…¶å¯¹åº”çš„ <code>monitorexit</code>  æŒ‡ä»¤æ‰§è¡Œï¼Œè€Œæ— è®ºè¿™ä¸ªæ–¹æ³•æ˜¯å¦æ­£å¸¸ç»“æŸè¿˜æ˜¯å¼‚å¸¸ç»“æŸï¼Œä¸ºäº†ç¡®ä¿åœ¨æ–¹æ³•å¼‚å¸¸å®Œæˆæ—¶ <code>monitorenter</code>  å’Œ <code>monitorexit</code>  æŒ‡ä»¤ä¾ç„¶å¯ä»¥æ­£ç¡®é…å¯¹æ‰§è¡Œï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨äº§ç”Ÿä¸€ä¸ªå¼‚å¸¸å¤„ç†å™¨ï¼Œè¿™ä¸ªå¼‚å¸¸å¤„ç†å™¨å£°æ˜å¯å¤„ç†æ‰€æœ‰çš„å¼‚å¸¸ï¼Œå®ƒçš„ç›®çš„å°±æ˜¯ç”¨æ¥æ‰§è¡Œ <code>monitorexit</code>  æŒ‡ä»¤ï¼Œä»å­—èŠ‚ç ä¸­å¯ä»¥çœ‹å‡ºå¤šäº†ä¸€ä¸ª <code>monitorexit</code>  æŒ‡ä»¤ï¼Œå®ƒå°±æ˜¯å¼‚å¸¸ç»“æŸæ—¶è¢«æ‰§è¡Œé‡Šæ”¾ <code>monitor</code>  çš„æŒ‡ä»¤ã€‚</p>\n</blockquote>\n<h1 id=\"synchronizedæ–¹æ³•åº•å±‚åŸç†\"><a class=\"anchor\" href=\"#synchronizedæ–¹æ³•åº•å±‚åŸç†\">#</a> synchronized æ–¹æ³•åº•å±‚åŸç†</h1>\n<blockquote>\n<p><code>synchronized</code>  æ–¹æ³•çº§çš„åŒæ­¥æ˜¯éšå¼çš„ï¼Œå³æ— éœ€é€šè¿‡å­—èŠ‚ç æŒ‡ä»¤æ¥æ§åˆ¶ï¼Œå®ƒå®ç°åœ¨æ–¹æ³•è°ƒç”¨å’Œè¿”å›æ“ä½œä¸­ï¼Œ <code>JVM</code>  å¯ä»¥ä»å¸¸é‡æ± ä¸­çš„æ–¹æ³•ç»“æ„è¡¨ä¸­è®¿é—® <code>ACC_SYNCHRONIZED</code>  æ ‡å¿—æ¥åŒºåˆ†ä¸€ä¸ªæ–¹æ³•æ˜¯å¦æ˜¯åŒæ­¥æ–¹æ³•ã€‚å½“æ–¹æ³•è°ƒç”¨æ—¶ï¼Œè°ƒç”¨æŒ‡ä»¤å°†ä¼šæ£€æŸ¥æ–¹æ³•çš„ <code>ACC_SYNCHRONIZED</code>  è®¿é—®æ ‡å¿—æ˜¯å¦è¢«è®¾ç½®ï¼Œå¦‚æœè®¾ç½®äº† <code>ACC_SYNCHRONIZED</code>  è®¿é—®æ ‡å¿—ï¼Œæ‰§è¡Œçº¿ç¨‹å°†å…ˆæŒæœ‰ <code>monitor</code>  (åœ¨è™šæ‹Ÿæœºè§„èŒƒä¸­ä»£è¡¨ç®¡ç¨‹)ï¼Œç„¶åå†æ‰§è¡Œæ–¹æ³•ï¼Œæœ€ååœ¨æ–¹æ³•å®Œæˆæ—¶æ— è®ºæ˜¯å¦æ­£å¸¸å®Œæˆéƒ½ä¼šé‡Šæ”¾ <code>monitor</code> ã€‚åœ¨æ–¹æ³•æ‰§è¡ŒæœŸé—´ï¼Œæ‰§è¡Œçº¿ç¨‹æŒæœ‰äº† <code>monitor</code>  å…¶å®ƒçº¿ç¨‹éƒ½å°†æ— æ³•å†è·å–åˆ°åŒä¸€ä¸ª <code>monitor</code> ã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¦‚æœä¸€ä¸ªåŒæ­¥æ–¹æ³•æ‰§è¡ŒæœŸé—´æŠ›å‡ºäº†å¼‚å¸¸ï¼Œå¹¶ä¸”åœ¨æ–¹æ³•å†…éƒ¨æ— æ³•å¤„ç†æ­¤å¼‚å¸¸æ—¶ï¼Œé‚£ä¹ˆè¿™ä¸ªåŒæ­¥æ–¹æ³•æ‰€æŒæœ‰çš„ <code>monitor</code>  å°†åœ¨å¼‚å¸¸æŠ›åˆ°åŒæ­¥æ–¹æ³•ä¹‹å¤–æ—¶è‡ªåŠ¨é‡Šæ”¾ï¼Œå­—èŠ‚ç å±‚å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SyncMethod.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: synchronized åŒæ­¥æ–¹æ³•ç”¨äº javap åç¼–è¯‘</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-17 10:46</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SyncMethod</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">syncTask</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ç¼–è¯‘ä¸Šè¿°ä»£ç å¹¶ä½¿ç”¨ <code>javap</code>  å‘½ä»¤æ¥åç¼–è¯‘å¾—åˆ°å­—èŠ‚ç ï¼Œåç¼–è¯‘å‘½ä»¤å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>å‘½ä»¤è¡Œæç¤ºç¬¦</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[root@localhost] $\"></td><td><pre>javap -p -s -l -v -constants -c -sysinfo SyncMethod.class</pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SyncMethod.class</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">Classfile</span> <span class=\"token operator\">/</span><span class=\"token class-name\">D</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>é¡¹ç›®<span class=\"token operator\">/</span>gitee<span class=\"token operator\">/</span><span class=\"token keyword\">synchronized</span><span class=\"token operator\">-</span>example<span class=\"token operator\">/</span>target<span class=\"token operator\">/</span>classes<span class=\"token operator\">/</span>top<span class=\"token operator\">/</span>rem<span class=\"token operator\">/</span>rain<span class=\"token operator\">/</span>synchronized_example<span class=\"token operator\">/</span><span class=\"token class-name\">SyncMethod</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        <span class=\"token class-name\">Last</span> modified <span class=\"token number\">2023</span>å¹´<span class=\"token number\">12</span>æœˆ<span class=\"token number\">17</span>æ—¥<span class=\"token punctuation\">;</span> size <span class=\"token number\">431</span> bytes</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        SHA<span class=\"token operator\">-</span><span class=\"token number\">256</span> checksum <span class=\"token number\">6</span>b6d0142250883ab1592853d0f9ef17372bb1fb40c43ab9b5dd2a512653b0bc9</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token class-name\">Compiled</span> from <span class=\"token string\">\"SyncMethod.java\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\"><span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example<span class=\"token punctuation\">.</span></span>SyncMethod</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        minor version<span class=\"token operator\">:</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        major version<span class=\"token operator\">:</span> <span class=\"token number\">61</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        flags<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0x0021</span><span class=\"token punctuation\">)</span> ACC_PUBLIC<span class=\"token punctuation\">,</span> ACC_SUPER</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        this_class<span class=\"token operator\">:</span> #<span class=\"token number\">8</span>                          <span class=\"token comment\">// top/rem/rain/synchronized_example/SyncMethod</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        super_class<span class=\"token operator\">:</span> #<span class=\"token number\">2</span>                         <span class=\"token comment\">// java/lang/Object</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        interfaces<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> fields<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> methods<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> attributes<span class=\"token operator\">:</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">Constant</span> pool<span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        #<span class=\"token number\">1</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Methodref</span>          #<span class=\"token number\">2.</span>#<span class=\"token number\">3</span>          <span class=\"token comment\">// java/lang/Object.\"&lt;init>\":()V</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        #<span class=\"token number\">2</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span>              #<span class=\"token number\">4</span>             <span class=\"token comment\">// java/lang/Object</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        #<span class=\"token number\">3</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">NameAndType</span>        #<span class=\"token number\">5</span><span class=\"token operator\">:</span>#<span class=\"token number\">6</span>          <span class=\"token comment\">// \"&lt;init>\":()V</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        #<span class=\"token number\">4</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               java<span class=\"token operator\">/</span>lang<span class=\"token operator\">/</span><span class=\"token class-name\">Object</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        #<span class=\"token number\">5</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>init<span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>   #<span class=\"token number\">6</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">V</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>           #<span class=\"token number\">7</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Fieldref</span>           #<span class=\"token number\">8.</span>#<span class=\"token number\">9</span>          <span class=\"token comment\">// top/rem/rain/synchronized_example/SyncMethod.i:I</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>           #<span class=\"token number\">8</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span>              #<span class=\"token number\">10</span>            <span class=\"token comment\">// top/rem/rain/synchronized_example/SyncMethod</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>           #<span class=\"token number\">9</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">NameAndType</span>        #<span class=\"token number\">11</span><span class=\"token operator\">:</span>#<span class=\"token number\">12</span>        <span class=\"token comment\">// i:I</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>           #<span class=\"token number\">10</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               top<span class=\"token operator\">/</span>rem<span class=\"token operator\">/</span>rain<span class=\"token operator\">/</span>synchronized_example<span class=\"token operator\">/</span><span class=\"token class-name\">SyncMethod</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>           #<span class=\"token number\">11</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               i</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>           #<span class=\"token number\">12</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">I</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>           #<span class=\"token number\">13</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">Code</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>           #<span class=\"token number\">14</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">LineNumberTable</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>           #<span class=\"token number\">15</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">LocalVariableTable</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>           #<span class=\"token number\">16</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token keyword\">this</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>           #<span class=\"token number\">17</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">Ltop</span><span class=\"token operator\">/</span>rem<span class=\"token operator\">/</span>rain<span class=\"token operator\">/</span>synchronized_example<span class=\"token operator\">/</span><span class=\"token class-name\">SyncMethod</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>           #<span class=\"token number\">18</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               syncTask</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>           #<span class=\"token number\">19</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">SourceFile</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>           #<span class=\"token number\">20</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Utf8</span>               <span class=\"token class-name\">SyncMethod</span><span class=\"token punctuation\">.</span>java</pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        descriptor<span class=\"token operator\">:</span> <span class=\"token class-name\">I</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        flags<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0x0001</span><span class=\"token punctuation\">)</span> ACC_PUBLIC</pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example<span class=\"token punctuation\">.</span></span>SyncMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        descriptor<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">V</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        flags<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0x0001</span><span class=\"token punctuation\">)</span> ACC_PUBLIC</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token class-name\">Code</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>          stack<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> locals<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> args_size<span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token number\">0</span><span class=\"token operator\">:</span> aload_0</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>            <span class=\"token number\">1</span><span class=\"token operator\">:</span> invokespecial #<span class=\"token number\">1</span>                  <span class=\"token comment\">// Method java/lang/Object.\"&lt;init>\":()V</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>            <span class=\"token number\">4</span><span class=\"token operator\">:</span> <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token class-name\">LineNumberTable</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>          line <span class=\"token number\">9</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token class-name\">LocalVariableTable</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>          <span class=\"token class-name\">Start</span>  <span class=\"token class-name\">Length</span>  <span class=\"token class-name\">Slot</span>  <span class=\"token class-name\">Name</span>   <span class=\"token class-name\">Signature</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            <span class=\"token number\">0</span>       <span class=\"token number\">5</span>     <span class=\"token number\">0</span>  <span class=\"token keyword\">this</span>   <span class=\"token class-name\">Ltop</span><span class=\"token operator\">/</span>rem<span class=\"token operator\">/</span>rain<span class=\"token operator\">/</span>synchronized_example<span class=\"token operator\">/</span><span class=\"token class-name\">SyncMethod</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token comment\">// ä¸»è¦æ¥çœ‹ syncTask æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">syncTask</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        descriptor<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">V</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token comment\">// æ–¹æ³•æ ‡è¯† ACC_PUBLIC ä»£è¡¨ public ä¿®é¥°ï¼ŒACC_SYNCHRONIZED æŒ‡æ˜è¯¥æ–¹æ³•ä¸ºåŒæ­¥æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        flags<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0x0021</span><span class=\"token punctuation\">)</span> ACC_PUBLIC<span class=\"token punctuation\">,</span> ACC_SYNCHRONIZED</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token class-name\">Code</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>          stack<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> locals<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> args_size<span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>            <span class=\"token number\">0</span><span class=\"token operator\">:</span> aload_0</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            <span class=\"token number\">1</span><span class=\"token operator\">:</span> dup</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>            <span class=\"token number\">2</span><span class=\"token operator\">:</span> getfield      #<span class=\"token number\">7</span>                  <span class=\"token comment\">// Field i:I</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>            <span class=\"token number\">5</span><span class=\"token operator\">:</span> iconst_1</pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            <span class=\"token number\">6</span><span class=\"token operator\">:</span> iadd</pre></td></tr><tr><td data-num=\"64\"></td><td><pre>            <span class=\"token number\">7</span><span class=\"token operator\">:</span> putfield      #<span class=\"token number\">7</span>                  <span class=\"token comment\">// Field i:I</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>            <span class=\"token number\">10</span><span class=\"token operator\">:</span> <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token class-name\">LineNumberTable</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>          line <span class=\"token number\">13</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>          line <span class=\"token number\">14</span><span class=\"token operator\">:</span> <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token class-name\">LocalVariableTable</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>          <span class=\"token class-name\">Start</span>  <span class=\"token class-name\">Length</span>  <span class=\"token class-name\">Slot</span>  <span class=\"token class-name\">Name</span>   <span class=\"token class-name\">Signature</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>            <span class=\"token number\">0</span>      <span class=\"token number\">11</span>     <span class=\"token number\">0</span>  <span class=\"token keyword\">this</span>   <span class=\"token class-name\">Ltop</span><span class=\"token operator\">/</span>rem<span class=\"token operator\">/</span>rain<span class=\"token operator\">/</span>synchronized_example<span class=\"token operator\">/</span><span class=\"token class-name\">SyncMethod</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre><span class=\"token class-name\">SourceFile</span><span class=\"token operator\">:</span> <span class=\"token string\">\"SyncMethod.java\"</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨å­—èŠ‚ç ä¸­å¯ä»¥çœ‹å‡ºï¼Œ <code>synchronized</code>  ä¿®é¥°çš„æ–¹æ³•å¹¶æ²¡æœ‰ <code>monitorenter</code>  å’Œ <code>monitorexit</code>  æŒ‡ä»¤ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ <code>ACC_SYNCHRONIZED</code>  æ ‡è¯†ï¼Œæ­¤æ ‡è¯†æŒ‡æ˜äº†è¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼Œ <code>JVM</code>  é€šè¿‡è¯¥ <code>ACC_SYNCHRONIZED</code>  æ ‡è¯†æ¥åˆ†è¾¨ä¸€ä¸ªæ–¹æ³•æ˜¯å¦è¢«å£°æ˜ä¸ºåŒæ­¥æ–¹æ³•ï¼Œä»è€Œæ‰§è¡Œç›¸åº”çš„åŒæ­¥è°ƒç”¨ï¼Œè¿™ä¾¿æ˜¯ <code>synchronized</code>  é”åœ¨åŒæ­¥ä»£ç å—å’ŒåŒæ­¥æ–¹æ³•ä¸Šçš„åŸºæœ¬å®ç°åŸç†ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æˆ‘ä»¬éœ€è¦å¿…é¡»æ³¨æ„çš„æ˜¯åœ¨ <code>Java</code>  æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œ <code>synchronized</code>  å±äºé‡é‡çº§é”ï¼Œç”±æ­¤æ•ˆç‡å¾ˆä½ï¼Œå› ä¸ºç›‘è§†å™¨é” ( <code>monitor</code> ) æ˜¯ä¾èµ–äºåº•å±‚æ“ä½œç³»ç»Ÿçš„ <code>Mutex Lock</code>  æ¥å®ç°çš„ï¼Œè€Œæ“ä½œç³»ç»Ÿå®ç°çº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢æ—¶éœ€è¦ä»ç”¨æˆ·æ€è½¬æ¢åˆ°æ ¸å¿ƒæ€ï¼Œè¿™ä¸ªçŠ¶æ€ä¹‹é—´çš„è½¬æ¢éœ€è¦ç›¸å¯¹è¾ƒé•¿çš„æ—¶é—´ï¼Œæ—¶é—´æˆæœ¬æ¶ˆè€—ä¼šå¾ˆé«˜ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ—©æœŸçš„ <code>synchronized</code>  æ•ˆç‡å¾ˆä½çš„åŸå› ã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¥½åœ¨ <code>Java 6</code>  ä¹‹åå®˜æ–¹ä» <code>JVM</code>  å±‚é¢å¯¹ <code>synchronized</code>  åšäº†è¾ƒå¤§çš„ä¼˜åŒ–ï¼Œæ‰€ä»¥ç°åœ¨çš„ <code>synchronized</code>  é”æ•ˆç‡ä¼˜åŒ–å¾—å¾ˆä¸é”™äº†ï¼Œ <code>Java 6</code>  ä¹‹åä¸ºäº†å‡å°‘è·å¾—é”å’Œé‡Šæ”¾é”æ—¶å¸¦æ¥çš„æ€§èƒ½æ¶ˆè€—ï¼Œä¾¿å¼•å…¥äº†è½»é‡çº§é”å’Œåå‘é”ï¼Œä¸‹é¢æ¥ç€å°†æ¥äº†è§£ä¸€ä¸‹ <code>Java</code>  åœ¨ <code>JVM</code>  å±‚å¯¹ <code>synchronized</code>  çš„ä¼˜åŒ–ã€‚</p>\n</blockquote>\n<h1 id=\"jvmå¯¹synchronizedçš„ä¼˜åŒ–\"><a class=\"anchor\" href=\"#jvmå¯¹synchronizedçš„ä¼˜åŒ–\">#</a> JVM å¯¹ synchronized çš„ä¼˜åŒ–</h1>\n<ul>\n<li>é”çš„çŠ¶æ€ä¸€å…±æœ‰å››ç§åˆ†åˆ«æ˜¯ï¼š\n<ul>\n<li><a href=\"#%E5%81%8F%E5%90%91%E9%94%81\">åå‘é”</a></li>\n<li><a href=\"#%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81\">è½»é‡çº§é”</a></li>\n<li><a href=\"#%E5%AF%B9%E8%B1%A1%E5%A4%B4%E9%87%8D%E7%82%B9%E5%88%86%E6%9E%90\">é‡é‡çº§é”</a></li>\n<li>æ— é”çŠ¶æ€</li>\n</ul>\n</li>\n<li>é”çš„çŠ¶æ€å¯ä»¥ä»åå‘é”å‡çº§åˆ°è½»é‡çº§é”ï¼Œå†å‡çº§åˆ°é‡é‡çº§é”ï¼Œä½†æ˜¯é”çš„å‡çº§æ˜¯å•å‘çš„ï¼Œå°±æ˜¯è¯´åªèƒ½ä»ä½åˆ°é«˜ï¼Œä¸ä¼šå‡ºç°é”çš„é™çº§ã€‚</li>\n<li>ä¸‹é¢å°†ä»‹ç»åå‘é”å’Œè½»é‡çº§é”ä»¥åŠ <code>JVM</code>  çš„å…¶å®ƒä¼˜åŒ–æ‰‹æ®µï¼Œå¦‚éœ€è¯¦ç»†é˜…è¯»è¯·æŸ¥é˜… <code>ã€Šæ·±å…¥ç†è§£javaè™šæ‹Ÿæœºã€‹</code> ã€‚</li>\n</ul>\n<h2 id=\"åå‘é”\"><a class=\"anchor\" href=\"#åå‘é”\">#</a> åå‘é”</h2>\n<blockquote>\n<p>åå‘é”æ˜¯åœ¨ <code>Java 6</code>  ä¹‹åæ–°å¢çš„é”ï¼Œå®ƒæ˜¯ä¸€ç§é’ˆå¯¹åŠ é”æ“ä½œçš„ä¼˜åŒ–æ‰‹æ®µï¼Œç»è¿‡ç ”ç©¶å‘ç°åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé”ä¸ä»…ä¸å­˜åœ¨å¤šçº¿ç¨‹ç«äº‰ï¼Œè€Œä¸”æ€»æ˜¯ç”±åŒä¸€ä¸ªçº¿ç¨‹å¤šæ¬¡è·å–ï¼Œå› æ­¤ä¸ºäº†å‡å°‘åŒä¸€ä¸ªçº¿ç¨‹è·å–é” (æ¶‰åŠ <code>CAS</code>  æ“ä½œ) çš„ä»£ä»·è€Œå¼•å…¥çš„åå‘é”ã€‚</p>\n</blockquote>\n<blockquote>\n<p>åå‘é”æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹è·å¾—äº†é”ï¼Œé‚£ä¹ˆé”å°±ä¼šè¿›å…¥åå‘æ¨¡å¼ï¼Œæ­¤æ—¶ <code>Mark Word</code>  çš„ç»“æ„ä¹Ÿå°†å˜ä¸ºåå‘é”ç»“æ„ï¼Œå½“è¿™ä¸ªçº¿ç¨‹å†æ¬¡è¯·æ±‚é”æ—¶ï¼Œæ— éœ€å†åšä»»ä½•åŒæ­¥æ“ä½œ (å³è·å–é”çš„è¿‡ç¨‹)ï¼Œè¿™æ ·å°±çœå»äº†å¤§é‡æœ‰å…³ â€œé”â€ ç”³è¯·çš„æ“ä½œï¼Œä»è€Œæé«˜äº†ç¨‹åºçš„æ€§èƒ½ã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¯¹äºæ²¡æœ‰é”ç«äº‰çš„åœºåˆï¼Œåå‘é”æœ‰å¾ˆå¥½å¾—ä¼˜åŒ–æ•ˆæœï¼Œæ¯•ç«Ÿææœ‰å¯èƒ½è¿ç»­å¤šæ¬¡æ˜¯åŒä¸€ä¸ªçº¿ç¨‹ç”³è¯·ç›¸åŒé”ã€‚ä½†æ˜¯å¯¹äºé”ç«äº‰æ¿€çƒˆçš„åœºåˆï¼Œåå‘é”å°±å°†å¤±æ•ˆäº†ï¼Œå› ä¸ºè¿™ç§åœºåˆææœ‰å¯èƒ½æ¯æ¬¡ç”³è¯·é”çš„çº¿ç¨‹éƒ½æ˜¯ä¸åŒçš„ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹å°±ä¸åº”è¯¥ä½¿ç”¨åå‘é”ï¼Œåå‘é”å¤±è´¥åå¹¶ä¸ä¼šç«‹å³å‡çº§åˆ°é‡é‡çº§é”ï¼Œè€Œæ˜¯å…ˆå°†é”å‡çº§ä¸ºè½»é‡çº§é”ã€‚</p>\n</blockquote>\n<h2 id=\"è½»é‡çº§é”\"><a class=\"anchor\" href=\"#è½»é‡çº§é”\">#</a> è½»é‡çº§é”</h2>\n<blockquote>\n<p>åå‘é”å¤±è´¥åï¼Œ <code>JVM</code>  å¹¶ä¸ä¼šç«‹å³å‡çº§ä¸ºé‡é‡çº§é”ï¼Œå®ƒé¦–å…ˆä¼šå°è¯•ä¸€ç§ç§°ä¸ºè½»é‡çº§é”çš„ä¼˜åŒ–æ‰‹æ®µ (è‡ª <code>1.6</code>  ä¹‹åæ–°å¢çš„ä¸€ç§é”)ï¼Œæ­¤æ—¶ <code>Mark Word</code>  çš„ç»“æ„å°†å˜ä¸ºè½»é‡çº§é”ç»“æ„ã€‚è½»é‡çº§é”èƒ½å¤Ÿæå‡ç¨‹åºæ€§èƒ½çš„ä¾æ®æ˜¯ï¼šå¯¹ç»å¤§éƒ¨åˆ†çš„é”ï¼Œåœ¨æ•´ä¸ªåŒæ­¥å‘¨æœŸå†…éƒ½ä¸å­˜åœ¨ç«äº‰ã€‚éœ€è¦äº†è§£çš„æ˜¯ï¼Œè½»é‡çº§é”æ‰€é€‚åº”çš„åœºæ™¯æ˜¯çº¿ç¨‹äº¤æ›¿æ‰§è¡ŒåŒæ­¥å—çš„åœºåˆï¼Œå¦‚æœå­˜åœ¨åŒä¸€æ—¶é—´è®¿é—®åŒä¸€ä¸ªé”çš„åœºæ™¯ï¼Œå°†ä¼šå¯¼è‡´è½»é‡çº§é”å‡çº§ä¸ºé‡é‡çº§é”ã€‚</p>\n</blockquote>\n<h2 id=\"è‡ªæ—‹é”\"><a class=\"anchor\" href=\"#è‡ªæ—‹é”\">#</a> è‡ªæ—‹é”</h2>\n<blockquote>\n<p>è½»é‡çº§é”å¤±è´¥åï¼Œ <code>JVM</code>  ä¸ºäº†é¿å…çº¿ç¨‹çœŸå®åœ°åœ¨æ“ä½œç³»ç»Ÿå±‚é¢è¢«æŒ‚èµ·ï¼Œå°†ä¼šè¿›è¡Œä¸€ç§ç§°ä¸ºè‡ªæ—‹é”çš„ä¼˜åŒ–æ‰‹æ®µã€‚è¿™æ˜¯åŸºäºå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œçº¿ç¨‹æŒæœ‰é”çš„æ—¶é—´éƒ½ä¸ä¼šå¤ªé•¿ï¼Œå¦‚æœç›´æ¥æŒ‚èµ·æ“ä½œç³»ç»Ÿå±‚é¢çš„çº¿ç¨‹å°†ä¼šå¾—ä¸å¿å¤±ï¼Œæ¯•ç«Ÿæ“ä½œç³»ç»Ÿå®ç°çº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢æ—¶éœ€è¦ä»ç”¨æˆ·æ€è½¬æ¢åˆ°æ ¸å¿ƒæ€ï¼Œè¿™ä¸ªçŠ¶æ€ä¹‹é—´çš„è½¬æ¢éœ€è¦è¾ƒé•¿çš„æ—¶é—´ï¼Œæ—¶é—´æˆæœ¬ç›¸å¯¹è¾ƒé«˜ï¼Œå› æ­¤è‡ªæ—‹é”ä¼šå‡è®¾åœ¨ä¸ä¹…å°†æ¥ï¼Œå½“å‰çº¿ç¨‹å¯ä»¥è·å¾—é”ï¼Œè™šæ‹Ÿæœºä¼šè®©å½“å‰æƒ³è¦è·å¾—é”çš„çº¿ç¨‹åšå‡ ä¸ªç©ºå¾ªç¯ (è¿™ä¹Ÿæ˜¯è¢«ç§°ä¸ºè‡ªæ—‹çš„åŸå› )ï¼Œä¸€èˆ¬ä¸ä¼šå¤ªä¹…ï¼Œå¤§æ¦‚æ˜¯åœ¨ <code>50~100</code>  ä¸ªå¾ªç¯ï¼Œç»è¿‡è‹¥å¹²æ¬¡å¾ªç¯åï¼Œå¦‚æœå¾—åˆ°é”å°±é¡ºåˆ©è¿›å…¥ä¸´ç•ŒåŒºã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¦‚æœï¼šç»è¿‡è‹¥å¹²æ¬¡å¾ªç¯åè¿˜ä¸èƒ½è·å¾—é”ï¼Œé‚£ä¹ˆçº¿ç¨‹å°†ä¼šåœ¨æ“ä½œç³»ç»Ÿå±‚é¢è¢«æŒ‚èµ·ï¼Œè¿™å°±æ˜¯è‡ªæ—‹é”çš„ä¼˜åŒ–æ–¹å¼ï¼Œè¿™ç§æ–¹å¼ç¡®å®å¯ä»¥æå‡æ•ˆç‡ï¼Œåœ¨æœ€åæ²¡åŠæ³•çš„æƒ…å†µæ—¶ä¹Ÿå°±åªèƒ½å‡çº§ä¸ºé‡é‡çº§é”äº†ã€‚</p>\n</blockquote>\n<h2 id=\"é”æ¶ˆé™¤\"><a class=\"anchor\" href=\"#é”æ¶ˆé™¤\">#</a> é”æ¶ˆé™¤</h2>\n<blockquote>\n<p>é”æ¶ˆé™¤æ˜¯è™šæ‹Ÿæœºçš„å¦å¤–ä¸€ç§å¯¹é”çš„ä¼˜åŒ–ï¼Œè¿™ç§ä¼˜åŒ–æ›´å½»åº•ï¼Œ <code>Java</code>  è™šæ‹Ÿæœºåœ¨ <code>JIT</code>  ç¼–è¯‘æ—¶ (å³æ—¶ç¼–è¯‘ï¼Œå¯ä»¥ç†è§£ä¸ºå½“æŸæ®µä»£ç å³å°†ç¬¬ä¸€æ¬¡è¢«æ‰§è¡Œæ—¶è¿›è¡Œç¼–è¯‘)ï¼Œé€šè¿‡å¯¹è¿è¡Œä¸Šä¸‹æ–‡çš„æ‰«æï¼Œå»é™¤ä¸å¯èƒ½å­˜åœ¨å…±äº«èµ„æºç«äº‰çš„é”ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æ¥æ¶ˆé™¤æ²¡æœ‰å¿…è¦çš„é”ï¼Œå¯ä»¥çœå»æ¯«æ— æ„ä¹‰çš„åŠ é”æ—¶é—´ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>StringBufferRemoveSynchronized.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: é”æ¶ˆé™¤ç¤ºä¾‹ï¼šæ¶ˆé™¤ StringBuffer åŒæ­¥é”</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-17 15:55</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">StringBufferRemoveSynchronized</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> str1<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> str2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">// StringBuffer æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œç”±äº sb åªä¼šåœ¨ append æ–¹æ³•ä¸­ä½¿ç”¨ï¼Œä¸å¯èƒ½è¢«å…¶ä»–çº¿ç¨‹å¼•ç”¨</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">// å› æ­¤ sb å±äºä¸å¯èƒ½å…±äº«çš„èµ„æºï¼ŒJVM ä¼šè‡ªåŠ¨æ¶ˆé™¤å†…éƒ¨çš„é”</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">StringBuffer</span> sb <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StringBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        sb<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>str2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">StringBufferRemoveSynchronized</span> rsync <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StringBufferRemoveSynchronized</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">10000000</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            rsync<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"abc\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"123\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸Šè¿°ä»£ç ä¸­ <code>StringBuffer</code>  çš„ <code>append()</code>  æ–¹æ³•æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼Œä½†æ˜¯åœ¨ <code>add()</code>  æ–¹æ³•ä¸­çš„ <code>StringBuffer</code>  å±äºå±€éƒ¨å˜é‡ï¼Œå¹¶ä¸”ä¸ä¼šè¢«å…¶å®ƒçº¿ç¨‹æ‰€ä½¿ç”¨ï¼Œå› æ­¤ <code>StringBuffer</code>  ä¸ä¼šå­˜åœ¨å…±äº«èµ„æºè¢«ç«äº‰çš„æƒ…æ™¯ï¼Œ <code>JVM</code>  ä¼šè‡ªåŠ¨å°†å…¶å†…éƒ¨çš„é”è¿›è¡Œæ¶ˆé™¤ã€‚</p>\n</blockquote>\n<h1 id=\"synchronizedçš„å¯é‡å…¥æ€§\"><a class=\"anchor\" href=\"#synchronizedçš„å¯é‡å…¥æ€§\">#</a> synchronized çš„å¯é‡å…¥æ€§</h1>\n<blockquote>\n<p>ä»äº’æ–¥é”çš„è®¾è®¡ä¸Šæ¥è¯´ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è¯•å›¾æ“ä½œä¸€ä¸ªç”±å…¶å®ƒçº¿ç¨‹æŒæœ‰å¯¹è±¡é”çš„ä¸´ç•Œèµ„æºæ—¶å°†ä¼šå¤„äºé˜»å¡çŠ¶æ€ï¼Œä½†å½“ä¸€ä¸ªçº¿ç¨‹å†æ¬¡è¯·æ±‚è‡ªå·±æŒæœ‰å¯¹è±¡é”çš„ä¸´ç•Œèµ„æºæ—¶ï¼Œè¿™ç§æƒ…å†µå°±å±äº â€œé‡å…¥é”â€ è¯·æ±‚å°†ä¼šæˆåŠŸï¼Œåœ¨ <code>Java</code>  ä¸­ <code>synchronized</code>  æ˜¯åŸºäºåŸå­æ€§å†…éƒ¨é”æœºåˆ¶ï¼Œæ˜¯å¯é‡å…¥çš„ï¼Œå› æ­¤åœ¨ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ <code>synchronized</code>  æ–¹æ³•çš„åŒæ—¶åœ¨å…¶å®ƒæ–¹æ³•ä½“å†…è°ƒç”¨è¯¥å¯¹è±¡çš„å¦ä¸€ä¸ª <code>synchronized</code>  æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªçº¿ç¨‹å¾—åˆ°ä¸€ä¸ªå¯¹è±¡é”åå†æ¬¡è¯·æ±‚è¯¥å¯¹è±¡é”è¿™æ˜¯å…è®¸çš„ï¼Œè¿™å°±æ˜¯ <code>synchronized</code>  çš„å¯é‡å…¥æ€§ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SynchronizedData2.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: synchronized çš„å¯é‡å…¥æ€§</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-15 23:02</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SynchronizedData2</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">SynchronizedData2</span> INSTANCE <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SynchronizedData2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>   * å…±äº«èµ„æº (ä¸´ç•Œèµ„æº)</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> ii <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token keyword\">public</span>  <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">synchronized</span> <span class=\"token punctuation\">(</span>INSTANCE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token comment\">//synchronized çš„å¯é‡å…¥æ€§</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token function\">incremental</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>   * é€’å¢æ–¹æ³•</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">incremental</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    ii<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token class-name\">Thread</span> t1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span>INSTANCE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token class-name\">Thread</span> t2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span>INSTANCE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token comment\">// å¼€å§‹</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    t1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    t2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    t1<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    t2<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>ii<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨è·å–åˆ°å½“å‰å®ä¾‹å¯¹è±¡é”åè¿›å…¥ <code>synchronized</code>  ä»£ç å—æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œå¹¶åœ¨ä»£ç å—ä¸­è°ƒç”¨å½“å‰å®ä¾‹å¯¹è±¡çš„å¦ä¸€ä¸ª <code>synchronized</code>  æ–¹æ³•ï¼Œå†æ¬¡è¯·æ±‚å½“å‰å®ä¾‹é”æ—¶å°†è¢«å…è®¸ï¼Œè¿›è€Œæ‰§è¡Œæ–¹æ³•ä½“ä¸­çš„ä»£ç ï¼Œè¿™å°±æ˜¯é‡å…¥é”æœ€ç›´æ¥çš„æç°ã€‚éœ€è¦æ³¨æ„å¦å¤–ä¸€ç§æƒ…å†µï¼Œå½“å­ç±»ç»§æ‰¿çˆ¶ç±»æ˜¯ï¼Œå­ç±»ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡å¯é‡å…¥é”è°ƒç”¨çˆ¶ç±»ä¸­çš„åŒæ­¥æ–¹æ³•ï¼Œæ³¨æ„ï¼šç”±äº <code>synchronized</code>  æ˜¯åŸºäº <code>monitor</code>  å®ç°çš„ï¼Œå› æ­¤æ¯æ¬¡é‡å…¥æ—¶ <code>monitor</code>  ä¸­çš„è®¡æ•°å™¨ä»ä¼š <code>+1</code> ã€‚</p>\n</blockquote>\n<h1 id=\"synchronizedä¸çº¿ç¨‹ä¸­æ–­\"><a class=\"anchor\" href=\"#synchronizedä¸çº¿ç¨‹ä¸­æ–­\">#</a> synchronized ä¸çº¿ç¨‹ä¸­æ–­</h1>\n<h2 id=\"çº¿ç¨‹ä¸­æ–­\"><a class=\"anchor\" href=\"#çº¿ç¨‹ä¸­æ–­\">#</a> çº¿ç¨‹ä¸­æ–­</h2>\n<blockquote>\n<p>çº¿ç¨‹ä¸­æ–­å°±æ˜¯åœ¨çº¿ç¨‹è¿è¡Œ ( <code>run()</code>  æ–¹æ³•) æœŸé—´æ‰“æ–­å®ƒï¼Œåœ¨ <code>Java</code>  ä¸­ï¼Œæä¾›äº†ä¸‰ç§æœ‰å…³çº¿ç¨‹ä¸­æ–­çš„æ–¹æ³•ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// ä¸­æ–­çº¿ç¨‹ (å®ä¾‹æ–¹æ³•)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">interrupt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// åˆ¤æ–­çº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­ (å®ä¾‹æ–¹æ³•)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">isInterrupted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">// åˆ¤æ–­æ˜¯å¦è¢«ä¸­æ–­å¹¶æ¸…é™¤å½“å‰ä¸­æ–­çŠ¶æ€ (å®ä¾‹æ–¹æ³•)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">boolean</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">interrupted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸‹é¢æ˜¯è¿™ä¸‰ç§æ–¹æ³•çš„æºç ï¼Œå¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Thread.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Thread</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token comment\">// ä¸­æ–­çº¿ç¨‹ (å®ä¾‹æ–¹æ³•)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">interrupt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">!=</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token function\">checkAccess</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token comment\">// thread may be blocked in an I/O operation</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token keyword\">synchronized</span> <span class=\"token punctuation\">(</span>blockerLock<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">Interruptible</span> b <span class=\"token operator\">=</span> blocker<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>b <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>          interrupted <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>          <span class=\"token function\">interrupt0</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// inform VM of interrupt</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>          b<span class=\"token punctuation\">.</span><span class=\"token function\">interrupt</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>          <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    interrupted <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">// inform VM of interrupt</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token function\">interrupt0</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token comment\">// åˆ¤æ–­çº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­ (å®ä¾‹æ–¹æ³•)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isInterrupted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">return</span> interrupted<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token comment\">// åˆ¤æ–­æ˜¯å¦è¢«ä¸­æ–­å¹¶æ¸…é™¤å½“å‰ä¸­æ–­çŠ¶æ€ (å®ä¾‹æ–¹æ³•)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">interrupted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token class-name\">Thread</span> t <span class=\"token operator\">=</span> <span class=\"token function\">currentThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">boolean</span> interrupted <span class=\"token operator\">=</span> t<span class=\"token punctuation\">.</span>interrupted<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token comment\">// We may have been interrupted the moment after we read the field,</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token comment\">// so only clear the field if we saw that it was set and will return</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token comment\">// true; otherwise we could lose an interrupt.</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>interrupted<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>      t<span class=\"token punctuation\">.</span>interrupted <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>      <span class=\"token function\">clearInterruptEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token keyword\">return</span> interrupted<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å½“ä¸€ä¸ªçº¿ç¨‹å¤„äºè¢«é˜»å¡çŠ¶æ€æˆ–è¯•å›¾æ‰§è¡Œä¸€ä¸ªé˜»å¡æ“ä½œæ—¶ï¼Œä½¿ç”¨ <code>Thread.interrupt()</code>  æ–¹æ³•å¯ä¸­æ–­è¯¥çº¿ç¨‹ï¼Œæ³¨æ„ï¼šæ­¤æ—¶å°†ä¼šæŠ›å‡ºä¸€ä¸ª <code>InterruptedException(ä¸­æ–­å¼‚å¸¸)</code>  çš„å¼‚å¸¸ï¼ŒåŒæ—¶ä¸­æ–­çŠ¶æ€å°†ä¼šè¢«å¤ä½ (ç”±ä¸­æ–­çŠ¶æ€æ”¹ä¸ºéä¸­æ–­çŠ¶æ€)ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>InterruptedSleepThread.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: çº¿ç¨‹ä¸­æ–­ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-17 21:30</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">InterruptSleepThread</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token class-name\">Thread</span> t1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">//while åœ¨ try ä¸­ï¼Œé€šè¿‡å¼‚å¸¸ä¸­æ–­å°±å¯ä»¥é€€å‡º run å¾ªç¯</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>          <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token comment\">// å½“å‰çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼Œå¼‚å¸¸å¿…é¡»æ•æ‰å¤„ç†ï¼Œæ— æ³•å¾€å¤–æŠ›å‡º</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span>SECONDS<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>          <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Interrupt When Sleep\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>          <span class=\"token keyword\">boolean</span> interrupt <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isInterrupted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>          <span class=\"token comment\">// ä¸­æ–­çŠ¶æ€è¢«å¤ä½</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>          <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"interruptï¼š\"</span><span class=\"token operator\">+</span>interrupt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    t1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span>SECONDS<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token comment\">// ä¸­æ–­å¤„äºé˜»å¡çŠ¶æ€çš„çº¿ç¨‹</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    t1<span class=\"token punctuation\">.</span><span class=\"token function\">interrupt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>                Interrupt When Sleep</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>                interruptï¼šfalse</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å¦‚ä¸Šè¿°ä»£ç æ‰€ç¤ºï¼Œåˆ›å»ºä¸€ä¸ªçº¿ç¨‹å¹¶åœ¨çº¿ç¨‹ä¸­è°ƒç”¨äº† <code>sleep()</code>  æ–¹æ³•ä»è€Œä½¿çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œå¯åŠ¨çº¿ç¨‹åè°ƒç”¨çº¿ç¨‹å®ä¾‹å¯¹è±¡çš„ <code>interrupt()</code>  æ–¹æ³•æ¥ä¸­æ–­çº¿ç¨‹é˜»å¡å¼‚å¸¸ï¼Œå¹¶æŠ›å‡º <code>InterruptedException</code>  å¼‚å¸¸ï¼Œæ­¤æ—¶ä¸­æ–­çŠ¶æ€ä¹Ÿå°†è¢«å¤ä½ã€‚ä¸ºäº†ç¼–ç æ¸…æ™°å»ºè®®ä½¿ç”¨ <code>TimeUnit.SECONDS.sleep()</code> , æ­¤æ–¹æ³•å†…éƒ¨å®ç°æœ€ç»ˆè¿˜æ˜¯è°ƒç”¨äº† <code>Thread.sleep()</code>  æ–¹æ³•ã€‚</p>\n</blockquote>\n<blockquote>\n<p>é™¤äº†é˜»å¡ä¸­æ–­çš„æƒ…æ™¯ï¼Œæˆ‘ä»¬è¿˜å¯èƒ½ä¼šé‡åˆ°å¤„äºè¿è¡ŒæœŸé—´ä¸”éé˜»å¡çŠ¶æ€çš„çº¿ç¨‹ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç›´æ¥è°ƒç”¨ <code>Thread.interrupt()</code>  æ–¹æ³•ä¸­æ–­çº¿ç¨‹æ˜¯ä¸ä¼šå¾—åˆ°ä»»ä½•å“åº”çš„ï¼Œå¦‚ä¸‹ä»£ç å°†æ— æ³•ä¸­æ–­éé˜»å¡çŠ¶æ€ä¸‹çš„çº¿ç¨‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>InterruptThread.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: interrupt () æ–¹æ³•ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-17 21:51</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">InterruptThread</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æœªè¢«ä¸­æ–­\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span>SECONDS<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">interrupt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>          æ‰§è¡Œç»“æœ - æ— é™æ‰§è¡Œï¼š</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>              æœªè¢«ä¸­æ–­</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>              æœªè¢«ä¸­æ–­</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>              æœªè¢«ä¸­æ–­</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>               ......</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è™½ç„¶æˆ‘ä»¬åœ¨ä»£ç ä¸­è°ƒç”¨äº† <code>interrupt()</code>  æ–¹æ³•ï¼Œä½†çº¿ç¨‹å¹¶æœªè¢«ä¸­æ–­ï¼Œå› ä¸ºå½“å‰çº¿ç¨‹å¤„äºéé˜»å¡çŠ¶æ€ä¸‹ï¼Œè¿™ç§æƒ…å†µéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»è¿›è¡Œä¸­æ–­æ£€æµ‹å¹¶ç»“æŸç¨‹åºï¼Œä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>InterruptThread2.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: interrupt () æ–¹æ³•ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-17 21:51</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">InterruptThread2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">Thread</span> t1<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                    <span class=\"token comment\">// åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">isInterrupted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"çº¿ç¨‹ä¸­æ–­\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>                    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å·²è·³å‡ºå¾ªç¯,çº¿ç¨‹ä¸­æ–­!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span>SECONDS<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        t1<span class=\"token punctuation\">.</span><span class=\"token function\">interrupt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>           çº¿ç¨‹ä¸­æ–­</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>           å·²è·³å‡ºå¾ªç¯ï¼Œçº¿ç¨‹ä¸­æ–­ï¼</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æˆ‘ä»¬åœ¨ä¸Šè¿°ä»£ç ä¸­ä½¿ç”¨äº†å®ä¾‹æ–¹æ³• <code>isInterrupted()</code>  æ¥åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å·²è¢«ä¸­æ–­ï¼Œå¦‚æœè¢«ä¸­æ–­åˆ™è·³å‡ºå¾ªç¯ä»¥æ­¤æ¥ç»“æŸå½“å‰çº¿ç¨‹ï¼Œæ³¨æ„ï¼šéé˜»å¡çŠ¶æ€ä¸‹è°ƒç”¨ <code>interrupt()</code>  æ–¹æ³•å¹¶ä¸ä¼šå¯¼è‡´ä¸­æ–­çŠ¶æ€é‡ç½®ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æ€»ç»“ï¼šä¸­æ–­çº¿ç¨‹æœ‰ä¸¤ç§æƒ…å†µï¼Œç¬¬ä¸€ç§æ˜¯å½“çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€æˆ–è¯•å›¾æ‰§è¡Œä¸€ä¸ªé˜»å¡æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ä¾‹æ–¹æ³• <code>interrupt()</code>  è¿›è¡Œçº¿ç¨‹ä¸­æ–­ï¼Œæ‰§è¡Œä¸­æ–­æ“ä½œåå°†ä¼šæŠ›å‡º <code>InterruptedException</code>  å¼‚å¸¸ (è¯¥å¼‚å¸¸å¿…é¡»è¿›è¡Œæ•æ‰æ— æ³•æŠ›å‡º) å¹¶å°†ä¸­æ–­çŠ¶æ€å¤ä½ã€‚ç¬¬äºŒç§æ˜¯å½“çº¿ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è°ƒç”¨å®ä¾‹æ–¹æ³• <code>interrupt()</code>  è¿›è¡Œçº¿ç¨‹ä¸­æ–­ï¼Œä½†åŒæ—¶å¿…é¡»æ‰‹åŠ¨å»åˆ¤æ–­ä¸­æ–­çŠ¶æ€ï¼Œå¹¶ç¼–å†™ä¸­æ–­çº¿ç¨‹çš„ä»£ç  (å…¶å°±æ˜¯æ¥ç»“æŸ <code>run()</code>  æ–¹æ³•ä½“çš„ä»£ç )ã€‚æœ‰æ—¶æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç æ—¶å¯èƒ½éœ€è¦å…¼é¡¾ä»¥ä¸Šä¸¤ç§æƒ…å†µï¼Œé‚£ä¹ˆå°±å¯ä»¥å¦‚ä¸‹ç¼–å†™ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">// åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦å·²ä¸­æ–­ï¼Œæ³¨æ„ interrupted æ–¹æ³•æ˜¯é™æ€çš„ï¼Œæ‰§è¡Œåä¼šå¯¹ä¸­æ–­çŠ¶æ€è¿›è¡Œå¤ä½ï¼ŒThread.interrupted () é»˜è®¤ä¸º false</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">interrupted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span>SECONDS<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"ä¸­æ–­ä¸synchronized\"><a class=\"anchor\" href=\"#ä¸­æ–­ä¸synchronized\">#</a> ä¸­æ–­ä¸ synchronized</h2>\n<blockquote>\n<p>äº‹å®ä¸Šçº¿ç¨‹çš„ä¸­æ–­æ“ä½œå¯¹äºæ­£åœ¨ç­‰å¾…è·å–é”å¯¹è±¡çš„ <code>synchronized</code>  æ–¹æ³•æˆ–ä»£ç å—å¹¶ä¸èµ·ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äº <code>synchronized</code>  æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹æ­£åœ¨ç­‰å¾…é”ï¼Œé‚£ä¹ˆç»“æœå°±åªæœ‰ä¸¤ç§å¯èƒ½ï¼Œç¬¬ä¸€è¦ä¹ˆå®ƒè·å¾—è¿™æŠŠé”ç»§ç»­æ‰§è¡Œï¼Œç¬¬äºŒè¦ä¹ˆå®ƒå°±ä¿æŒç­‰å¾…ï¼Œå³ä½¿è°ƒç”¨äº†ä¸­æ–­çº¿ç¨‹çš„æ–¹æ³•ä¹Ÿå¹¶ä¸ä¼šç”Ÿæ•ˆã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SynchronizedBlocked.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: ä¸­æ–­ä¸ synchronized</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-17 22:30</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SynchronizedBlocked</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Runnable</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Trying to call f()\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">// Never releases lock</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">yield</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     * åœ¨æ„é€ å™¨ä¸­åˆ›å»ºæ–°çº¿ç¨‹å¹¶å¯åŠ¨è·å–å¯¹è±¡é”</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">SynchronizedBlocked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">// è¯¥çº¿ç¨‹å·²æŒæœ‰å½“å‰å®ä¾‹é”</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>                <span class=\"token comment\">// Lock acquired by this thread</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">// ä¸­æ–­åˆ¤æ–­</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">interrupted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ä¸­æ–­çº¿ç¨‹!!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>                <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token class-name\">SynchronizedBlocked</span> sync <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SynchronizedBlocked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token class-name\">Thread</span> thread <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span>sync<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token comment\">// å¯åŠ¨åè°ƒç”¨ f () æ–¹æ³•ï¼Œæ— æ³•è·å–å½“å‰å®ä¾‹é”å¤„äºç­‰å¾…çŠ¶æ€</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        thread<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span>SECONDS<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token comment\">// ä¸­æ–­çº¿ç¨‹ï¼Œæ— æ³•ç”Ÿæ•ˆ</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        thread<span class=\"token punctuation\">.</span><span class=\"token function\">interrupt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            Trying to call f ()</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>                ......</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>                å½“å‰ç¨‹åºå¹¶ä¸ä¼šè‡ªåŠ¨åœæ­¢</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre></pre></td></tr><tr><td data-num=\"61\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æˆ‘ä»¬åœ¨ <code>SynchronizedBlocked</code>  æ„é€ å‡½æ•°ä¸­åˆ›å»ºäº†ä¸€ä¸ªæ–°çº¿ç¨‹å¹¶å¯åŠ¨è°ƒç”¨ <code>f()</code>  æ–¹æ³•è·å–åˆ°å“¦å½“å‰å®ä¾‹é”ï¼Œç”±äº <code>SynchronizedBlocked</code>  è‡ªèº«ä¹Ÿæ˜¯çº¿ç¨‹ï¼Œå¯åŠ¨ååœ¨å…¶ <code>run()</code>  æ–¹æ³•ä¸­ä¹Ÿè°ƒç”¨äº† <code>f()</code>  æ–¹æ³•ï¼Œä½†æ˜¯ç”±äºå¯¹è±¡é”è¢«å…¶å®ƒçº¿ç¨‹æ‰€å ç”¨ï¼Œå¯¼è‡´ <code>thread</code>  çº¿ç¨‹åªèƒ½ç­‰å¾…é”ï¼Œæ­¤æ—¶æˆ‘ä»¬è°ƒç”¨äº† <code>thread.interrupt()</code>  æ–¹æ³•ï¼Œä½†å¹¶ä¸èƒ½ä¸­æ–­çº¿ç¨‹ã€‚</p>\n</blockquote>\n<h1 id=\"synchronizedä¸ç­‰å¾…å”¤é†’æœºåˆ¶\"><a class=\"anchor\" href=\"#synchronizedä¸ç­‰å¾…å”¤é†’æœºåˆ¶\">#</a> synchronized ä¸ç­‰å¾…å”¤é†’æœºåˆ¶</h1>\n<blockquote>\n<p>æ‰€è°“çš„ç­‰å¾…å”¤é†’æœºåˆ¶ä¸»è¦æŒ‡çš„æ˜¯ <code>notify</code> ã€ <code>notifyAll</code> ã€ <code>wait</code>  æ–¹æ³•ï¼Œåœ¨ä½¿ç”¨è¿™ä¸‰ä¸ªæ–¹æ³•æ—¶ï¼Œå¿…é¡»å¤„äº <code>synchronized</code>  ä»£ç å—æˆ– <code>synchronized</code>  æ–¹æ³•ä¸­ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡º <code>IllegalMonitorStateException</code>  å¼‚å¸¸ï¼Œè¿™æ˜¯å› ä¸ºè°ƒç”¨è€…å‡ ä¸ªæ–¹æ³•å‰å¿…é¡»æ‹¿åˆ°å½“å‰å¯¹è±¡çš„ç›‘è§†å™¨ä¹Ÿå°±æ˜¯ <code>monitor</code>  å¯¹è±¡ï¼Œå°±æ˜¯è¯´ <code>notify</code> ã€ <code>notifyAll</code> ã€ <code>wait</code>  æ–¹æ³•ä¾èµ–äº <code>monitor</code>  å¯¹è±¡ï¼Œæˆ‘ä»¬çŸ¥é“ <code>monitor</code>  å­˜åœ¨äºå¯¹è±¡å¤´çš„ <code>Mark Word</code>  ä¸­ (å­˜å‚¨ <code>monitor</code>  å¼•ç”¨æŒ‡é’ˆ)ï¼Œè€Œ <code>synchronized</code>  å…³é”®å­—å¯ä»¥è·å– <code>monitor</code>  å¯¹è±¡ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆ <code>notify</code> ã€ <code>notifyAll</code> ã€ <code>wait</code>  æ–¹æ³•å¿…é¡»åœ¨ <code>synchronized</code>  ä»£ç å—æˆ– <code>synchronized</code>  æ–¹æ³•ä¸­è°ƒç”¨çš„åŸå› ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">synchronized</span> <span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>   object<span class=\"token punctuation\">.</span><span class=\"token function\">notify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>   object<span class=\"token punctuation\">.</span><span class=\"token function\">notifyAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>   object<span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æœ€åéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œä¸ <code>sleep()</code>  æ–¹æ³•ä¸åŒçš„æ˜¯ <code>wait()</code>  æ–¹æ³•è°ƒç”¨å®Œæˆåï¼Œçº¿ç¨‹å°†è¢«æš‚åœï¼Œä½† <code>wait()</code>  æ–¹æ³•å°†ä¼šé‡Šæ”¾å½“å‰æŒæœ‰çš„ç›‘è§†å™¨é” ( <code>monitor</code> ), ç›´åˆ°æœ‰æ–°çº¿ç¨‹è°ƒç”¨äº† <code>notify</code>  æˆ– <code>notifyAll</code>  æ–¹æ³•åæ‰èƒ½ç»§ç»­æ‰§è¡Œï¼Œè€Œ <code>sleep()</code>  æ–¹æ³•åªæ˜¯è®©çº¿ç¨‹ä¼‘çœ å¹¶ä¸é‡Šæ”¾é”ã€‚åŒæ—¶ <code>notify</code> ã€ <code>notifyAll</code>  æ–¹æ³•è°ƒç”¨åï¼Œå¹¶ä¸ä¼šé©¬ä¸Šé‡Šæ”¾ç›‘è§†å™¨é”ï¼Œè€Œæ˜¯åœ¨ç›¸åº”çš„ <code>synchronized</code>  ä»£ç å—æˆ– <code>synchronized</code>  æ–¹æ³•æ‰§è¡Œç»“æŸåæ‰ä¼šè‡ªåŠ¨å°†é”é‡Šæ”¾ã€‚</p>\n</blockquote>\n<h1 id=\"synchronizedåŸç†å›¾\"><a class=\"anchor\" href=\"#synchronizedåŸç†å›¾\">#</a> synchronized åŸç†å›¾</h1>\n<p><img data-src=\"https://s11.ax1x.com/2023/12/18/piIluCT.png\" alt=\"piIluCT.png\" /></p>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaæ·±å…¥ç†è§£",
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "å¹¶å‘",
                "åŒæ­¥",
                "Monitor",
                "synchronized"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/JavaEquals%E4%B8%8EHashCode%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/JavaEquals%E4%B8%8EHashCode%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "title": "Java equalsä¸hashCodeæ·±å…¥ç†è§£",
            "date_published": "2023-12-15T06:17:52.000Z",
            "content_html": "<blockquote>\n<p>æœ¬ç« æ˜¯ï¼šä¸ºä»€ä¹ˆé‡å†™ <code>equals()</code>  æ–¹æ³•æ—¶ä¸€å®šè¦é‡å†™ <code>hashCode()</code>  æ–¹æ³•æ·±å…¥è§£æã€‚</p>\n</blockquote>\n<h1 id=\"equalså’Œhashcodeæ˜¯ä»€ä¹ˆ\"><a class=\"anchor\" href=\"#equalså’Œhashcodeæ˜¯ä»€ä¹ˆ\">#</a> equals å’Œ hashCode æ˜¯ä»€ä¹ˆ</h1>\n<blockquote>\n<p>åœ¨ <code>Java</code>  å¼€å‘ä¸­æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„ <code>equals()</code>  æ–¹æ³•ï¼Œå®ƒæ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å¼•ç”¨æ˜¯å¦ç›¸ç­‰ (å³ï¼šæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯åŒä¸€ä¸ªå®ä¾‹)ã€‚ä½†æ˜¯åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦æ¯”è¾ƒå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼Œè€Œä¸ä»…ä»…æ˜¯æ¯”è¾ƒå®ƒä»¬çš„å¼•ç”¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦é‡å†™ <code>equals()</code>  æ–¹æ³•çš„åŸå› ã€‚</p>\n</blockquote>\n<blockquote>\n<p><code>hashCode(å“ˆå¸Œç )</code>  æ˜¯å¦ä¸€ä¸ªä¸å¯¹è±¡ç›¸å…³çš„é‡è¦æ¦‚å¿µï¼Œå“ˆå¸Œç æ˜¯ä¸€ä¸ªæ•´æ•°å€¼ï¼Œå®ƒæ˜¯æ ¹æ®å¯¹è±¡çš„å†…å®¹è®¡ç®—å¾—å‡ºçš„ï¼Œåœ¨ <code>Java</code>  ä¸­å“ˆå¸Œç ä¸»è¦ç”¨äºæ•£åˆ—æ•°æ®ç»“æ„ï¼Œå¦‚ï¼šå“ˆå¸Œè¡¨å°±æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®ç»“æ„ã€‚å®ƒå¯ä»¥å¿«é€ŸæŸ¥æ‰¾å­˜å‚¨åœ¨å…¶ä¸­çš„å¯¹è±¡ï¼Œå“ˆå¸Œç å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç¡®å®šå¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„å­˜å‚¨ä½ç½®ï¼Œä»è€Œå®ç°é«˜æ•ˆçš„æŸ¥æ‰¾æ“ä½œã€‚</p>\n</blockquote>\n<h1 id=\"ä¸ºä»€ä¹ˆè¦é‡å†™equalsæ–¹æ³•\"><a class=\"anchor\" href=\"#ä¸ºä»€ä¹ˆè¦é‡å†™equalsæ–¹æ³•\">#</a> ä¸ºä»€ä¹ˆè¦é‡å†™ equals æ–¹æ³•</h1>\n<blockquote>\n<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ <code>Java</code>  ä¸­çš„ <code>equals()</code>  æ–¹æ³•æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œå¦‚æœæˆ‘ä»¬ä¸é‡å†™ <code>equals()</code>  æ–¹æ³•ï¼Œé‚£ä¹ˆå¯¹äºä¸¤ä¸ªä¸åŒçš„å¯¹è±¡å³ä½¿å®ƒä»¬çš„å†…å®¹ç›¸åŒï¼Œä½†æ˜¯å½“è°ƒç”¨ <code>equals()</code>  æ–¹æ³•æ—¶ä¹Ÿä¼šè¿”å› <code>false</code> , å› ä¸ºä»–ä»¬çš„å¼•ç”¨ä¸åŒï¼Œå¦‚ä¸‹ç¤ºä¾‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Student.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override<span class=\"token punctuation\">.</span>equlals</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: å­¦ç”Ÿå¯¹è±¡</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-15 14:55</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gender <span class=\"token operator\">=</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>OverrideEqualsHashCodeApplicationTests.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span>jupiter<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Test</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>boot<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SpringBootTest</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override<span class=\"token punctuation\">.</span>equlals<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Student</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token annotation punctuation\">@SpringBootTest</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">OverrideEqualsHashCodeApplicationTests</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">equalsDemo1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">Student</span> student1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å†ˆå´\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ç”·\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">Student</span> student2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å†ˆå´\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ç”·\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"student1.equals(student2) = \"</span> <span class=\"token operator\">+</span> student1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>student2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            æ‰§è¡Œç»“æœï¼šstudent1.equals (student2) = false</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ä¸Šé¢è¿™ä¸ªç¤ºä¾‹ä¸­å°½ç®¡ <code>student1</code>  å’Œ <code>student2</code>  çš„å†…å®¹æ˜¯ç›¸åŒçš„ï¼Œä½†å®ƒä»¬æ˜¯ä¸åŒçš„å®ä¾‹å¯¹è±¡ï¼Œå› æ­¤ <code>equals()</code>  æ–¹æ³•è¿”å› <code>false</code> ï¼Œè¿™è‚¯å®šä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦é‡å†™ <code>equals()</code>  æ–¹æ³•ï¼Œä»¥ä¾¿æ¯”è¾ƒå¯¹è±¡çš„å†…å®¹è€Œä¸æ˜¯å¼•ç”¨åœ°å€ã€‚é€šå¸¸æˆ‘ä»¬ä¼šåœ¨è‡ªå®šä¹‰ç±»ä¸­é‡å†™ <code>equals()</code>  æ–¹æ³•ä»¥å®ç°æˆ‘ä»¬è‡ªå·±çš„ç›¸ç­‰æ€§é€»è¾‘ï¼Œæ¯”è¾ƒå¯¹è±¡çš„å±æ€§æ˜¯å¦ç›¸ç­‰ã€‚</p>\n</blockquote>\n<blockquote>\n<p>ä¸‹é¢æ˜¯é‡å†™åçš„ <code>Student</code>  ç±»å¯¹è±¡ï¼Œ <code>IDEA</code>  çš„é‡å†™å¿«æ·é”®æ˜¯ <code>Alt+Ins</code></p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Student.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override<span class=\"token punctuation\">.</span>equlals</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Objects</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: å­¦ç”Ÿå¯¹è±¡</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-15 14:55</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gender <span class=\"token operator\">=</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">==</span> o<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>o <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> <span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> o<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token class-name\">Student</span> student <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Student</span><span class=\"token punctuation\">)</span> o<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">return</span> age <span class=\"token operator\">==</span> student<span class=\"token punctuation\">.</span>age <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> student<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>gender<span class=\"token punctuation\">,</span> student<span class=\"token punctuation\">.</span>gender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> gender<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span>jupiter<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Test</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>boot<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SpringBootTest</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override<span class=\"token punctuation\">.</span>equlals<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Student</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token annotation punctuation\">@SpringBootTest</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">OverrideEqualsHashCodeApplicationTests</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">equalsDemo1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">Student</span> student1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å†ˆå´\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ç”·\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">Student</span> student2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å†ˆå´\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ç”·\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"student1.equals(student2) = \"</span> <span class=\"token operator\">+</span> student1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>student2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            æ‰§è¡Œç»“æœï¼šstudent1.equals (student2) = true</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å†æ¬¡æ‰§è¡Œåç»“æœå°±æ˜¯ <code>true</code>  äº†ï¼Œè¿™æ ·æ‰æ˜¯æˆ‘ä»¬æƒ³è¦çš„å†…å®¹æ¯”è¾ƒç»“æœï¼Œæ¥ä¸‹æ¥æ·±å…¥åˆ†æä¸€ä¸‹ <code>equals()</code>  å®ç°åŸç†ã€‚</p>\n</blockquote>\n<h2 id=\"1ï¸âƒ£-equalså†…éƒ¨åŸç†\"><a class=\"anchor\" href=\"#1ï¸âƒ£-equalså†…éƒ¨åŸç†\">#</a> 1ï¸âƒ£ equals å†…éƒ¨åŸç†</h2>\n<blockquote>\n<p>æˆ‘ä»¬éƒ½çŸ¥é“ <code>equals()</code>  æ–¹æ³•æ˜¯è¶…ç±» <code>Object</code>  ç±»ä¸­çš„ä¸€ä¸ªåŸºæœ¬æ–¹æ³•ï¼Œç”¨äºæ£€æµ‹ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸å¦ä¸€ä¸ªå¯¹è±¡ç›¸ç­‰ã€‚è€Œåœ¨ <code>Object</code>  ç±»ä¸­è¿™ä¸ªæ–¹æ³•å®é™…ä¸Šæ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦å…·æœ‰ç›¸åŒçš„å¼•ç”¨ï¼Œå¦‚æœæœ‰å®ƒä»¬å°±ä¸€å®šä¼šç›¸ç­‰ï¼Œæºç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Object.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">jdk<span class=\"token punctuation\">.</span>internal<span class=\"token punctuation\">.</span>vm<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IntrinsicCandidate</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Object</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">==</span> obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æˆ‘ä»¬çŸ¥é“æ‰€æœ‰çš„å¯¹è±¡éƒ½æ‹¥æœ‰æ ‡è¯† (å†…å­˜åœ°å€) å’ŒçŠ¶æ€ (æ•°æ®)ï¼ŒåŒæ—¶ <code>==</code>  è¿ç®—ç¬¦æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œæ‰€ä»¥è¯´ <code>Object</code>  çš„ <code>equals()</code>  æ–¹æ³•æ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸ç­‰ï¼Œå³ï¼š <code>object1.equals(object2)</code>  ä¸º <code>true</code>  åˆ™è¡¨ç¤º <code>equals1</code>  å’Œ <code>equals2</code>  å®é™…ä¸Šæ˜¯å¼•ç”¨çš„åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>\n</blockquote>\n<h2 id=\"2ï¸âƒ£-equalsä¸çš„åŒºåˆ«\"><a class=\"anchor\" href=\"#2ï¸âƒ£-equalsä¸çš„åŒºåˆ«\">#</a> 2ï¸âƒ£ equals ä¸ == çš„åŒºåˆ«</h2>\n<blockquote>\n<p>ä¸€èˆ¬éƒ½ä¼šå›ç­”ï¼š <code>qeuals</code>  æ¯”è¾ƒçš„æ˜¯å¯¹è±¡å†…å®¹ï¼Œ <code>==</code>  æ¯”è¾ƒçš„æ˜¯å¯¹è±¡åœ°å€ã€‚ä½†ä»å‰é¢æˆ‘ä»¬å¯ä»¥çŸ¥é“ <code>equals()</code>  æ–¹æ³•åœ¨ <code>Object</code>  ä¸­çš„å®ç°ä¹Ÿæ˜¯é—´æ¥ä½¿ç”¨äº† <code>==</code>  è¿ç®—ç¬¦è¿›è¡Œæ¯”è¾ƒçš„ï¼Œä»ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´ï¼Œå‰é¢çš„å›ç­”å¹¶ä¸å®Œå…¨æ­£ç¡®ï¼Œå…ˆæ¥çœ‹ä¸‹æ®µç¤ºä¾‹ä»£ç ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>People.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override<span class=\"token punctuation\">.</span>equlals</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ç¤ºä¾‹ç±»</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-15 15:33</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">People</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gender <span class=\"token operator\">=</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token class-name\">People</span> people1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token class-name\">People</span> people2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>people1 <span class=\"token operator\">==</span> people2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            false</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            false</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å¯¹äº <code>==</code>  è¿ç®—ç¬¦æ¯”è¾ƒä¸¤ä¸ª <code>People</code>  å¯¹è±¡è¿”å›äº† <code>false</code> , è¿™ç‚¹æˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½æ˜ç™½ï¼Œæ¯•ç«Ÿå®ƒä»¬æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€ï¼Œè€Œ <code>people1</code>  å’Œ <code>people2</code>  æ˜¯ä¸¤ä¸ªä¸åŒçš„å®ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥ <code>people1</code>  ä¸ <code>people2</code>  çš„å†…å­˜åœ°å€ä¹Ÿä¸ä¸€æ ·ï¼Œç°åœ¨çš„é—®é¢˜æ˜¯æˆ‘ä»¬å¸Œæœ›åˆ¤æ–­å®ä¾‹ä¸­çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼Œä½† <code>equals()</code>  æ–¹æ³•ç»“æœå´è¿”å›äº† <code>false</code> ï¼Œå½“ç„¶å¯¹äº <code>equals()</code>  æ–¹æ³•è¿”å›äº† <code>false</code>  æˆ‘ä»¬ä¹ŸçŸ¥é“æ˜¯æ€ä¹ˆå›äº‹ï¼Œå› ä¸º <code>equals()</code>  æ–¹æ³•æ¥è‡ª <code>Object</code>  ç±»ï¼Œè€Œæˆ‘ä»¬å¹¶æ²¡æœ‰é‡å†™ <code>equals()</code>  æ–¹æ³•ï¼Œè°ƒç”¨çš„å¿…ç„¶æ˜¯ <code>Object</code>  ç±»ä¸­åŸå§‹çš„ <code>equals()</code>  æ–¹æ³•ï¼Œæ ¹æ®å‰é¢åˆ†ææˆ‘ä»¬ä¹ŸçŸ¥é“è¯¥åŸå§‹ <code>equals()</code>  æ–¹æ³•å†…éƒ¨å®ç°ä½¿ç”¨çš„æ˜¯ <code>==</code>  è¿ç®—ç¬¦ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»åœ¨ <code>People</code>  ç±»ä¸­é‡å†™ <code>equals()</code>  æ–¹æ³•æ¥å®ç°æ¯”è¾ƒå†…å®¹ï¼Œè€Œä¸æ˜¯æ¯”è¾ƒå†…å­˜åœ°å€ï¼Œé‡å†™åçš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>People.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override<span class=\"token punctuation\">.</span>equlals</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Objects</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: ç¤ºä¾‹ç±»</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-15 15:33</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">People</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">==</span> o<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>o <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> <span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> o<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token class-name\">People</span> people <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">People</span><span class=\"token punctuation\">)</span> o<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">return</span> age <span class=\"token operator\">==</span> people<span class=\"token punctuation\">.</span>age <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> people<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>gender<span class=\"token punctuation\">,</span> people<span class=\"token punctuation\">.</span>gender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gender <span class=\"token operator\">=</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">People</span> people1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token class-name\">People</span> people2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>people1 <span class=\"token operator\">==</span> people2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            true</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            false</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æ€»ç»“ï¼šé»˜è®¤æƒ…å†µä¸‹ä» <code>Object</code>  ç±»ä¸­ç»§æ‰¿è€Œæ¥çš„ <code>equals()</code>  æ–¹æ³•ä¸ <code>==</code>  è¿ç®—ç¬¦æ˜¯ç­‰ä»·çš„ï¼Œæ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œä½†æˆ‘ä»¬å¯ä»¥é‡å†™ <code>equals()</code>  æ–¹æ³•ï¼Œä½¿å…¶æŒ‰ç…§æˆ‘ä»¬çš„éœ€æ±‚æ–¹å¼è¿›è¡Œæ¯”è¾ƒï¼Œè€Œä¸å†æ˜¯æ¯”è¾ƒå†…å­˜åœ°å€ã€‚</p>\n</blockquote>\n<h2 id=\"3ï¸âƒ£-equalsçš„é‡å†™è§„åˆ™\"><a class=\"anchor\" href=\"#3ï¸âƒ£-equalsçš„é‡å†™è§„åˆ™\">#</a> 3ï¸âƒ£ equals çš„é‡å†™è§„åˆ™</h2>\n<ul>\n<li>æ³¨æ„ï¼šæˆ‘ä»¬åœ¨é‡å†™ <code>equals()</code>  æ–¹æ³•æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸‹é¢å‡ é¡¹è§„åˆ™ï¼š\n<ul>\n<li><code>è‡ªåæ€§</code> ï¼šå¯¹äºä»»ä½•é <code>null</code>  çš„å¼•ç”¨å€¼ <code>x</code> , <code>x.equals(x)</code>  åº”è¯¥è¿”å› <code>true</code> ã€‚</li>\n<li><code>å¯¹ç§°æ€§</code> ï¼šå¯¹äºä»»ä½•é <code>null</code>  çš„å¼•ç”¨å€¼ <code>x</code>  ä¸ <code>y</code> , å½“ä¸”ä»…å½“ <code>y.equals(x)</code>  è¿”å› <code>true</code>  æ—¶ <code>x.equals(y)</code>  æ‰è¿”å› <code>true</code> ã€‚</li>\n<li><code>ä¼ é€’æ€§</code> ï¼šå¯¹äºä»»ä½•é <code>null</code>  çš„å¼•ç”¨å€¼ <code>x</code>   <code>y</code>   <code>z</code> , å¦‚æœ <code>y.equals(x)</code>  è¿”å› <code>true</code>  å’Œ <code>y.equals(z)</code>  è¿”å› <code>true</code>  é‚£ä¹ˆ <code>x.equals(z)</code>  ä¹Ÿåº”è¯¥è¿”å› <code>true</code> ã€‚</li>\n<li><code>ä¸€è‡´æ€§</code> ï¼šå¯¹äºä»»ä½•é <code>null</code>  çš„å¼•ç”¨å€¼ <code>x</code>  ä¸ <code>y</code> , å‡è®¾å¯¹è±¡ä¸Š <code>equals</code>  æ¯”è¾ƒä¸­çš„ä¿¡æ¯æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œåˆ™å¤šæ¬¡è°ƒç”¨ <code>x.equals(y)</code>  å§‹ç»ˆåº”è¯¥è¿”å› <code>true</code>  æˆ–å§‹ç»ˆè¿”å› <code>false</code> ã€‚</li>\n<li>å¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼ <code>x</code> , <code>x.equals(null)</code>  åº”è¯¥è¿”å› <code>false</code> ã€‚</li>\n</ul>\n</li>\n<li>å½“ç„¶åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœåªæ˜¯è¿›è¡ŒåŒä¸€ä¸ªç±»ä¸¤ä¸ªå¯¹è±¡çš„ç›¸ç­‰æ¯”è¾ƒä¸€èˆ¬éƒ½å¯ä»¥æ»¡è¶³ä»¥ä¸Šäº”ç‚¹è¦æ±‚ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>People.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override<span class=\"token punctuation\">.</span>equlals</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Objects</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: ç¤ºä¾‹ç±»</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-15 15:33</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">People</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">==</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>o <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">People</span> people<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token keyword\">return</span> age <span class=\"token operator\">==</span> people<span class=\"token punctuation\">.</span>age <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> people<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>gender<span class=\"token punctuation\">,</span> people<span class=\"token punctuation\">.</span>gender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gender <span class=\"token operator\">=</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">People</span> people1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token class-name\">People</span> people2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token class-name\">People</span> people3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è‡ªåæ€§ï¼š\"</span> <span class=\"token operator\">+</span> people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¯¹ç§°æ€§ï¼š\"</span> <span class=\"token operator\">+</span> people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people2<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> people2<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ä¼ é€’æ€§ï¼š\"</span> <span class=\"token operator\">+</span> people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people2<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> people2<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people3<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ä¸€è‡´æ€§ï¼š\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people2<span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"equalsæ–¹æ³•æ²¡æœ‰éµå®ˆä¸€è‡´æ€§ï¼\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"equalsæ–¹æ³•éµå®ˆä¸€è‡´æ€§ï¼\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ä¸nullæ¯”è¾ƒï¼š\"</span> <span class=\"token operator\">+</span> people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            è‡ªåæ€§ï¼štrue</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            å¯¹ç§°æ€§ï¼štrue true</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>            ä¼ é€’æ€§ï¼štrue true true</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            ä¸€è‡´æ€§ï¼šequals æ–¹æ³•éµå®ˆä¸€è‡´æ€§ï¼</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            ä¸ null æ¯”è¾ƒï¼šfalse</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä»¥ä¸Šç»“æœæˆ‘çœ‹å¯ä»¥çœ‹å‡º <code>equals()</code>  æ–¹æ³•åœ¨åŒä¸€ä¸ªç±»çš„ä¸¤ä¸ªå¯¹è±¡é—´æ¯”è¾ƒè¿˜æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ã€‚å¦‚æœæ˜¯å­ç±»ä¸çˆ¶ç±»æ··åˆæ¯”è¾ƒï¼Œé‚£ä¹ˆæƒ…å†µå°±ä¸å¤ªç®€å•äº†ï¼Œæ¥ç€æ¥çœ‹ä¸‹é¢çš„ç¤ºä¾‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override<span class=\"token punctuation\">.</span>equlals</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Objects</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: ç»§æ‰¿ People</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-15 16:34</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FemalePeople</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">People</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     * èŒä¸š</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> occupation<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">FemalePeople</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> occupation<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> gender<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>occupation <span class=\"token operator\">=</span> occupation<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">==</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>o <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">FemalePeople</span> fp<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> occupation <span class=\"token operator\">==</span> fp<span class=\"token punctuation\">.</span>occupation<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">People</span> people1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token class-name\">FemalePeople</span> femalePeople1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FemalePeople</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å­¦ç”Ÿ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token class-name\">FemalePeople</span> femalePeople2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FemalePeople</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å­¦ç”Ÿ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>femalePeople1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>femalePeople1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>femalePeople2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            true</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>            false</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>            false</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å½“ç„¶è¿™ä¸ªç»“æœä¹Ÿæ˜¯æˆ‘ä»¬æ„æ–™ä¹‹ä¸­çš„ï¼Œå› ä¸º <code>FemalePeople</code>  ç±»å‹æ˜¯å±äº <code>People</code>  ç±»å‹ï¼Œå› æ­¤ <code>people1.equals(femalePeople1)</code>  è‚¯å®šä¸º <code>true</code> , å¯¹äº <code>femalePeople1.equals(people1)</code>  è¿”å› <code>false</code>  æ˜¯å› ä¸º <code>People</code>  ç±»å‹ä¸ä¸€å®šæ˜¯ <code>FemalePeople</code>  ç±»å‹ ( <code>People</code>  è¿˜å¯ä»¥æœ‰å…¶å®ƒå­ç±»)ï¼Œä½†æ˜¯å¦‚æœæœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼Œåªè¦ <code>FemalePeople</code>  å’Œ <code>People</code>  çš„å§“åã€æ€§åˆ«ã€å¹´é¾„ä¸€æ ·æˆ‘ä»¬å°±è®¤ä¸ºä»–ä»¬ä¸¤ä¸ªæ˜¯ç›¸åŒçš„ï¼Œåœ¨è¿™æ ·ä¸€ç§æƒ…å†µä¸‹çš„éœ€æ±‚ï¼š <code>People(çˆ¶ç±»)</code>  ä¸ <code>FemalePeople(å­ç±»)</code>  çš„æ··åˆæ¯”è¾ƒå°±ä¸ç¬¦åˆ <code>equals()</code>  æ–¹æ³•çš„å¯¹ç§°ç‰¹æ€§äº†ã€‚æ˜¾ç„¶ä¸€ä¸ªè¿”å› <code>true</code> , ä¸€ä¸ªè¿”å› <code>false</code> , æ ¹æ® <code>equals</code>  çš„å¯¹ç§°ç‰¹æ€§æ­¤æ—¶ä¸¤æ¬¡æ¯”è¾ƒéƒ½åº”è¯¥è¿”å› <code>true</code>  æ‰å¯¹ï¼Œå¦‚ä½•ä¿®æ”¹æ‰ç¬¦åˆå¯¹ç§°ç‰¹æ€§å‘¢ï¼Ÿé€ æˆä¸ç¬¦åˆå¯¹ç§°æ€§çš„åŸå› æ˜¯å› ä¸º <code>People</code>  ç±»å‹ä¸ä¸€å®šæ˜¯ <code>FemalePeople</code>  ç±»å‹ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬ä¸åº”è¯¥åœ¨ <code>equals()</code>  æ–¹æ³•ä¸­ç›´æ¥è¿”å› <code>false</code> ï¼Œè€Œåº”è¯¥ç»§ç»­ä½¿ç”¨çˆ¶ç±»çš„ <code>equals()</code>  æ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼Œä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FemalePeople.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override<span class=\"token punctuation\">.</span>equlals</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ç»§æ‰¿ People</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-15 16:34</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FemalePeople</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">People</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * èŒä¸š</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> occupation<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">FemalePeople</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> occupation<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> gender<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>occupation <span class=\"token operator\">=</span> occupation<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">==</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>o <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">FemalePeople</span> fp<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> occupation <span class=\"token operator\">==</span> fp<span class=\"token punctuation\">.</span>occupation<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token class-name\">People</span> people1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">FemalePeople</span> femalePeople1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FemalePeople</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å­¦ç”Ÿ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token class-name\">FemalePeople</span> femalePeople2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FemalePeople</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å­¦ç”Ÿ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token class-name\">FemalePeople</span> femalePeople3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FemalePeople</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"è€å¸ˆ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>femalePeople1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>femalePeople1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>femalePeople2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>femalePeople2<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>femalePeople3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>            true</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>            true</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            false</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>            false</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>è™½ç„¶ä¸Šé¢ä»£ç ç°åœ¨ç¬¦åˆäº†å¯¹ç§°æ€§ï¼Œä½†è¿˜æ˜¯ä¸ç¬¦åˆä¼ é€’æ€§ï¼ŒæŒ‰æˆ‘ä»¬ä¹‹å‰çš„éœ€æ±‚åº”è¯¥æ˜¯ç›¸ç­‰ï¼Œè€Œä¸”ä¹Ÿåº”è¯¥ç¬¦åˆ <code>equals</code>  çš„ä¼ é€’æ€§æ‰å¯¹ï¼Œäº‹å®ä¸Šæ‰§è¡Œç»“æœå´ä¸æ˜¯è¿™æ ·ï¼Œå‡ºç°è¿èƒŒä¼ é€’æ€§æ ¹æœ¬åŸå› æ˜¯ï¼š\n<ul>\n<li>çˆ¶ç±»ä¸å­ç±»æ··åˆæ¯”è¾ƒã€‚</li>\n<li>å­ç±»ä¸­å£°æ˜äº†æ–°å˜é‡ï¼Œå¹¶ä¸”åœ¨å­ç±» <code>equals()</code>  æ–¹æ³•ä½¿ç”¨äº†æ–°å¢çš„æˆå‘˜å˜é‡ä½œä¸ºåˆ¤æ–­å¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„æ¡ä»¶ã€‚</li>\n</ul>\n</li>\n<li>åªè¦æ»¡è¶³ä¸Šé¢ä¸¤ä¸ªæ¡ä»¶ <code>equals()</code>  æ–¹æ³•çš„ä¼ é€’æ€§ä¾¿å¤±æ•ˆäº†ï¼Œä¸‹é¢æ˜¯é‡æ–°ä¿®æ”¹åçš„ä»£ç ï¼Œè¿™æ ·å°±è§£å†³äº†ä¼ é€’æ€§ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FemalePeople.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override<span class=\"token punctuation\">.</span>equlals</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ç»§æ‰¿ People</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-15 16:34</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FemalePeople</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">People</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * èŒä¸š</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> occupation<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">FemalePeople</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> occupation<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> gender<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>occupation <span class=\"token operator\">=</span> occupation<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">==</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>o <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">FemalePeople</span> fp<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> occupation <span class=\"token operator\">==</span> fp<span class=\"token punctuation\">.</span>occupation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>               <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> occupation <span class=\"token operator\">==</span> fp<span class=\"token punctuation\">.</span>occupation<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token class-name\">People</span> people1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">FemalePeople</span> femalePeople1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FemalePeople</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å­¦ç”Ÿ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token class-name\">FemalePeople</span> femalePeople2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FemalePeople</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å­¦ç”Ÿ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token class-name\">FemalePeople</span> femalePeople3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FemalePeople</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"è€å¸ˆ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token class-name\">FemalePeople</span> femalePeople4 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FemalePeople</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ¤‹\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"è€å¸ˆ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>femalePeople1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>femalePeople1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>people1<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>femalePeople2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>femalePeople2<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>femalePeople3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>femalePeople4<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>femalePeople2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            true</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            true</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            false</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>            true</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            false</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"ä¸ºä»€ä¹ˆè¦é‡å†™hashcodeæ–¹æ³•\"><a class=\"anchor\" href=\"#ä¸ºä»€ä¹ˆè¦é‡å†™hashcodeæ–¹æ³•\">#</a> ä¸ºä»€ä¹ˆè¦é‡å†™ hashCode æ–¹æ³•</h1>\n<blockquote>\n<p>åœ¨é‡å†™äº† <code>equals()</code>  æ–¹æ³•åä¸ºä»€ä¹ˆè¿˜éœ€è¦é‡å†™ <code>hashCode()</code>  æ–¹æ³•å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºåœ¨ä½¿ç”¨æ•£åˆ—æ•°æ®ç»“æ„æ—¶ï¼Œå¦‚ï¼šå“ˆå¸Œè¡¨ï¼Œæˆ‘ä»¬å¸Œæœ›ç›¸ç­‰çš„å¯¹è±¡å…·æœ‰ç›¸ç­‰çš„å“ˆå¸Œç ã€‚åœ¨ <code>Java</code>  ä¸­å“ˆå¸Œè¡¨ä½¿ç”¨å“ˆå¸Œç æ¥ç¡®å®šå­˜å‚¨å¯¹è±¡çš„ä½ç½®ã€‚å¦‚æœï¼šä¸¤ä¸ªç›¸ç­‰çš„å¯¹è±¡å…·æœ‰ä¸åŒçš„å“ˆå¸Œç ï¼Œé‚£ä¹ˆå®ƒä»¬å°†è¢«å­˜å‚¨åœ¨å“ˆå¸Œè¡¨çš„ä¸åŒä½ç½®ï¼Œå¯¼è‡´æ— æ³•æ­£ç¡®æŸ¥æ‰¾å¯¹è±¡ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Demo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>override<span class=\"token punctuation\">.</span>equlals</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HashSet</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Objects</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Set</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: é‡å†™ hashCOde Vs ä¸é‡å†™ hashCode</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2023-12-15 19:22</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Demo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     * åªé‡å†™ equals æ–¹æ³•æœªé‡å†™ hashCode</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Student1</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Student1</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gender <span class=\"token operator\">=</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">==</span> o<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>o <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> <span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> o<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token class-name\">Student1</span> student1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Student1</span><span class=\"token punctuation\">)</span> o<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token keyword\">return</span> age <span class=\"token operator\">==</span> student1<span class=\"token punctuation\">.</span>age <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> student1<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>gender<span class=\"token punctuation\">,</span> student1<span class=\"token punctuation\">.</span>gender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>     * é‡å†™ equals å’Œ hashCode æ–¹æ³•</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Student2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Student2</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> gender<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gender <span class=\"token operator\">=</span> gender<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">==</span> o<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>o <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> <span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> o<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            <span class=\"token class-name\">Student2</span> student2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Student2</span><span class=\"token punctuation\">)</span> o<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            <span class=\"token keyword\">return</span> age <span class=\"token operator\">==</span> student2<span class=\"token punctuation\">.</span>age <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> student2<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>gender<span class=\"token punctuation\">,</span> student2<span class=\"token punctuation\">.</span>gender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> gender<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token class-name\">Student1</span> student1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student1</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å†ˆå´\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ç”·\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token class-name\">Student1</span> student2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student1</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å†ˆå´\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ç”·\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Student1</span><span class=\"token punctuation\">></span></span> set1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        set1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>student1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åªé‡å†™äº†equalsæ–¹æ³•ï¼š\"</span> <span class=\"token operator\">+</span> set1<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>student2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        <span class=\"token class-name\">Student2</span> student3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student2</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        <span class=\"token class-name\">Student2</span> student4 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student2</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤æ²³æ¸š\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å¥³\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Student2</span><span class=\"token punctuation\">></span></span> set2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        set2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>student3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"é‡å†™äº†equalså’ŒhashCodeæ–¹æ³•ï¼š\"</span> <span class=\"token operator\">+</span> set2<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>student4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>          æ‰§è¡Œæ–¹æ³•ï¼š</pre></td></tr><tr><td data-num=\"79\"></td><td><pre>            åªé‡å†™äº† equals æ–¹æ³•ï¼šfalse </pre></td></tr><tr><td data-num=\"80\"></td><td><pre>            --------------------------------------------------------</pre></td></tr><tr><td data-num=\"81\"></td><td><pre>            é‡å†™äº† equals å’Œ hashCode æ–¹æ³•ï¼štrue</pre></td></tr><tr><td data-num=\"82\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ä¸Šé¢ä»£ç ç¤ºä¾‹ä¸­ï¼Œ <code>Student1</code>  ç±»ä¸­æœªé‡å†™ <code>hashCode()</code>  æ–¹æ³•ï¼Œå°½ç®¡ <code>student1</code>  å’Œ <code>student2</code>  å†…å®¹ç›¸åŒï¼Œä½†ç”±äºå®ƒä»¬å…·æœ‰ä¸åŒçš„å“ˆå¸Œç ï¼Œåœ¨ä½¿ç”¨ <code>set1.contains(student2)</code>  æ—¶è¿”å› <code>false</code> , è¿™æ˜¯è¯´æ˜å“ˆå¸Œè¡¨æ— æ³•æ­£ç¡®å®šä½åˆ° <code>student2</code> ã€‚è€Œ <code>Student2</code>  ç±»ä¸­é‡å†™äº† <code>hashCode()</code>  æ–¹æ³•ï¼Œåœ¨ä½¿ç”¨ <code>set2.contains(student4)</code>  æ—¶å“ˆå¸Œè¡¨å°±å¯ä»¥æ­£ç¡®å®šä½åˆ° <code>student4</code> ï¼Œå› ä¸ºå®ƒä»¬ä¸¤ä¸ªçš„å“ˆå¸Œç æ˜¯ç›¸åŒçš„ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ç¡®ä¿é‡å†™ <code>equals()</code>  æ–¹æ³•æ—¶ä¸ºä»€ä¹ˆä¹Ÿè¦é‡å†™ <code>hashCode()</code>  æ–¹æ³•çš„åŸå› ï¼Œä»¥ä¾¿å®ƒä»¬çš„å“ˆå¸Œç æ˜¯ç›¸åŒçš„ï¼Œè¿™æ ·å“ˆå¸Œè¡¨å°±èƒ½æ­£ç¡®åœ°å­˜å‚¨å’ŒæŸ¥æ‰¾è¿™äº›å¯¹è±¡äº†ã€‚</p>\n</blockquote>\n<h2 id=\"1ï¸âƒ£-hashcodeçš„é‡å†™è§„åˆ™\"><a class=\"anchor\" href=\"#1ï¸âƒ£-hashcodeçš„é‡å†™è§„åˆ™\">#</a> 1ï¸âƒ£ hashCode çš„é‡å†™è§„åˆ™</h2>\n<ul>\n<li>æ³¨æ„ï¼šæˆ‘ä»¬åœ¨é‡å†™ <code>hashCode()</code>  æ–¹æ³•æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸‹é¢å‡ é¡¹è§„åˆ™ï¼š\n<ul>\n<li>å¦‚æœï¼šä¸¤ä¸ªå¯¹è±¡é€šè¿‡ <code>equals()</code>  ç›¸ç­‰ï¼Œé‚£ä¹ˆå®ƒä»¬çš„å“ˆå¸Œç å¿…é¡»ç›¸ç­‰ã€‚</li>\n<li><code>hashCode()</code>  æ–¹æ³•çš„è®¡ç®—åº”è¯¥æ˜¯é«˜æ•ˆçš„ï¼Œé¿å…å¤æ‚çš„è®¡ç®—ã€‚</li>\n<li><code>hashCode()</code>  æ–¹æ³•çš„ç»“æœåº”è¯¥åœ¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ï¼Œå¦‚æœï¼šä¸€ä¸ªå¯¹è±¡çš„å†…å®¹å‘ç”Ÿäº†å˜åŒ–ï¼Œå®ƒçš„å“ˆå¸Œç ä¹Ÿä¸€ä¸ªä¿æŒä¸å˜ã€‚</li>\n<li>å¯¹äºä¸ç›¸ç­‰çš„å¯¹è±¡ï¼Œå“ˆå¸Œç å°½é‡ä¸è¦ç›¸ç­‰ï¼Œä»¥æé«˜å“ˆå¸Œè¡¨çš„æ€§èƒ½ã€‚</li>\n</ul>\n</li>\n<li>ä¸ºäº†éµå®ˆè¿™äº›è§„åˆ™ï¼Œé€šå¸¸æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¯¹è±¡çš„å±æ€§æ¥è®¡ç®—å“ˆå¸Œç ï¼Œæ¯”å¦‚ä½¿ç”¨å±æ€§çš„å“ˆå¸Œç ç›¸åŠ æˆ–å¼‚æˆ–æ¥å¾—åˆ°å¯¹è±¡çš„å“ˆå¸Œç ã€‚</li>\n</ul>\n<blockquote>\n<p>æ€»ç»“ï¼šä¸ºäº†ä¿è¯å¯¹è±¡çš„ç›¸ç­‰æ€§å’Œå“ˆå¸Œè¡¨çš„å‡†ç¡®æ€§ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é‡å†™ <code>equals()</code>  æ–¹æ³•æ—¶ä¸€èµ·é‡å†™ <code>hashCode()</code>  æ–¹æ³•ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯å¯†åˆ‡ç›¸å…³çš„ï¼Œå®ƒä»¬ä¸€èµ·ç¡®ä¿å¯¹è±¡åœ¨ä½¿ç”¨æ•£åˆ—æ•°æ®ç»“æ„æ—¶èƒ½å¤Ÿæ­£ç¡®å·¥ä½œã€‚å½“ä½ åœ¨é¢è¯•ä¸­é‡åˆ°è¿™ä¸ªé—®é¢˜æ—¶ï¼Œä¸è¦å¿˜è®°å¼ºè°ƒ <code>equals</code>  å’Œ <code>hashCode</code>  æ–¹æ³•çš„ä¸€è‡´æ€§å’Œæ€§èƒ½ï¼Œä»¥åŠéµå®ˆé‡å†™ <code>hashCode</code>  æ–¹æ³•çš„è§„åˆ™ã€‚è¿™å°†å¸®åŠ©ä½ æ·±åˆ»ç†è§£è¿™ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œå¹¶åœ¨å®é™…å¼€å‘ä¸­æ­£ç¡®åœ°ä½¿ç”¨å®ƒä»¬ã€‚</p>\n</blockquote>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaæ·±å…¥ç†è§£",
                "è®¡ç®—æœºç§‘å­¦",
                "Javaæ·±å…¥ç†è§£",
                "æ–¹æ³•é‡å†™",
                "å“ˆå¸Œç®—æ³•",
                "æ•£åˆ—è¡¨"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E4%BD%8D%E8%BF%90%E7%AE%97%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E4%BD%8D%E8%BF%90%E7%AE%97%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "title": "Javaä½è¿ç®—æ·±å…¥ç†è§£",
            "date_published": "2023-12-14T11:20:11.000Z",
            "content_html": "<h1 id=\"åŸºç¡€æ¦‚å¿µ\"><a class=\"anchor\" href=\"#åŸºç¡€æ¦‚å¿µ\">#</a> åŸºç¡€æ¦‚å¿µ</h1>\n<blockquote>\n<p>æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ç›¸å…³çš„åŸºç¡€æ¦‚å¿µï¼š<a href=\"#1%EF%B8%8F%E2%83%A3-%E6%9C%BA%E5%99%A8%E7%A0%81\">æœºå™¨ç </a>ã€<a href=\"#2%EF%B8%8F%E2%83%A3-%E7%9C%9F%E5%80%BC\">çœŸå€¼</a>ã€<a href=\"#3%EF%B8%8F%E2%83%A3-%E5%8E%9F%E7%A0%81\">åŸç </a>ã€<a href=\"#4%EF%B8%8F%E2%83%A3-%E5%8F%8D%E7%A0%81\">åç </a>ã€<a href=\"#5%EF%B8%8F%E2%83%A3-%E8%A1%A5%E7%A0%81\">è¡¥ç </a>ã€‚</p>\n</blockquote>\n<h2 id=\"1ï¸âƒ£-æœºå™¨ç \"><a class=\"anchor\" href=\"#1ï¸âƒ£-æœºå™¨ç \">#</a> 1ï¸âƒ£ æœºå™¨ç </h2>\n<ul>\n<li>æˆ‘ä»¬çŸ¥é“æ— è®ºæ˜¯ä»£ç è¿˜æ˜¯æ•°å€¼ï¼Œåœ¨è®¡ç®—æœºä¸­æœ€åéƒ½è½¬æ¢æˆäº†äºŒè¿›åˆ¶çš„å½¢å¼å­˜åœ¨ï¼Œè€Œä¸€ä¸ªæ•°å€¼åœ¨è®¡ç®—æœºä¸­çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ï¼Œå°±æ˜¯è¿™ä¸ªæ•°çš„æœºå™¨ç ã€‚</li>\n<li>æœºå™¨ç æ˜¯æœ‰ç¬¦å·ä½çš„ï¼Œåœ¨è®¡ç®—æœºä¸­ç”¨ä¸€ä¸ªäºŒè¿›åˆ¶æ•°çš„æœ€é«˜ä½å­˜æ”¾ç¬¦å·ï¼Œæ­£æ•°ä¸º <code>0</code> ï¼Œè´Ÿæ•°ä¸º <code>1</code> ã€‚\n<ul>\n<li>ç¤ºä¾‹å¦‚ä¸‹ (ä½¿ç”¨åŸç è¡¨ç¤º)ï¼š</li>\n<li>åè¿›åˆ¶çš„ <code>+5</code> ï¼Œè®¡ç®—æœºå­—é•¿ä¸º <code>8</code>  ä½ï¼Œå…¶äºŒè¿›åˆ¶æ˜¯ <code>00000101</code> ã€‚</li>\n<li>åè¿›åˆ¶çš„ <code>-5</code> ï¼Œè®¡ç®—æœºå­—é•¿ä¸º <code>8</code>  ä½ï¼Œå…¶äºŒè¿›åˆ¶æ˜¯ <code>10000101</code> ã€‚</li>\n<li>å…¶ä¸­çš„ <code>00000101</code>  å’Œ <code>10000101</code>  å°±æ˜¯æœºå™¨ç ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2ï¸âƒ£-çœŸå€¼\"><a class=\"anchor\" href=\"#2ï¸âƒ£-çœŸå€¼\">#</a> 2ï¸âƒ£ çœŸå€¼</h2>\n<ul>\n<li>ç”±äºæœºå™¨ç çš„ç¬¬ä¸€ä½æ˜¯ç¬¦å·ä½ï¼Œæ‰€ä»¥å…¶å½¢å¼å€¼å°±ä¸ç­‰äºå…¶çœŸå€¼çš„æ•°å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>10000101</code>  è¡¨ç¤ºçš„æ˜¯ <code>-5</code>  è€Œä¸æ˜¯ <code>133</code>  (å…¶ä¸­ <code>10000101</code>  çš„åè¿›åˆ¶æ˜¯ <code>131</code> ï¼Œå‰ææ˜¯ä¸ç®—æœ€é«˜ä½ä¸ºç¬¦å·ä½)ï¼Œå› æ­¤ <code>-5</code>  æ‰æ˜¯æœºå™¨ç çš„çœŸå€¼ã€‚</li>\n</ul>\n<h2 id=\"3ï¸âƒ£-åŸç \"><a class=\"anchor\" href=\"#3ï¸âƒ£-åŸç \">#</a> 3ï¸âƒ£ åŸç </h2>\n<ul>\n<li>åŸç æ˜¯ä¸€ç§è®¡ç®—æœºä¸­å¯¹æ•°å­—çš„äºŒè¿›åˆ¶çš„è¡¨ç¤ºæ–¹æ³•ï¼ŒåŸç è¡¨ç¤ºæ³•åœ¨æ•°å€¼å‰é¢å¢åŠ ä¸€ä¸ªç¬¦å·ä½ (å³ï¼šæœ€é«˜ä½ä¸ºç¬¦å·ä½)ï¼Œæ­£æ•°è¯¥ä½ä¸º <code>0</code> ï¼Œè´Ÿæ•°è¯¥ä½ä¸º <code>1</code> ï¼Œå…¶ä½™ä½è¡¨ç¤ºæ•°å€¼çš„å¤§å°ã€‚\n<ul>\n<li><code>[+5] = [00000101](åŸç )</code></li>\n<li><code>[-5] = [10000101](åŸç )</code></li>\n</ul>\n</li>\n<li>å› ä¸ºç¬¬ä¸€ä½æ˜¯ç¬¦å·ä½ï¼Œå› æ­¤ <code>8</code>  ä½äºŒè¿›åˆ¶çš„å–å€¼èŒƒå›´å°±æ˜¯ <code>[1111 1111,0111 1111]</code>  ä¹Ÿå°±æ˜¯ <code>[-127,127]</code> ã€‚</li>\n</ul>\n<h2 id=\"4ï¸âƒ£-åç \"><a class=\"anchor\" href=\"#4ï¸âƒ£-åç \">#</a> 4ï¸âƒ£ åç </h2>\n<ul>\n<li>åç æ˜¯æ•°å€¼å‚¨å­˜çš„ä¸€ç§ï¼Œä½†æ˜¯ç”±äºè¡¥ç æ›´èƒ½æœ‰æ•ˆè¡¨ç°æ•°å­—åœ¨è®¡ç®—æœºä¸­çš„å½¢å¼ï¼Œæ‰€ä»¥å¤šæ•°è®¡ç®—æœºä¸€èˆ¬éƒ½ä¸é‡‡ç”¨åç è¡¨ç¤ºæ•°ã€‚</li>\n<li>åç çš„è¡¨ç¤ºæ–¹æ³•å¦‚ä¸‹ï¼š\n<ul>\n<li>æ­£æ•°çš„åç æ˜¯å…¶æœ¬èº«ã€‚</li>\n<li>è´Ÿæ•°çš„åç æ˜¯åœ¨å…¶åŸç çš„åŸºç¡€ä¸Šï¼Œç¬¦å·ä½ä¸å˜ï¼Œå…¶ä½™å„ä¸ªä½å–åã€‚</li>\n<li><code>[+5] = [00000101](åŸç ) = [00000101](åç )</code></li>\n<li><code>[-5] = [10000101](åŸç ) = [11111010](åç )</code></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"5ï¸âƒ£-è¡¥ç \"><a class=\"anchor\" href=\"#5ï¸âƒ£-è¡¥ç \">#</a> 5ï¸âƒ£ è¡¥ç </h2>\n<ul>\n<li>åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­æ•°å€¼ä¸€å¾‹ä½¿ç”¨è¡¥ç æ¥è¡¨ç¤ºå’Œå­˜å‚¨ï¼ŒåŸå› åœ¨äºä½¿ç”¨è¡¥ç ï¼Œå¯ä»¥å°†ç¬¦å·ä½å’Œæ•°å€¼åŸŸç»Ÿä¸€å¤„ç†ï¼ŒåŒæ—¶åŠ å‡æ³•ä¹Ÿå¯ä»¥ç»Ÿä¸€å¤„ç†ã€‚</li>\n<li>è¡¥ç çš„è¡¨ç¤ºæ–¹æ³•å¦‚ä¸‹ï¼š\n<ul>\n<li>æ­£æ•°çš„è¡¥ç æ˜¯å…¶æœ¬èº«ã€‚</li>\n<li>è´Ÿæ•°çš„è¡¥ç æ˜¯åœ¨å…¶åŸç çš„åŸºç¡€ä¸Šï¼Œç¬¦å·ä½ä¸å˜ï¼Œå…¶ä½™å„ä½å–åç„¶å <code>+1</code> ï¼Œå³ï¼šåœ¨åç çš„åŸºç¡€ä¸Š <code>+1</code> ã€‚</li>\n<li><code>[+5] = [00000101](åŸç ) = [00000101](åç ) = [00000101](è¡¥ç )</code></li>\n<li><code>[-5] = [10000101](åŸç ) = [11111010](åç ) = [11111011](è¡¥ç )</code></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"6ï¸âƒ£-æ€»ç»“\"><a class=\"anchor\" href=\"#6ï¸âƒ£-æ€»ç»“\">#</a> 6ï¸âƒ£ æ€»ç»“</h2>\n<blockquote>\n<p>è®¡ç®—æœºä¸­çš„ç¬¦å·æ•°æœ‰ä¸‰ç§è¡¨ç¤ºæ–¹æ³•ï¼Œå³ï¼š <code>åŸç </code> ã€ <code>åç </code> ã€ <code>è¡¥ç </code> ï¼Œä¸‰ç§è¡¨ç¤ºæ–¹æ³•å‡æœ‰ç¬¦å·ä½å’Œæ•°å€¼ä½ä¸¤éƒ¨åˆ†ï¼Œç¬¦å·ä½éƒ½æ˜¯ç”¨ <code>0</code>  è¡¨ç¤ºä¸º <code>æ­£æ•°</code> ï¼Œç”¨ <code>1</code>  è¡¨ç¤ºä¸º <code>è´Ÿæ•°</code> ï¼Œè€Œæ•°å€¼ä½ä¸‰ç§è¡¨ç¤ºæ–¹æ³•å„ä¸ç›¸åŒï¼Œè€Œåœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œæ•°å€¼ä¸€å¾‹ä½¿ç”¨è¡¥ç æ¥è¡¨ç¤ºå’Œå­˜å‚¨ã€‚</p>\n</blockquote>\n<h1 id=\"ä½è¿ç®—\"><a class=\"anchor\" href=\"#ä½è¿ç®—\">#</a> ä½è¿ç®—</h1>\n<blockquote>\n<p>ä½ç§»æ“ä½œï¼šåªé’ˆå¯¹ <code>int</code>  ç±»å‹çš„æ•°æ®æœ‰æ•ˆï¼Œåœ¨ <code>Java</code>  ä¸­ä¸€ä¸ª <code>int</code>  çš„é•¿åº¦å§‹ç»ˆæ˜¯ <code>32</code>  ä½ï¼Œä¹Ÿå°±æ˜¯ <code>4</code>  ä¸ªå­—èŠ‚ï¼Œå®ƒæ“ä½œçš„éƒ½æ˜¯è¯¥æ•´æ•°çš„äºŒè¿›åˆ¶æ•°ï¼Œä¹Ÿå¯ä½œç”¨äºä»¥ä¸‹ç±»å‹å³ï¼š <code>byte</code> ã€ <code>short</code> ã€ <code>char</code> ã€ <code>long</code>  å®ƒä»¬éƒ½æ˜¯æ•´æ•°å½¢å¼ï¼Œå½“ä¸ºè¿™å››ç§ç±»å‹æ—¶ <code>JVM</code>  å…ˆæŠŠå®ƒä»¬è½¬æ¢ä¸º <code>int</code>  ç±»å‹å†è¿›è¡Œæ“ä½œã€‚</p>\n</blockquote>\n<div class=\"note danger no-icon\">\n<p>æ³¨æ„ï¼šåœ¨ <code>Java</code>  ä¸­æ²¡æœ‰ <code>&lt;&lt;&lt;</code>  ç¬¦å·</p>\n</div>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">ç¬¦å·</th>\n<th style=\"text-align:center\">æè¿°</th>\n<th style=\"text-align:center\">è¿ç®—è§„åˆ™</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">&amp;</td>\n<td style=\"text-align:center\">ä¸</td>\n<td style=\"text-align:center\">ä¸¤ä¸ªä½éƒ½ä¸º 1 æ—¶ï¼Œç»“æœæ‰ä¸º 1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">|</td>\n<td style=\"text-align:center\">æˆ–</td>\n<td style=\"text-align:center\">ä¸¤ä¸ªä½éƒ½ä¸º 0 æ—¶ï¼Œç»“æœæ‰ä¸º 0</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">^</td>\n<td style=\"text-align:center\">å¼‚æˆ–</td>\n<td style=\"text-align:center\">ä¸¤ä¸ªä½ç›¸åŒä¸º 0ï¼Œä¸åŒä¸º 1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">~</td>\n<td style=\"text-align:center\">å–å</td>\n<td style=\"text-align:center\">æ‰€æœ‰ä½ç½® 0 å˜ 1ï¼Œ1 å˜ 0</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&lt;&lt;</td>\n<td style=\"text-align:center\">å·¦ç§»</td>\n<td style=\"text-align:center\">å„äºŒè¿›ä½å…¨éƒ¨å·¦ç§»è‹¥å¹²ä½ï¼Œé«˜ä½ä¸¢å¼ƒï¼Œä½ä½è¡¥ 0</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&gt;&gt;</td>\n<td style=\"text-align:center\">å¸¦ç¬¦å·å³ç§»</td>\n<td style=\"text-align:center\">å„äºŒè¿›ä½å…¨éƒ¨å³ç§»è‹¥å¹²ä½ï¼Œä½ä½ä¸¢å¼ƒï¼Œé«˜ä½è¡¥ä¸ºç¬¦å·ä½</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&gt;&gt;&gt;</td>\n<td style=\"text-align:center\">æ— ç¬¦å·å³ç§»</td>\n<td style=\"text-align:center\">å„äºŒè¿›ä½å…¨éƒ¨å³ç§»è‹¥å¹²ä½ï¼Œä½ä½ä¸¢å¼ƒï¼Œé«˜ä½è¡¥ 0</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">&amp;&amp;</td>\n<td style=\"text-align:center\">é€»è¾‘ä¸</td>\n<td style=\"text-align:center\">å·¦å³è¡¨è¾¾å¼å‡ä¸º true æ—¶ï¼Œè¿ç®—æœ€ç»ˆç»“æœæ‰ä¸º true</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">||</td>\n<td style=\"text-align:center\">é€»è¾‘é</td>\n<td style=\"text-align:center\">å·¦å³è¡¨è¾¾å¼åªè¦æœ‰ä¸€ä¸ªä¸º trueï¼Œè¿ç®—æœ€ç»ˆç»“æœå°±ä¸º true</td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>BinaryUtils.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: æ‰“å° Java ä¸­ int æ•´å‹çš„åœ¨åº•å±‚çš„ 32 ä½ä¿¡æ¯</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-14 22:49</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BinaryUtils</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> num<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">31</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>num <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"0\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"1ï¸âƒ£-å·¦ç§»\"><a class=\"anchor\" href=\"#1ï¸âƒ£-å·¦ç§»\">#</a> 1ï¸âƒ£ å·¦ç§» (&lt;&lt;)</h2>\n<ul>\n<li><code>m &lt;&lt; n</code>  çš„å«ä¹‰æ˜¯æŠŠæ•´æ•° <code>m</code>  è¡¨ç¤ºçš„äºŒè¿›åˆ¶æ•°å·¦ç§» <code>n</code>  ä½ï¼Œé«˜ä½ç§»å‡º <code>n</code>  ä½éƒ½èˆå¼ƒï¼Œä½ä½è¡¥ <code>0</code>  (æ­¤æ—¶å°†ä¼šå‡ºç°æ­£æ•°å˜æˆè´Ÿæ•°çš„å¯èƒ½)ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š\n<ul>\n<li><code>5 &lt;&lt; 2</code> ï¼šæŠŠåè¿›åˆ¶çš„æ•°å€¼ <code>5</code>  å·¦ç§»ä¸¤ä½ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è®¡ç®—ã€‚\n<ul>\n<li>æŠŠ <code>5</code>  è½¬ä¸º <code>16</code>  ä½çš„äºŒè¿›åˆ¶æœºå™¨ç ï¼š <code>00000000 00000000 00000000 00000101</code></li>\n<li>æŒ‰å·¦ç§»åŸç†ï¼Œå°†äºŒè¿›åˆ¶æ•°å·¦ç§»ä¸¤ä½ï¼š <code>00000000 00000000 00000000 00010100</code></li>\n<li>å·¦ç§»åçš„ç»“æœä¸º <code>20</code></li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>         æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            00000000000000000000000000000101</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            00000000000000000000000000010100</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            00000000000000000000000000010100</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            æ•´ä½“å·¦ç§» 2 ä½ï¼Œé«˜ä½ä¸¢å¼ƒï¼Œä½ä½è¡¥ 0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n<li><code>5 &lt;&lt; 29</code> ï¼šæŠŠåè¿›åˆ¶çš„æ•°å€¼ <code>5</code>  å·¦ç§» <code>29</code>  ä½ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è®¡ç®—ã€‚\n<ul>\n<li>æŠŠ <code>5</code>  è½¬ä¸º <code>16</code>  ä½çš„äºŒè¿›åˆ¶æœºå™¨ç ï¼š <code>00000000 00000000 00000000 0000101</code></li>\n<li>æŒ‰å·¦ç§»åŸç†ï¼Œå°†äºŒè¿›åˆ¶æ•°å·¦ç§» <code>29</code>  ä½ï¼š <code>10100000 00000000 00000000 00000000</code></li>\n<li>å·¦ç§»åé«˜ä½æ˜¯ <code>1</code> ï¼Œç»“æœæ˜¾ç„¶æ˜¯è´Ÿæ•°</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>æ€»ç»“ï¼š <code>m &lt;&lt; n</code>  å³åœ¨æ•°å­—æ²¡æœ‰æº¢å‡ºçš„å‰æä¸‹ï¼Œå¯¹äºæ­£æ•°å’Œè´Ÿæ•°ï¼Œå·¦ç§» <code>n</code>  ä½éƒ½ç›¸å½“äº <code>m</code>  ä¹˜ä»¥ <code>2</code>  çš„ <code>n</code>  æ¬¡æ–¹ã€‚</li>\n</ul>\n<h2 id=\"2ï¸âƒ£-å³ç§»\"><a class=\"anchor\" href=\"#2ï¸âƒ£-å³ç§»\">#</a> 2ï¸âƒ£ å³ç§» (&gt;&gt;)</h2>\n<ul>\n<li><code>m &gt;&gt; n</code>  çš„å«ä¹‰æ˜¯æŠŠæ•´æ•° <code>m</code>  è¡¨ç¤ºçš„äºŒè¿›åˆ¶æ•°å³ç§» <code>n</code>  ä½ï¼Œ <code>m</code>  ä¸ºæ­£æ•°ï¼Œé«˜ä½å…¨éƒ¨è¡¥ <code>0</code> ï¼Œ <code>m</code>  ä¸ºè´Ÿæ•°ï¼Œé«˜ä½å…¨éƒ¨è¡¥ <code>1</code> ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š\n<ul>\n<li><code>5 &gt;&gt; 2</code> ï¼šæŠŠåè¿›åˆ¶çš„æ•°å€¼ <code>5</code>  å³ç§»ä¸¤ä½ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è®¡ç®—\n<ul>\n<li>æŠŠ <code>5</code>  è½¬ä¸º <code>16</code>  ä½çš„äºŒè¿›åˆ¶æœºå™¨ç ï¼š <code>00000000 00000000 00000000 00000101</code></li>\n<li>æŒ‰å³ç§»åŸç†ï¼Œå°†äºŒè¿›åˆ¶æ•°å·¦ç§»ä¸¤ä½ï¼š <code>00000000 00000000 00000000 00000001</code></li>\n<li>å³ç§»åçš„ç»“æœä¸º <code>1</code></li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span> <span class=\"token operator\">>></span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">// å°†äºŒè¿›åˆ¶è½¬ä¸ºåè¿›åˆ¶  </span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">int</span> res <span class=\"token operator\">=</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"00000000000000000000000000000001\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç»“æœï¼š\"</span> <span class=\"token operator\">+</span> res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>         æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            00000000000000000000000000000001</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            ç»“æœï¼š1</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n<li><code>-5 &gt;&gt; 2</code> ï¼šæŠŠåè¿›åˆ¶çš„æ•°å€¼ <code>-5</code>  å³ç§»ä¸¤ä½ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è®¡ç®—\n<ul>\n<li>æŠŠ <code>-5</code>  è½¬ä¸º <code>16</code>  ä½çš„äºŒè¿›åˆ¶æœºå™¨ç ï¼š <code>11111111 11111111 11111111 11111011</code></li>\n<li>æŒ‰å³ç§»åŸç†ï¼Œå°†äºŒè¿›åˆ¶æ•°å³ç§»ä¸¤ä½ï¼š <code>11111111 1111111 11111111 11111110</code></li>\n<li>å³ç§»åç»“æœä¸º <code>-2</code></li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span> <span class=\"token operator\">>></span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>         æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>              11111111111111111111111111111011</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>              11111111111111111111111111111110</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>              11111111111111111111111111111110</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>æ€»ç»“ï¼š <code>m &gt;&gt; n</code>  å³ç›¸å½“äº <code>m</code>  é™¤ä»¥ <code>2</code>  çš„ <code>n</code>  æ¬¡æ–¹ï¼Œå¾—åˆ°çš„ä¸ºæ•´æ•°æ—¶ï¼Œå³ä¸ºç»“æœï¼Œå¦‚æœç»“æœä¸ºå°æ•°ï¼Œæ­¤æ—¶ä¼šå‡ºç°ä¸¤ç§æƒ…å†µï¼š\n<ul>\n<li>å¦‚æœ <code>m</code>  ä¸ºæ­£æ•°ï¼Œå¾—åˆ°çš„å•†ä¼šæ— æ¡ä»¶çš„èˆå¼ƒå°æ•°ä½ã€‚</li>\n<li>å¦‚æœ <code>m</code>  ä¸ºè´Ÿæ•°ï¼Œèˆå¼ƒå°æ•°éƒ¨åˆ†ç„¶åæŠŠæ•´æ•°éƒ¨åˆ† <code>+1</code>  å¾—åˆ°ä½ç§»åçš„å€¼ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"3ï¸âƒ£-æ— ç¬¦å·å³ç§»\"><a class=\"anchor\" href=\"#3ï¸âƒ£-æ— ç¬¦å·å³ç§»\">#</a> 3ï¸âƒ£ æ— ç¬¦å·å³ç§» (&gt;&gt;&gt;)</h2>\n<ul>\n<li><code>m &gt;&gt;&gt; n</code> ï¼šæ•´æ•° <code>m</code>  è¡¨ç¤ºçš„äºŒè¿›åˆ¶å³ç§» <code>n</code>  ä½ï¼Œä¸è®ºæ­£è´Ÿæ•°ï¼Œé«˜ä½éƒ½è¡¥ <code>0</code> ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š\n<ul>\n<li><code>5 &gt;&gt;&gt; 2</code> ï¼šæŠŠåè¿›åˆ¶çš„æ•°å€¼ <code>5</code>  å³ç§»ä¸¤ä½ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è®¡ç®—\n<ul>\n<li>æŠŠ <code>5</code>  è½¬ä¸º <code>16</code>  ä½çš„äºŒè¿›åˆ¶æœºå™¨ç ï¼š <code>00000000 00000000 00000000 00000101</code></li>\n<li>æŒ‰å³ç§»åŸç†ï¼Œå°†äºŒè¿›åˆ¶æ•°å·¦ç§»ä¸¤ä½ï¼š <code>00000000 00000000 00000000 00000001</code></li>\n<li>å³ç§»åç»“æœä¸º <code>1</code></li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span> <span class=\"token operator\">>>></span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>         æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            00000000000000000000000000000101</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            00000000000000000000000000000001</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            00000000000000000000000000000001</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n<li><code>-5 &gt;&gt;&gt; 2</code> ï¼šæŠŠåè¿›åˆ¶çš„æ•°å€¼ <code>-5</code>  å³ç§»ä¸¤ä½ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è®¡ç®—\n<ul>\n<li>æŠŠ <code>-5</code>  è½¬ä¸º <code>16</code>  ä½çš„äºŒè¿›åˆ¶æœºå™¨ç ï¼š <code>11111111 11111111 11111111 11111011</code></li>\n<li>æŒ‰å³ç§»åŸç†ï¼Œå°†äºŒè¿›åˆ¶æ•°å³ç§»ä¸¤ä½ï¼š <code>00111111 11111111 11111111 11111110</code></li>\n<li>å³ç§»åç»“æœä¸ºæ­£æ•°ï¼š <code>1073741822</code></li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span> <span class=\"token operator\">>>></span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">// å°†äºŒè¿›åˆ¶è½¬ä¸ºåè¿›åˆ¶</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">int</span> res <span class=\"token operator\">=</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"00111111111111111111111111111110\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç»“æœï¼š\"</span> <span class=\"token operator\">+</span> res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>         æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            11111111111111111111111111111011</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            00111111111111111111111111111110</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            ç»“æœï¼š1073741822</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"4ï¸âƒ£-æŒ‰ä½éæ“ä½œ~\"><a class=\"anchor\" href=\"#4ï¸âƒ£-æŒ‰ä½éæ“ä½œ~\">#</a> 4ï¸âƒ£ æŒ‰ä½éæ“ä½œ (~)</h2>\n<ul>\n<li><code>~</code>  æŒ‰ä½å–åæ“ä½œç¬¦ï¼Œå¯¹æ¯ä¸ªäºŒè¿›åˆ¶ä½çš„å†…å®¹æ±‚åï¼Œå³ï¼š <code>0</code>  å˜ä¸º <code>1</code> ï¼Œ <code>1</code>  å˜ä¸º <code>0</code> ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š\n<ul>\n<li>æŠŠ <code>-5</code>  è½¬ä¸º <code>16</code>  ä½çš„äºŒè¿›åˆ¶æœºå™¨ç ï¼š <code>11111111 11111111 11111111 11111011</code></li>\n<li><code>~(-5)</code>  å–åç»“æœï¼š <code>00000000 00000000 00000000 00000100</code></li>\n<li>è½¬ä¸ºåè¿›åˆ¶ç»“æœä¸º <code>4</code></li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">~</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">// å°†äºŒè¿›åˆ¶è½¬ä¸ºåè¿›åˆ¶</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">int</span> res <span class=\"token operator\">=</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"00000000000000000000000000000100\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç»“æœï¼š\"</span> <span class=\"token operator\">+</span> res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>         æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            11111111111111111111111111111011</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            00000000000000000000000000000100</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            ç»“æœï¼š4</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"5ï¸âƒ£-æŒ‰ä½ä¸æ“ä½œ\"><a class=\"anchor\" href=\"#5ï¸âƒ£-æŒ‰ä½ä¸æ“ä½œ\">#</a> 5ï¸âƒ£ æŒ‰ä½ä¸æ“ä½œ (&amp;)</h2>\n<ul>\n<li><code>&amp;</code>  ä½ä¸æ“ä½œï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶ä½è¿›è¡Œè¿›è¡Œä¸æ“ä½œï¼Œä¸¤ä¸ªéƒ½ä¸º <code>1</code>  æ‰ä¸º <code>1</code> ï¼Œå…¶å®ƒæƒ…å†µå‡ä¸º <code>0</code> ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š\n<ul>\n<li><code>1 &amp; 0 = 0</code>   <code>0 &amp; 0 = 0</code></li>\n<li><code>1 &amp; 1 = 1</code>   <code>0 &amp; 1 = 0</code></li>\n</ul>\n</li>\n<li>ç¤ºä¾‹ï¼š <code>-5 &amp; 4</code>\n<ul>\n<li><code>-5</code>  çš„äºŒè¿›åˆ¶ä¸ºï¼š <code>11111111 11111111 11111111 11111011</code></li>\n<li><code>4</code>  çš„äºŒè¿›åˆ¶ä¸ºï¼š <code>00000000 00000000 00000000 00000100</code></li>\n<li>é€»è¾‘ä¸è¿è¡Œç»“æœï¼š <code>00000000 00000000 00000000 00000000</code></li>\n<li>æœ€ç»ˆç»“æœä¸º <code>0</code></li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span> <span class=\"token operator\">&amp;</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>         æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            11111111111111111111111111111011</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            00000000000000000000000000000100</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            00000000000000000000000000000000</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"6ï¸âƒ£-æŒ‰ä½æˆ–æ“ä½œ\"><a class=\"anchor\" href=\"#6ï¸âƒ£-æŒ‰ä½æˆ–æ“ä½œ\">#</a> 6ï¸âƒ£ æŒ‰ä½æˆ–æ“ä½œ (|)</h2>\n<ul>\n<li><code>|</code>  ä½æˆ–æ“ä½œç¬¦ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶ä½è¿›è¡Œæˆ–æ“ä½œï¼Œä¸¤ä¸ªéƒ½ä¸º <code>0</code>  æ‰ä¸º <code>0</code> ï¼Œå…¶å®ƒæƒ…å†µå‡ä¸º <code>1</code> ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š\n<ul>\n<li><code>1 | 0 = 1</code>   <code>0 | 0 = 0</code></li>\n<li><code>1 | 1 = 1</code>   <code>0 | 1 = 1</code></li>\n</ul>\n</li>\n<li>ç¤ºä¾‹ï¼š <code>-5 | 4</code>\n<ul>\n<li><code>-5</code>  çš„äºŒè¿›åˆ¶ä¸ºï¼š <code>11111111 11111111 11111111 11111011</code></li>\n<li><code>4</code>  çš„äºŒè¿›åˆ¶ä¸ºï¼š <code>00000000 00000000 00000000 00000100</code></li>\n<li>é€»è¾‘æˆ–è¿ç®—ç»“æœï¼š <code>11111111 11111111 11111111 11111111</code></li>\n<li>æœ€ç»ˆç»“æœä¸º <code>-1</code></li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span> <span class=\"token operator\">|</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>         æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            11111111111111111111111111111011</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            00000000000000000000000000000100</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            11111111111111111111111111111111</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n<li>åˆ©ç”¨æˆ–çš„åŸç†æˆ‘ä»¬å¯ä»¥æŠŠå­—èŠ‚è½¬æ¢ä¸ºæ•´æ•°ï¼Œ <code>-64&amp;0xFF = 192</code>  å…¶ä¸­éƒ½ <code>0xFF</code>  è¡¨ç¤ºæ•´æ•° <code>255</code><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">64</span> <span class=\"token operator\">&amp;</span> <span class=\"token number\">0xFF</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xFF</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>         æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            192</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            255</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"7ï¸âƒ£-æŒ‰ä½å¼‚æˆ–æ“ä½œ\"><a class=\"anchor\" href=\"#7ï¸âƒ£-æŒ‰ä½å¼‚æˆ–æ“ä½œ\">#</a> 7ï¸âƒ£ æŒ‰ä½å¼‚æˆ–æ“ä½œ (^)</h2>\n<ul>\n<li><code>^</code>  å¼‚æˆ–æ“ä½œç¬¦ï¼Œç›¸åŒä½å€¼ä¸º <code>0</code>  å¦åˆ™ä¸º <code>1</code> ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š\n<ul>\n<li><code>1 ^ 1 = 0</code>   <code>1 ^ 0 = 1</code></li>\n<li><code>0 ^ 1 = 1</code>   <code>0 ^ 0 = 0</code></li>\n</ul>\n</li>\n<li>ç¤ºä¾‹ï¼š <code>-5 ^ 4</code>\n<ul>\n<li><code>-5</code>  çš„äºŒè¿›åˆ¶ä¸ºï¼š <code>11111111 11111111 11111111 11111011</code></li>\n<li><code>4</code>  çš„äºŒè¿›åˆ¶ä¸ºï¼š <code>00000000 00000000 00000000 00000100</code></li>\n<li>é€»è¾‘å¼‚æˆ–è¿ç®—ç»“æœï¼š <code>11111111 11111111 11111111 11111111</code></li>\n<li>æœ€ç»ˆç»“æœä¸º <code>-1</code></li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span> <span class=\"token operator\">^</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>         æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            11111111111111111111111111111011</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            00000000000000000000000000000100</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            11111111111111111111111111111111</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            11111111111111111111111111111111</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n<li>åˆ©ç”¨é€»è¾‘å¼‚æˆ–æ“ä½œæœ‰ä¸ªä½œç”¨å°±æ˜¯å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªæ•°å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå³ï¼šåˆ©ç”¨ <code>1 ^ 1 = 0</code>  æˆ– <code>0 ^ 0 = 0</code>  çš„åŸç†ï¼Œå¦‚ï¼š <code>5 ^ 5 == 0</code><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">^</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span> <span class=\"token operator\">^</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span> <span class=\"token operator\">^</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>         æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            0</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            0</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"8ï¸âƒ£-æ€»ç»“\"><a class=\"anchor\" href=\"#8ï¸âƒ£-æ€»ç»“\">#</a> 8ï¸âƒ£ æ€»ç»“</h2>\n<blockquote>\n<p>æœ‰äº†ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬å¯¹ <code>Java</code>  çš„ä½è¿ç®—æœ‰äº†æ¯”è¾ƒå…¨é¢çš„äº†è§£ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ç¨‹åºé€šè¿‡ä½è¿ç®—åˆæœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿå…¶å®é€šè¿‡ä½è¿ç®—ç¡®å®ä¼šæ¯”æˆ‘ä»¬ç›´æ¥çš„ä»£ç ç¨‹åºè¿ç®—ä¼šå¿«å¾ˆå¤šï¼Œå› ä¸ºä½è¿ç®—ç›´æ¥è¿ç®—çš„æ˜¯è®¡ç®—æœºåº•å±‚çš„äºŒè¿›åˆ¶æœºå™¨ç æ“ä½œæŒ‡ä»¤ï¼Œè€Œæˆ‘ä»¬çš„ä»£ç ç¨‹åºè¿ç®—æœ€ç»ˆä¹Ÿæ˜¯è¦è½¬æˆè®¡ç®—æœºå¯ä»¥è¯†åˆ«çš„äºŒè¿›åˆ¶æ“ä½œæŒ‡ä»¤æ‰èƒ½å®Œæˆï¼Œä½è¿ç®—å¯ä»¥ç†è§£ä¸ºçœå»äº†ä¸­é—´è½¬æ¢çš„æ“ä½œï¼Œå¤„ç†å™¨å¯ä»¥ç›´æ¥æ“ä½œã€‚æˆ‘ä»¬ä¼šåœ¨æŸäº›æºç ä¸­ç»å¸¸èƒ½çœ‹åˆ°ä½è¿ç®—çš„ä»£ç ï¼Œå…¶å®åŸç†æ˜¯ä¸€æ ·çš„ï¼Œå¤„ç†å™¨èƒ½å¤Ÿç›´æ¥æ”¯æŒå’Œå¤„ç†ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> SHARED_SHIFT   <span class=\"token operator\">=</span> <span class=\"token number\">16</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> SHARED_UNIT    <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> SHARED_SHIFT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> MAX_COUNT      <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> SHARED_SHIFT<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> EXCLUSIVE_MASK <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> SHARED_SHIFT<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure>",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaæ·±å…¥ç†è§£",
                "è®¡ç®—æœºç§‘å­¦",
                "Javaæ·±å…¥ç†è§£",
                "ä½è¿ç®—"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "title": "Javaæšä¸¾ç±»å‹æ·±å…¥ç†è§£",
            "date_published": "2023-12-05T12:51:00.000Z",
            "content_html": "<blockquote>\n<p>åœ¨ <code>Java 5</code>  ä¸­æ–°å¢äº†æšä¸¾ç±»å‹ï¼Œå®ƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç±»å‹ï¼Œä¹‹æ‰€ä»¥ç‰¹æ®Šæ˜¯å› ä¸ºå®ƒæ˜¯ä¸€ç§ <code>class</code>  ç±»å‹å´åˆæ¯” <code>class</code>  ç±»å‹å¤šäº†äº›ç‰¹æ®Šçš„çº¦æŸï¼Œä½†æ˜¯è¿™äº›çº¦æŸçš„å­˜åœ¨ä¹Ÿé€ å°±äº†æšä¸¾ç±»å‹çš„ç®€æ´æ€§ã€å®‰å…¨æ€§ä»¥åŠä¾¿æ·æ€§ã€‚<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRlZS5jb20vUmFpblNhdWNlL2phdmEtZW51bS1leGFtcGwtZGVtbw==\">ğŸš€æœ¬ç¯‡ç« ä»£ç  Demo</span></p>\n</blockquote>\n<h1 id=\"å®šä¹‰æšä¸¾\"><a class=\"anchor\" href=\"#å®šä¹‰æšä¸¾\">#</a> å®šä¹‰æšä¸¾</h1>\n<blockquote>\n<p>ä¸‹é¢è¿™æ˜¯åœ¨æ²¡æœ‰æšä¸¾ç±»å‹çš„æƒ…å†µä¸‹å®šä¹‰å¸¸é‡å¸¸è§çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>OrdinaryConstantDemo.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Description: æ™®é€šæ–¹å¼å®šä¹‰å¸¸é‡</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @DateTime: 2023-12-05 21:14</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OrdinaryConstantDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>     * æ˜ŸæœŸä¸€</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> MONDAY <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     * æ˜ŸæœŸäºŒ</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> TUESDAY <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     * æ˜ŸæœŸä¸‰</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> WEDNESDAY <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * æ˜ŸæœŸå››</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> THURSDAY <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>     * æ˜ŸæœŸäº”</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> FRIDAY <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>     * æ˜ŸæœŸå…­</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> SATURDAY <span class=\"token operator\">=</span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>     * æ˜ŸæœŸå¤©</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> SUNDAY <span class=\"token operator\">=</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ä¸Šè¿°ä¸­çš„å¸¸é‡å®šä¹‰çš„æ–¹å¼ç§°ä¸º <code>int</code>  æšä¸¾æ¨¡å¼ï¼Œè¿™ç§å®šä¹‰æ–¹æ³•å¹¶æ²¡æœ‰ä»€ä¹ˆé”™ï¼Œä½†å®ƒå­˜åœ¨è®¸å¤šä¸è¶³çš„åœ°æ–¹ï¼Œå¦‚ï¼šç±»å‹å®‰å…¨å’Œä½¿ç”¨æ–¹ä¾¿æ€§ä¸Šå¹¶æ²¡æœ‰å¤šå°‘å¥½å¤„ï¼Œå¦‚æœå­˜åœ¨å®šä¹‰ <code>int</code>  å€¼ç›¸åŒçš„å˜é‡ï¼Œæ··æ·†çš„å‡ ç‡è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œç¼–è¯‘å™¨å¹¶ä¸ä¼šåšå‡ºä»»ä½•è­¦å‘Šæç¤ºï¼Œå› æ­¤è¿™ç§æ–¹å¼åœ¨æšä¸¾å‡ºç°åå¹¶ä¸æå€¡ï¼Œç°åœ¨æˆ‘ä»¬åˆ©ç”¨æšä¸¾ç±»å‹æ¥é‡æ–°å®šä¹‰ä¸Šè¿°å¸¸é‡ï¼Œå®šä¹‰æ–¹å¼å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DayType.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * æšä¸¾å®šä¹‰ï¼Œæšä¸¾ç±»å‹ä½¿ç”¨ enum å…³é”®å­—</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">DayType</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     * æ˜ŸæœŸä¸€</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    MONDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     * æ˜ŸæœŸäºŒ</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    TUESDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     * æ˜ŸæœŸä¸‰</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    WEDNESDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     * æ˜ŸæœŸå››</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    THURSDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     * æ˜ŸæœŸäº”</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    FRIDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>     * æ˜ŸæœŸå…­</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    SATURDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     * æ˜ŸæœŸå¤©</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    SUNDAY</pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨å®šä¹‰æšä¸¾ç±»å‹æ—¶æˆ‘ä»¬ä½¿ç”¨çš„å…³é”®å­—æ˜¯ <code>enum</code>  ä¸ <code>class</code>  å…³é”®å­—ç±»ä¼¼ï¼Œæšä¸¾ç±»å‹ <code>DayType</code>  ä¸­åˆ†åˆ«å®šä¹‰äº†ä»å‘¨ä¸€åˆ°å‘¨æ—¥çš„å€¼ï¼Œæ³¨æ„ï¼š <code>å€¼</code> ä¸€èˆ¬æ˜¯å¤§å†™å­—æ¯ï¼Œå¤šä¸ªå€¼ä¹‹é—´ä½¿ç”¨é€—å·åˆ†éš”ï¼ŒåŒæ—¶æˆ‘ä»¬åº”è¯¥çŸ¥é“çš„æ˜¯æšä¸¾ç±»å‹å¯ä»¥åƒ <code>class</code>  ç±»å‹ä¸€æ ·ï¼Œå®šä¹‰ä¸ºä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å®šä¹‰åœ¨å…¶å®ƒç±»å†…éƒ¨ï¼Œæ›´é‡è¦çš„æ˜¯æšä¸¾å¸¸é‡åœ¨ç±»å‹å®‰å…¨æ€§å’Œä¾¿æ·æ€§éƒ½æœ‰ä¿è¯ï¼Œå¦‚æœç±»å‹å‡ºç°é—®é¢˜ç¼–è¯‘å™¨ä¼šæç¤ºè­¦å‘Šä¿¡æ¯ï¼Œè¯·åŠ¡å¿…è®°ä½æšä¸¾ç±»å‹è¡¨ç¤ºçš„ç±»å‹å…¶å–å€¼æ˜¯æœ‰é™çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªå€¼éƒ½æ˜¯å¯ä»¥æšä¸¾å‡ºæ¥çš„ï¼Œå¦‚ä½•ä½¿ç”¨æšä¸¾æè¿°ä¸Šè¿°çš„ä¸€å‘¨å‘¢ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DayTypeTest.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: DayType æµ‹è¯•</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-05 21:54</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DayTypeTest</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">// å¼•ç”¨å†…éƒ¨æšä¸¾ï¼Œåœ¨ cmd ä¸­ä½¿ç”¨ javac ç¼–è¯‘æˆ class æ–‡ä»¶æ—¶ä¸å¯å¼•ç”¨å¤–éƒ¨æšä¸¾ä¼šæ˜¾ç¤ºé”™è¯¯ï¼šæ‰¾ä¸åˆ°ç¬¦åˆé”™è¯¯</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">//        InternalDayType monday = InternalDayType.MONDAY;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">// åˆ›å»ºæšä¸¾æ•°ç»„</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> days <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>MONDAY<span class=\"token punctuation\">,</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>TUESDAY<span class=\"token punctuation\">,</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>WEDNESDAY<span class=\"token punctuation\">,</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>THURSDAY<span class=\"token punctuation\">,</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>FRIDAY<span class=\"token punctuation\">,</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>SATURDAY<span class=\"token punctuation\">,</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>SUNDAY<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> days<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"day[\"</span> <span class=\"token operator\">+</span> i <span class=\"token operator\">+</span> <span class=\"token string\">\"].ordinal():\"</span> <span class=\"token operator\">+</span> days<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">// é€šè¿‡ compareTo æ–¹æ³•æ¯”è¾ƒï¼Œå®é™…ä¸Šå…¶å†…éƒ¨æ˜¯é€šè¿‡ ordinal () å€¼æ¯”è¾ƒçš„</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[0].compareTo(days[1]):\"</span> <span class=\"token operator\">+</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">compareTo</span><span class=\"token punctuation\">(</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[0].compareTo(days[1]):\"</span> <span class=\"token operator\">+</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">compareTo</span><span class=\"token punctuation\">(</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token comment\">// è·å–è¯¥æšä¸¾å¯¹è±¡çš„ Class å¯¹è±¡å¼•ç”¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡ getClass æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"clazz:\"</span> <span class=\"token operator\">+</span> clazz<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token comment\">//name()</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[0].name():\"</span> <span class=\"token operator\">+</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[1].name():\"</span> <span class=\"token operator\">+</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[2].name():\"</span> <span class=\"token operator\">+</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[3].name():\"</span> <span class=\"token operator\">+</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[0].toString():\"</span> <span class=\"token operator\">+</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[1].toString():\"</span> <span class=\"token operator\">+</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[2].toString():\"</span> <span class=\"token operator\">+</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[3].toString():\"</span> <span class=\"token operator\">+</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token class-name\">InternalDayType</span> d <span class=\"token operator\">=</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token class-name\">InternalDayType</span> d2 <span class=\"token operator\">=</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"d:\"</span> <span class=\"token operator\">+</span> d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"d2:\"</span> <span class=\"token operator\">+</span> d2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        day [0].ordinal ():0</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        day [1].ordinal ():1</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        day [2].ordinal ():2</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        day [3].ordinal ():3</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        day [4].ordinal ():4</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        day [5].ordinal ():5</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        day [6].ordinal ():6</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        -------------------------------------</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        days [0].compareTo (days [1]):-1</pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        days [0].compareTo (days [1]):-2</pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        clazz:class top.rem.rain.InternalDayType</pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        -------------------------------------</pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        days [0].name ():MONDAY</pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        days [1].name ():TUESDAY</pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        days [2].name ():WEDNESDAY</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        days [3].name ():THURSDAY</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        -------------------------------------</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        days [0].toString ():MONDAY</pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        days [1].toString ():TUESDAY</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        days [2].toString ():WEDNESDAY</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        days [3].toString ():THURSDAY</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        -------------------------------------</pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        d:MONDAY</pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        d2:MONDAY</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"82\"></td><td><pre>   * æ­¤å¤„ä½¿ç”¨å†…éƒ¨æ–¹å¼å®šä¹‰å¹¶ä½¿ç”¨ javac æ¥å˜æˆæˆ class æ–‡ä»¶</pre></td></tr><tr><td data-num=\"83\"></td><td><pre>   * ä½¿ç”¨å¤–éƒ¨ç±»ä¼šæ˜¾ç¤ºæ‰¾ä¸åˆ°æ–‡ä»¶</pre></td></tr><tr><td data-num=\"84\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">InternalDayType</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"87\"></td><td><pre>     * æ˜ŸæœŸä¸€</pre></td></tr><tr><td data-num=\"88\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    MONDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"91\"></td><td><pre>     * æ˜ŸæœŸäºŒ</pre></td></tr><tr><td data-num=\"92\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>    TUESDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"95\"></td><td><pre>     * æ˜ŸæœŸä¸‰</pre></td></tr><tr><td data-num=\"96\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>    WEDNESDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"99\"></td><td><pre>     * æ˜ŸæœŸå››</pre></td></tr><tr><td data-num=\"100\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>    THURSDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"103\"></td><td><pre>     * æ˜ŸæœŸäº”</pre></td></tr><tr><td data-num=\"104\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>    FRIDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"107\"></td><td><pre>     * æ˜ŸæœŸå…­</pre></td></tr><tr><td data-num=\"108\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>    SATURDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"111\"></td><td><pre>     * æ˜ŸæœŸå¤©</pre></td></tr><tr><td data-num=\"112\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>    SUNDAY</pre></td></tr><tr><td data-num=\"114\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre></pre></td></tr><tr><td data-num=\"116\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ç›´æ¥å¼•ç”¨æšä¸¾çš„å€¼å³å¯ï¼Œè¿™ä¾¿æ˜¯æšä¸¾ç±»å‹çš„æœ€ç®€å•çš„æ¨¡å‹ã€‚</p>\n</blockquote>\n<h1 id=\"æšä¸¾å®ç°åŸç†\"><a class=\"anchor\" href=\"#æšä¸¾å®ç°åŸç†\">#</a> æšä¸¾å®ç°åŸç†</h1>\n<ul>\n<li>æˆ‘ä»¬äº†è§£äº†æšä¸¾ç±»å‹çš„å®šä¹‰ä¸ç®€å•ä½¿ç”¨åï¼Œç°åœ¨æœ‰å¿…è¦æ¥äº†è§£ä¸€ä¸‹æšä¸¾ç±»å‹çš„åŸºæœ¬å®ç°åŸç†ã€‚</li>\n<li>åœ¨ä½¿ç”¨å…³é”®å­— <code>enum</code>  åˆ›å»ºæšä¸¾ç±»å‹å¹¶ç¼–è¯‘åï¼Œç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªç›¸å…³çš„ç±»ã€‚</li>\n<li>è¿™ä¸ªç±»ç»§æ‰¿äº† <code>Java API</code>  ä¸­çš„ <code>java.lang.Enum</code>  ç±»ï¼Œé€šè¿‡å…³é”®å­— <code>enum</code>  åˆ›å»ºæšä¸¾ç±»å‹åœ¨ç¼–è¯‘åäº‹å®ä¸Šå°±æ˜¯ä¸€ä¸ªç±»ç±»å‹ã€‚</li>\n</ul>\n<div class=\"note danger no-icon\">\n<p>ä½¿ç”¨ <code>cmd</code>  é¦–å…ˆ cd åˆ°å­˜æ”¾ <code>.java</code>  æ–‡ä»¶çš„ç›®å½•ä¸‹åä½¿ç”¨å‘½ä»¤ï¼Œä½¿ç”¨ <code>javac</code>  å‘½ä»¤åœ¨ <code>cmd</code>  çª—å£ä¸­ç¼–è¯‘ <code>DayTypeTest.java</code>  æ–‡ä»¶</p>\n</div>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>å‘½ä»¤è¡Œæç¤ºç¬¦</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[root@localhost] $\"></td><td><pre>javac DayTypeTest.java -encoding UTF-8</pre></td></tr></table></figure><div class=\"note danger no-icon\">\n<p>åˆ©ç”¨ <code>javac</code>  å°†å‰é¢çš„ <code>DayTypeTest.java</code>  æ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘åä¼šåœ¨å½“å‰ç›®å½•ä¸‹å‡ºç°ç”Ÿæˆçš„ä¸¤ä¸ªæ–‡ä»¶ä¸€ä¸ªæ˜¯ <code>DayTypeTest.class</code>  å¦ä¸€ä¸ªåˆ™æ˜¯å®ƒçš„æšä¸¾ç±»å‹ <code>InternalDayType.class</code> ï¼Œä¹Ÿå°±éªŒè¯å‰é¢è¯´çš„ä½¿ç”¨å…³é”®å­— <code>enum</code>  å®šä¹‰æšä¸¾ç±»å‹å¹¶ç¼–è¯‘åï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªä¸æšä¸¾ç›¸å…³çš„ç±»ï¼Œåç¼–è¯‘æ–‡ä»¶å¦‚ä¸‹ï¼š</p>\n</div>\n<ul>\n<li>IntelliJ IDEA æ— æ³•åç¼–è¯‘å‡ºä»¥ä¸‹æ•ˆæœã€‚</li>\n<li>å·¥å…·ä½¿ç”¨  <code>cfr-0.152.jar</code> ï¼Œä¸‹è½½åœ°å€ <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmVuZi5vcmcvb3RoZXIvY2ZyLw==\">https://www.benf.org/other/cfr/</span>ã€‚</li>\n<li><code>cmd</code>  çª—å£ä¸­ä½¿ç”¨çš„å‘½ä»¤ï¼š<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>å‘½ä»¤è¡Œæç¤ºç¬¦</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[root@localhost] $\"></td><td><pre>java -jar cfr-0.152.jar --sugarenums <span class=\"token boolean\">false</span> -outputpath è¯·å°†æ­¤å¤„æ›¿æ¢ä¸ºåç¼–è¯‘åçš„å‚¨å­˜è·¯å¾„ InternalDayType.class</pre></td></tr></table></figure></li>\n<li><code>--sugarenums false</code>  ä»£è¡¨å°†ä½¿ç”¨ <code>CFR 0_6</code>  åç¼–è¯‘ï¼Œè¯¦ç»†ä»‹ç»è¯·çœ‹æ­¤å¤„<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmVuZi5vcmcvb3RoZXIvY2ZyL2hvdy1hcmUtZW51bXMtaW1wbGVtZW50ZWQuaHRtbA==\"> Java 1.5 æšä¸¾æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</span>ã€‚</li>\n<li><code>-outputpath</code>  ä»£è¡¨è¦ä¿å­˜åç¼–è¯‘åçš„æ–‡ä»¶å‚¨å­˜è·¯å¾„ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>InternalDayType.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmVuZi5vcmcvb3RoZXIvY2ZyLw==\">åç¼–è¯‘å·¥å…·ä¸‹è½½</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * IntelliJ IDEA æ— æ³•åç¼–è¯‘å‡ºæ­¤æ•ˆæœ</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * å·¥å…·ä½¿ç”¨ cfr-0.152.jar</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * å·¥å…·ä¸‹è½½åœ°å€ https://www.benf.org/other/cfr/</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * cmd çª—å£ä¸­ä½¿ç”¨çš„å‘½ä»¤ java -jar cfr-0.152.jar --sugarenums false -outputpath D:\\ InternalDayType.class</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * åç¼–è¯‘å‡ºå¦‚ä¸‹æ•ˆæœè¯·æ·»åŠ  --sugarenums false è¯­æ³•</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * -outputpath ä»£è¡¨è¦ä¿å­˜åç¼–è¯‘åçš„æ–‡ä»¶å‚¨å­˜è·¯å¾„</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * Decompiled with CFR 0.152.</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">// åç¼–è¯‘ InternalDayType.class</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">InternalDayType</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">// å‰é¢å’±ä»¬è‡ªå·±å®šä¹‰çš„ 7 ç§æšä¸¾å®ä¾‹ï¼Œå¹¶å®ä¾‹åŒ–æšä¸¾</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token comment\">/* enum */</span> <span class=\"token class-name\">InternalDayType</span> MONDAY <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MONDAY\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token comment\">/* enum */</span> <span class=\"token class-name\">InternalDayType</span> TUESDAY <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"TUESDAY\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token comment\">/* enum */</span> <span class=\"token class-name\">InternalDayType</span> WEDNESDAY <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"WEDNESDAY\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token comment\">/* enum */</span> <span class=\"token class-name\">InternalDayType</span> THURSDAY <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"THURSDAY\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token comment\">/* enum */</span> <span class=\"token class-name\">InternalDayType</span> FRIDAY <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"FRIDAY\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token comment\">/* enum */</span> <span class=\"token class-name\">InternalDayType</span> SATURDAY <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SATURDAY\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token comment\">/* enum */</span> <span class=\"token class-name\">InternalDayType</span> SUNDAY <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SUNDAY\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token comment\">/* synthetic */</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> $VALUES<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token comment\">// ç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬æ·»åŠ çš„é™æ€ values () æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>$VALUES<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token comment\">// ç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬æ·»åŠ çš„é™æ€ valuesOf () æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token comment\">// æ³¨æ„è¿”å›æ—¶è°ƒç”¨äº† Enum ç±»çš„ valueOf () æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">InternalDayType</span> <span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> string<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> string<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token comment\">// ç§æœ‰æ„é€ å‡½æ•°</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> string<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>string<span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token comment\">// å°†å®ä¾‹åŒ–åçš„æšä¸¾æ·»åŠ åˆ°äº†é™æ€å—ä¸­ï¼Œä¹Ÿå°±æ˜¯é™æ€å¸¸é‡æ± ä¸­</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        $VALUES <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>MONDAY<span class=\"token punctuation\">,</span> TUESDAY<span class=\"token punctuation\">,</span> WEDNESDAY<span class=\"token punctuation\">,</span> THURSDAY<span class=\"token punctuation\">,</span> FRIDAY<span class=\"token punctuation\">,</span> SATURDAY<span class=\"token punctuation\">,</span> SUNDAY<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>ä»ä¸Šé¢åç¼–è¯‘çš„ä»£ç å¯ä»¥çœ‹å‡ºç¼–è¯‘å™¨ç¡®å®å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ª <code>InternalDayType</code>  ç±» (æ³¨æ„ï¼šè¯¥ç±»å‹æ˜¯ <code>final</code>  ç±»å‹çš„ï¼Œå°†æ— æ³•è¢«ç»§æ‰¿) è€Œä¸”è¯¥ç±»ç»§æ‰¿è‡ª <code>java.lang.Enum</code>  ç±»ï¼Œè¯¥ç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ã€‚</li>\n<li>ç¼–è¯‘å™¨è¿˜å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆäº† <code>7</code>  ä¸ª <code>InternalDayType</code>  ç±»å‹çš„å®ä¾‹å¯¹è±¡åˆ†åˆ«å¯¹åº”æšä¸¾ä¸­å®šä¹‰çš„ <code>7</code>  ä¸ªæ—¥æœŸï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨å…³é”®å­— <code>enum</code>  å®šä¹‰çš„ <code>InternalDayType</code>  ç±»å‹ä¸­çš„æ¯ç§æ—¥æœŸæšä¸¾å¸¸é‡ä¹Ÿæ˜¯å®å®åœ¨åœ¨çš„ <code>InternalDayType</code>  å®ä¾‹å¯¹è±¡ï¼Œåªä¸è¿‡ä»£è¡¨çš„å†…å®¹ä¸ä¸€æ ·ã€‚</li>\n<li>æ³¨æ„ï¼šç¼–è¯‘å™¨è¿˜ä¸ºæˆ‘ä»¬ç”Ÿæˆäº†ä¸¤ä¸ªé™æ€æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ <code>values()</code>  å’Œ <code>valuesOf()</code> ï¼Œç¨ååˆ†æå®ƒä»¬çš„ç”¨æ³•ï¼Œä½¿ç”¨å…³é”®å­— <code>enum</code>  å®šä¹‰çš„æšä¸¾ç±»å‹ï¼Œåœ¨ç¼–è¯‘åä¹Ÿå°†è½¬æ¢ä¸ºä¸€ä¸ªå®å®åœ¨åœ¨çš„ç±»ï¼Œè€Œåœ¨è¯¥ç±»ä¸­ä¼šå­˜åœ¨æ¯ä¸ªåœ¨æšä¸¾ç±»å‹ä¸­å®šä¹‰å¥½å˜é‡çš„å¯¹åº”å®ä¾‹å¯¹è±¡ã€‚</li>\n<li>å¦‚ä¸Šè¿° <code>MONDAY</code>  æšä¸¾ç±»å‹å¯¹åº” <code>public static final InternalDayType MONDAY = new InternalDayType(&quot;MONDAY&quot;, 0);</code> ï¼ŒåŒæ—¶ç¼–è¯‘å™¨ä¼šä¸ºè¯¥ç±»åˆ›å»ºä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ <code>values()</code>  å’Œ <code>valueOf()</code> ã€‚</li>\n</ul>\n<blockquote>\n<p>ä¸‹é¢æˆ‘ä»¬æ·±å…¥æ¥æ¢ç©¶ä¸€ä¸‹ <code>java.lang.Enum</code>  ç±»ä»¥åŠ <code>values()</code>  å’Œ <code>valueOf()</code>  æ–¹æ³•çš„ç”¨é€”ã€‚</p>\n</blockquote>\n<h1 id=\"æšä¸¾å¸¸è§æ–¹æ³•\"><a class=\"anchor\" href=\"#æšä¸¾å¸¸è§æ–¹æ³•\">#</a> æšä¸¾å¸¸è§æ–¹æ³•</h1>\n<h2 id=\"enumæŠ½è±¡ç±»å¸¸è§æ–¹æ³•\"><a class=\"anchor\" href=\"#enumæŠ½è±¡ç±»å¸¸è§æ–¹æ³•\">#</a> Enum æŠ½è±¡ç±»å¸¸è§æ–¹æ³•</h2>\n<blockquote>\n<p><code>Enum</code>  æ˜¯æ‰€æœ‰ <code>Java</code>  è¯­éŸ³æšä¸¾ç±»å‹çš„å…¬å…±åŸºæœ¬ç±» (æ³¨æ„ï¼š <code>Enum</code>  æ˜¯æŠ½è±¡ç±»)ï¼Œå®ƒçš„å¸¸è§æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">è¿”å›ç±»å‹</th>\n<th style=\"text-align:center\">æ–¹æ³•åç§°</th>\n<th style=\"text-align:center\">æ–¹æ³•è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>int</code></td>\n<td style=\"text-align:center\"><code>compareTo(E o)</code></td>\n<td style=\"text-align:center\">æ¯”è¾ƒæ­¤æšä¸¾ä¸æŒ‡å®šå¯¹è±¡çš„é¡ºåº</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>boolean</code></td>\n<td style=\"text-align:center\"><code>equals(Object other)</code></td>\n<td style=\"text-align:center\">å½“æŒ‡å®šå¯¹è±¡ç­‰äºæ­¤æšä¸¾å¸¸é‡æ˜¯ï¼Œè¿”å› <code>true</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Class&lt;?&gt;</code></td>\n<td style=\"text-align:center\"><code>getDeclaringClass()</code></td>\n<td style=\"text-align:center\">è¿”å›ä¸æ­¤æšä¸¾å¸¸é‡çš„æšä¸¾ç±»å‹ç›¸å¯¹åº”çš„ <code>Class</code>  å¯¹è±¡</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>String</code></td>\n<td style=\"text-align:center\"><code>name()</code></td>\n<td style=\"text-align:center\">è¿”å›æ­¤æšä¸¾å¸¸é‡çš„åç§°ï¼Œåœ¨å…¶æšä¸¾å£°æ˜ä¸­å¯¹å…¶è¿›è¡Œå£°æ˜</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>int</code></td>\n<td style=\"text-align:center\"><code>ordinal()</code></td>\n<td style=\"text-align:center\">è¿”å›æšä¸¾å¸¸é‡çš„åºæ•° (å®ƒåœ¨æšä¸¾å£°æ˜ä¸­çš„ä½ç½®ï¼Œå…¶ä¸­åˆå§‹å¸¸é‡åºæ•°ä¸ºé›¶)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>String</code></td>\n<td style=\"text-align:center\"><code>toString()</code></td>\n<td style=\"text-align:center\">è¿”å›æšä¸¾å¸¸é‡çš„åç§°ï¼Œå®ƒåŒ…å«åœ¨å£°æ˜ä¸­</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>static&lt;T extends Enum&lt;T&gt;&gt; T</code></td>\n<td style=\"text-align:center\"><code>static valueOf(Class&lt;T&gt; enumType,String name)</code></td>\n<td style=\"text-align:center\">è¿”å›å¸¦æŒ‡å®šåç§°çš„æŒ‡å®šæšä¸¾ç±»å‹çš„æšä¸¾å¸¸é‡</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>ä¸»è¦è¯´æ˜ä¸€ä¸‹ <code>ordinal()</code>  æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è·å–çš„æ˜¯æšä¸¾å˜é‡åœ¨æšä¸¾ç±»ä¸­å£°æ˜çš„é¡ºåºï¼Œä¸‹æ ‡ä» <code>0</code>  å¼€å§‹ã€‚\n<ul>\n<li>å¦‚ï¼šæ—¥æœŸä¸­çš„ <code>MONDAY</code>  åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œé‚£ä¹ˆ <code>MONDAY</code>  çš„ <code>ordinal</code>  å€¼å°±æ˜¯ <code>0</code> ã€‚</li>\n<li>å¦‚æœ <code>MONDAY</code>  çš„å£°æ˜ä½ç½®å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆä½¿ç”¨ <code>ordinal()</code>  æ–¹æ³•è·å–åˆ°çš„å€¼ä¹Ÿéšä¹‹å˜åŒ–ï¼Œæ³¨æ„åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬éƒ½ä¸åº”è¯¥é¦–é€‰ä½¿ç”¨è¯¥æ–¹æ³•ã€‚</li>\n</ul>\n</li>\n<li><code>compareTo(E o)</code>  æ–¹æ³•åˆ™æ˜¯æ¯”è¾ƒæšä¸¾çš„å¤§å°ï¼Œæ³¨æ„ï¼šå…¶å†…éƒ¨å®ç°æ˜¯æ ¹æ®æ¯ä¸ªæšä¸¾çš„ <code>ordinal</code>  å€¼å¤§å°æ¥è¿›è¡Œæ¯”è¾ƒçš„ã€‚</li>\n<li><code>name()</code>  æ–¹æ³•ä¸ <code>toString()</code>  å‡ ä¹æ˜¯ç­‰åŒçš„ï¼Œéƒ½æ˜¯è¾“å‡ºå˜é‡çš„å­—ç¬¦ä¸²å½¢å¼ã€‚</li>\n<li><code>valueOf(Class&lt;T&gt; enumType,String name)</code>  æ–¹æ³•æ˜¯æ ¹æ®æšä¸¾ç±»çš„ <code>Class</code>  å¯¹è±¡å’Œæšä¸¾åç§°è·å–æšä¸¾å¸¸é‡ï¼Œè¯¥æ–¹æ³•æ˜¯é™æ€çš„ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DayTypeTest.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: DayType æµ‹è¯•</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-05 21:54</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DayTypeTest</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºæšä¸¾æ•°ç»„</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> days<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>MONDAY<span class=\"token punctuation\">,</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>TUESDAY<span class=\"token punctuation\">,</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>WEDNESDAY<span class=\"token punctuation\">,</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>THURSDAY<span class=\"token punctuation\">,</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>FRIDAY<span class=\"token punctuation\">,</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>SATURDAY<span class=\"token punctuation\">,</span> <span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span>SUNDAY<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span>days<span class=\"token punctuation\">.</span>length <span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"day[\"</span><span class=\"token operator\">+</span>i<span class=\"token operator\">+</span><span class=\"token string\">\"].ordinal():\"</span><span class=\"token operator\">+</span>days<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡ compareTo æ–¹æ³•æ¯”è¾ƒï¼Œå®é™…ä¸Šå…¶å†…éƒ¨æ˜¯é€šè¿‡ ordinal () å€¼æ¯”è¾ƒçš„</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[0].compareTo(days[1]):\"</span><span class=\"token operator\">+</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">compareTo</span><span class=\"token punctuation\">(</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[0].compareTo(days[1]):\"</span><span class=\"token operator\">+</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">compareTo</span><span class=\"token punctuation\">(</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">// è·å–è¯¥æšä¸¾å¯¹è±¡çš„ Class å¯¹è±¡å¼•ç”¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡ getClass æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"clazz:\"</span><span class=\"token operator\">+</span>clazz<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">//name()</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[0].name():\"</span><span class=\"token operator\">+</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[1].name():\"</span><span class=\"token operator\">+</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[2].name():\"</span><span class=\"token operator\">+</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[3].name():\"</span><span class=\"token operator\">+</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[0].toString():\"</span><span class=\"token operator\">+</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[1].toString():\"</span><span class=\"token operator\">+</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[2].toString():\"</span><span class=\"token operator\">+</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"days[3].toString():\"</span><span class=\"token operator\">+</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token class-name\">InternalDayType</span> d<span class=\"token operator\">=</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token class-name\">InternalDayType</span> d2<span class=\"token operator\">=</span><span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">InternalDayType</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>days<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"d:\"</span><span class=\"token operator\">+</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"d2:\"</span><span class=\"token operator\">+</span>d2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>                æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>                day [0].ordinal ():0</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>                day [1].ordinal ():1</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>                day [2].ordinal ():2</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>                day [3].ordinal ():3</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>                day [4].ordinal ():4</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>                day [5].ordinal ():5</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>                day [6].ordinal ():6</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>                -------------------------------------</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>                days [0].compareTo (days [1]):-1</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>                days [0].compareTo (days [1]):-2</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>                clazz:class top.rem.rain.InternalDayType</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>                -------------------------------------</pre></td></tr><tr><td data-num=\"63\"></td><td><pre>                days [0].name ():MONDAY</pre></td></tr><tr><td data-num=\"64\"></td><td><pre>                days [1].name ():TUESDAY</pre></td></tr><tr><td data-num=\"65\"></td><td><pre>                days [2].name ():WEDNESDAY</pre></td></tr><tr><td data-num=\"66\"></td><td><pre>                days [3].name ():THURSDAY</pre></td></tr><tr><td data-num=\"67\"></td><td><pre>                -------------------------------------</pre></td></tr><tr><td data-num=\"68\"></td><td><pre>                days [0].toString ():MONDAY</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>                days [1].toString ():TUESDAY</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>                days [2].toString ():WEDNESDAY</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>                days [3].toString ():THURSDAY</pre></td></tr><tr><td data-num=\"72\"></td><td><pre>                -------------------------------------</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>                d:MONDAY</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>                d2:MONDAY</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre></pre></td></tr><tr><td data-num=\"79\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"80\"></td><td><pre> * æ­¤å¤„ä½¿ç”¨å†…éƒ¨æ–¹å¼å®šä¹‰å¹¶ä½¿ç”¨ javac æ¥å˜æˆæˆ class æ–‡ä»¶</pre></td></tr><tr><td data-num=\"81\"></td><td><pre> * ä½¿ç”¨å¤–éƒ¨ç±»ä¼šæ˜¾ç¤ºæ‰¾ä¸åˆ°æ–‡ä»¶</pre></td></tr><tr><td data-num=\"82\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre><span class=\"token keyword\">enum</span> <span class=\"token class-name\">InternalDayType</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"85\"></td><td><pre>     * æ˜ŸæœŸä¸€</pre></td></tr><tr><td data-num=\"86\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>    MONDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"89\"></td><td><pre>     * æ˜ŸæœŸäºŒ</pre></td></tr><tr><td data-num=\"90\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>    TUESDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"93\"></td><td><pre>     * æ˜ŸæœŸä¸‰</pre></td></tr><tr><td data-num=\"94\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>    WEDNESDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"97\"></td><td><pre>     * æ˜ŸæœŸå››</pre></td></tr><tr><td data-num=\"98\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>    THURSDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"101\"></td><td><pre>     * æ˜ŸæœŸäº”</pre></td></tr><tr><td data-num=\"102\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>    FRIDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"105\"></td><td><pre>     * æ˜ŸæœŸå…­</pre></td></tr><tr><td data-num=\"106\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>    SATURDAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"109\"></td><td><pre>     * æ˜ŸæœŸå¤©</pre></td></tr><tr><td data-num=\"110\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>    SUNDAY</pre></td></tr><tr><td data-num=\"112\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æŠ½è±¡ç±» <code>Enum</code>  ç±»çš„åŸºæœ¬å†…å®¹åˆ°æ­¤å°±ä»‹ç»å®Œäº†ï¼Œè¿™é‡Œæé†’ä¸€ç‚¹å°±æ˜¯ï¼Œ <code>Enum</code>  ç±»å†…éƒ¨ä¼šæœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè¯¥ç±»æ„é€ åªèƒ½æœ‰ç¼–è¯‘å™¨è°ƒç”¨ï¼Œæ— æ³•æ‰‹åŠ¨æ“ä½œï¼Œæ¥çœ‹ <code>Enum</code>  ç±»çš„ä¸»è¦æºç ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Enum.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// å®ç°äº† Comparable</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Constable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Comparable</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>     * æšä¸¾å­—ç¬¦ä¸²åç§°</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">return</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     * æšä¸¾é¡ºåºå€¼</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> ordinal<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> <span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">return</span> ordinal<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>     * æšä¸¾çš„æ„é€ æ–¹æ³•ï¼Œåªèƒ½ç”±ç¼–è¯‘å™¨è°ƒç”¨</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>     * @param name æšä¸¾å­—ç¬¦ä¸²åç§°</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>     * @param ordinal æšä¸¾é¡ºåºå€¼</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> ordinal<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>ordinal <span class=\"token operator\">=</span> ordinal<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token keyword\">return</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> other<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token operator\">==</span>other<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> <span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">CloneNotSupportedException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CloneNotSupportedException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>     * æ¯”è¾ƒçš„æ˜¯ ordinal çš„å€¼</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>     * @param o ä»»æ„æšä¸¾ç±»å‹</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>     * @return int</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> <span class=\"token function\">compareTo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> other <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span>o<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> self <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> other<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token comment\">// optimization</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>            self<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> other<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassCastException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token comment\">// æ ¹æ® ordinal å€¼æ¯”è¾ƒå¤§å°</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>ordinal <span class=\"token operator\">-</span> other<span class=\"token punctuation\">.</span>ordinal<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"66\"></td><td><pre>     * è·å–å£°æ˜ç±»</pre></td></tr><tr><td data-num=\"67\"></td><td><pre>     * @return Class&lt;E></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>    <span class=\"token annotation punctuation\">@SuppressWarnings</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"unchecked\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token comment\">// è·å– class å¯¹è±¡å¼•ç”¨ï¼ŒgetClass () æ˜¯ Object æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> <span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        <span class=\"token comment\">// è·å–çˆ¶ç±» Class å¯¹è±¡å¼•ç”¨</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> zuper <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getSuperclass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>zuper <span class=\"token operator\">==</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span>clazz <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span>zuper<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre></pre></td></tr><tr><td data-num=\"78\"></td><td><pre></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"80\"></td><td><pre>     * è¿”å›å¸¦æŒ‡å®šåç§°çš„æŒ‡å®šæšä¸¾ç±»å‹çš„æšä¸¾å¸¸é‡</pre></td></tr><tr><td data-num=\"81\"></td><td><pre>     * @param enumClass</pre></td></tr><tr><td data-num=\"82\"></td><td><pre>     * @param name</pre></td></tr><tr><td data-num=\"83\"></td><td><pre>     * @return</pre></td></tr><tr><td data-num=\"84\"></td><td><pre>     * @param &lt;T></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>     <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">T</span> <span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> enumClass<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>                                                <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>         <span class=\"token comment\">//enumClass.enumConstantDirectory ()ï¼šè·å–åˆ°çš„æ˜¯ä¸€ä¸ª map é›†åˆï¼Œkey å€¼å°±æ˜¯ name å€¼ï¼Œvalue åˆ™æ˜¯æšä¸¾å˜é‡å€¼</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>         <span class=\"token comment\">//enumConstantDirectory æ˜¯ class å¯¹è±¡å†…éƒ¨çš„æ–¹æ³•ï¼Œæ ¹æ® class å¯¹è±¡è·å–ä¸€ä¸ª map é›†åˆçš„å€¼ </span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>         <span class=\"token class-name\">T</span> result <span class=\"token operator\">=</span> enumClass<span class=\"token punctuation\">.</span><span class=\"token function\">enumConstantDirectory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>         <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>            <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>         <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NullPointerException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Name is null\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>         <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>            <span class=\"token string\">\"No enum constant \"</span> <span class=\"token operator\">+</span> enumClass<span class=\"token punctuation\">.</span><span class=\"token function\">getCanonicalName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".\"</span> <span class=\"token operator\">+</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>     <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>é€šè¿‡ <code>Enum</code>  æºç å¯ä»¥çŸ¥é“ï¼Œ <code>Enum</code>  å®ç°äº† <code>Comparable</code>  æ¥å£ï¼Œè¿™ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨ <code>compareTo</code>  æ¯”è¾ƒçš„åŸå› ï¼Œå½“ç„¶ <code>Enum</code>  æ„é€ å‡½æ•°ä¹Ÿæ˜¯å­˜åœ¨çš„ï¼Œè¯¥æ„é€ å‡½æ•°åªèƒ½ç”±ç¼–è¯‘å™¨è°ƒç”¨ï¼Œæ¯•ç«Ÿæˆ‘ä»¬åªèƒ½ä½¿ç”¨ <code>enum</code>  å…³é”®å­—æ¥å®šä¹‰æšä¸¾ï¼Œå…¶å®ƒå°±äº¤ç»™ç¼–è¯‘å™¨äº†ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Enum.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// å®ç°äº† Comparable</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Constable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Comparable</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>     * æšä¸¾å­—ç¬¦ä¸²åç§°</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     * æšä¸¾é¡ºåºå€¼</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> ordinal<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * æšä¸¾çš„æ„é€ æ–¹æ³•ï¼Œåªèƒ½ç”±ç¼–è¯‘å™¨è°ƒç”¨</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     * @param name æšä¸¾å­—ç¬¦ä¸²åç§°</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     * @param ordinal æšä¸¾é¡ºåºå€¼</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> ordinal<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>ordinal <span class=\"token operator\">=</span> ordinal<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"valuesvalueofæ–¹æ³•\"><a class=\"anchor\" href=\"#valuesvalueofæ–¹æ³•\">#</a> Values ()&amp;ValueOf () æ–¹æ³•</h2>\n<ul>\n<li><code>values()</code>  å’Œ <code>valueOf(String name)</code>  æ–¹æ³•æ˜¯ç¼–è¯‘å™¨ç”Ÿæˆçš„ <code>static</code>  æ–¹æ³•ã€‚</li>\n<li>ä»å‰é¢åˆ†æä¸­ï¼Œåœ¨ <code>Enum</code>  ç±»ä¸­å¹¶æ²¡æœ‰å‡ºç° <code>values()</code>  æ–¹æ³•ï¼Œä½† <code>valueOf()</code>  æ–¹æ³•è¿˜æ˜¯æœ‰å‡ºç°çš„ã€‚</li>\n<li>åªä¸è¿‡ç¼–è¯‘å™¨ç”Ÿæˆçš„ <code>valueOf()</code>  æ–¹æ³•éœ€è¦ä¼ é€’ä¸€ä¸ª <code>name</code>  å‚æ•°ï¼Œè€Œ <code>Enum</code>  è‡ªå¸¦çš„é™æ€æ–¹æ³• <code>valueOf()</code>  åˆ™éœ€è¦ä¼ é€’ä¸¤ä¸ªå‚æ•°ã€‚</li>\n<li>ä»å‰é¢åç¼–è¯‘åçš„ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œç¼–è¯‘å™¨ç”Ÿæˆçš„ <code>valueOf()</code>  æ–¹æ³•æœ€ç»ˆè¿˜æ˜¯è°ƒç”¨äº† <code>Enum</code>  ç±»çš„ <code>valueOf()</code>  æ–¹æ³•ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumDemo.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description:</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-06 23:45</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token class-name\">DayType</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> days2 <span class=\"token operator\">=</span> <span class=\"token class-name\">DayType</span><span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"day2:\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span>days2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token class-name\">DayType</span> day <span class=\"token operator\">=</span> <span class=\"token class-name\">DayType</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MONDAY\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"day:\"</span> <span class=\"token operator\">+</span> day<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        day2:[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        day:MONDAY</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä»ç»“æœä¸Šçœ‹å°±å¯ä»¥çŸ¥é“ï¼Œ <code>values()</code>  æ–¹æ³•çš„ä½œç”¨å°±æ˜¯è·å–æšä¸¾ç±»ä¸­çš„æ‰€æœ‰å˜é‡ï¼Œä½œä¸ºæ•°ç»„è¿”å›ï¼Œè€Œ <code>valueOf(String name)</code>  æ–¹æ³•ä¸ <code>Enum</code>  ç±»ä¸­çš„ <code>valueOf(String name)</code>  æ–¹æ³•çš„ä½œç”¨ç±»ä¼¼ï¼Œæ ¹æ®åç§°è·å–æšä¸¾å˜é‡ï¼Œåªä¸è¿‡ç¼–è¯‘å™¨ç”Ÿæˆçš„ <code>valueOf(String name)</code>  æ–¹æ³•æ›´ç®€æ´ä¸€äº›åªéœ€è¦ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œæ³¨æ„ï¼š <code>values()</code>  æ–¹æ³•æ˜¯ç”±ç¼–è¯‘å™¨æ’å…¥åˆ°æšä¸¾ç±»ä¸­çš„ <code>static</code>  æ–¹æ³•ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬å°†æšä¸¾å®ä¾‹å‘ä¸Šè½¬å‹ä¸º <code>Enum</code> ï¼Œé‚£ä¹ˆ <code>values()</code>  æ–¹æ³•å°†æ— æ³•è¢«è°ƒç”¨ï¼Œå› ä¸º <code>Enum</code>  ç±»ä¸­å¹¶æ²¡æœ‰ <code>values()</code>  æ–¹æ³•ï¼Œ <code>valueOf(String name)</code>  æ–¹æ³•ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumDemo2.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description:</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-07 20:41</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumDemo2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">// æ­£å¸¸ä½¿ç”¨</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token class-name\">DayType</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> ds <span class=\"token operator\">=</span> <span class=\"token class-name\">DayType</span><span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">// å‘ä¸Šè½¬å‹ Enum</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DayType</span><span class=\"token punctuation\">></span></span> e <span class=\"token operator\">=</span> <span class=\"token class-name\">DayType</span><span class=\"token punctuation\">.</span>MONDAY<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">// æ— æ³•è°ƒç”¨ï¼Œæ²¡æœ‰æ­¤æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">//e.values();</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"classå¯¹è±¡æšä¸¾\"><a class=\"anchor\" href=\"#classå¯¹è±¡æšä¸¾\">#</a> Class å¯¹è±¡ &amp; æšä¸¾</h1>\n<blockquote>\n<p>åœ¨ä¸Šè¿°æˆ‘ä»¬æåˆ°å½“æšä¸¾å®ä¾‹å‘ä¸Šè½¬å‹ä¸º <code>Enum</code>  ç±»å‹åï¼Œ <code>values()</code>  æ–¹æ³•å°†ä¼šå¤±æ•ˆï¼Œä¹Ÿå°±æ— æ³•ä¸€æ¬¡æ€§è·å–æ‰€æœ‰æšä¸¾å®ä¾‹å˜é‡ï¼Œä½†æ˜¯ç”±äº <code>Class</code>  å¯¹è±¡çš„å­˜åœ¨ï¼Œå³ä½¿ä¸ä½¿ç”¨ <code>values()</code>  æ–¹æ³•ï¼Œè¿˜æ˜¯å¯ä»¥ä¸€æ¬¡è·å–åˆ°æ‰€æœ‰æšä¸¾å®ä¾‹å˜é‡çš„ï¼Œ <code>Class</code>  å¯¹è±¡ä¸­å­˜åœ¨å¦‚ä¸‹æ–¹æ³•ï¼š</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">è¿”å›ç±»å‹</th>\n<th style=\"text-align:center\">æ–¹æ³•åç§°</th>\n<th style=\"text-align:center\">æ–¹æ³•è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>T[]</code></td>\n<td style=\"text-align:center\"><code>getEnumConstants()</code></td>\n<td style=\"text-align:center\">è¿”å›è¯¥ç±»æšä¸¾ç±»å‹çš„æ‰€æœ‰å…ƒç´ ï¼Œå¦‚æœ <code>Class</code>  å¯¹è±¡ä¸æ˜¯æšä¸¾ç±»å‹åˆ™è¿”å› <code>null</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>boolean</code></td>\n<td style=\"text-align:center\"><code>isEnum</code></td>\n<td style=\"text-align:center\">å½“ä¸”ä»…å½“è¯¥ç±»å£°æ˜ä¸ºæºä»£ç ä¸­çš„æšä¸¾æ˜¯è¿”å› <code>true</code></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>å› æ­¤é€šè¿‡ <code>getEnumConstants()</code>  æ–¹æ³•ï¼ŒåŒæ ·å¯ä»¥è½»è€Œæ˜“ä¸¾åœ°è·å–æ‰€æœ‰æšä¸¾å®ä¾‹å˜é‡ï¼Œä¸‹é¢é€šè¿‡ä»£ç æ¥æ¼”ç¤ºæ­¤åŠŸèƒ½ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumDemo3.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description:</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-07 20:45</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumDemo3</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">// å‘ä¸Šè½¬å‹ Enum</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DayType</span><span class=\"token punctuation\">></span></span> e <span class=\"token operator\">=</span> <span class=\"token class-name\">DayType</span><span class=\"token punctuation\">.</span>MONDAY<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">// è·å– class å¯¹è±¡å¼•ç”¨</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clasz <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>clasz<span class=\"token punctuation\">.</span><span class=\"token function\">isEnum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token class-name\">DayType</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> dsz <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DayType</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> clasz<span class=\"token punctuation\">.</span><span class=\"token function\">getEnumConstants</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DayType:\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span>dsz<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>         è¾“å‡ºç»“æœ:</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>         DayType:[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æˆ‘ä»¬é€šè¿‡ <code>Enum</code>  çš„ <code>class</code>  å¯¹è±¡çš„ <code>getEnumConstants()</code>  æ–¹æ³•ä»èƒ½ä¸€æ¬¡æ€§è·å–æ‰€æœ‰çš„æšä¸¾å®ä¾‹å¸¸é‡ã€‚</p>\n</blockquote>\n<h1 id=\"æšä¸¾è¿›é˜¶ç”¨æ³•\"><a class=\"anchor\" href=\"#æšä¸¾è¿›é˜¶ç”¨æ³•\">#</a> æšä¸¾è¿›é˜¶ç”¨æ³•</h1>\n<blockquote>\n<p>åœ¨å‰é¢çš„åˆ†æä¸­ï¼Œæˆ‘ä»¬éƒ½æ˜¯åŸºäºç®€å•æšä¸¾ç±»å‹çš„å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯åœ¨å®šä¹‰æšä¸¾æ—¶åªå®šä¹‰äº†æšä¸¾å®ä¾‹ç±»å‹ï¼Œå¹¶æ²¡æœ‰å®šä¹‰æ–¹æ³•æˆ–è€…æˆå‘˜å˜é‡ï¼Œå®é™…ä¸Šä½¿ç”¨ <code>enum</code>  å…³é”®å­—å®šä¹‰çš„æšä¸¾ç±»ï¼Œé™¤äº†ä¸èƒ½ä½¿ç”¨ç»§æ‰¿ (å› ä¸ºç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬ç»§æ‰¿ <code>Enum</code>  æŠ½è±¡ç±»ï¼Œè€Œ <code>Java</code>  åªæ”¯æŒå•ç»§æ‰¿ï¼Œå› æ­¤æšä¸¾ç±»æ˜¯æ— æ³•æ‰‹åŠ¨å®ç°ç»§æ‰¿çš„)ï¼Œå¯ä»¥æŠŠ <code>enum</code>  ç±»å½“æˆå¸¸è§„ç±»ï¼Œå°±æ˜¯å¯ä»¥è¯´æˆ‘ä»¬å‘ <code>enum</code>  ç±»ä¸­æ·»åŠ æ–¹æ³•å’Œå˜é‡ï¼Œç”šè‡³æ˜¯ <code>mian</code>  æ–¹æ³•ã€‚</p>\n</blockquote>\n<h2 id=\"æšä¸¾ç±»æ·»åŠ æ–¹æ³•ä¸æ„é€ å‡½æ•°\"><a class=\"anchor\" href=\"#æšä¸¾ç±»æ·»åŠ æ–¹æ³•ä¸æ„é€ å‡½æ•°\">#</a> æšä¸¾ç±»æ·»åŠ æ–¹æ³•ä¸æ„é€ å‡½æ•°</h2>\n<blockquote>\n<p>é‡æ–°å®šä¹‰ä¸€ä¸ªæ—¥æœŸæšä¸¾ç±»ï¼Œå¸¦æœ‰æˆå‘˜å˜é‡ï¼Œæè¿°è¯¥æ—¥æœŸæšä¸¾ç±»çš„ä½œç”¨ï¼ŒåŒæ—¶å®šä¹‰ä¸€ä¸ª <code>getDescriptionChinese()</code>  æ–¹æ³•æ¥è¿”å›æè¿°å†…å®¹ï¼Œå¹¶å°†æ„é€ å‡½æ•°ç§æœ‰åŒ–ï¼Œé˜²æ­¢å¤–éƒ¨è°ƒç”¨ï¼Œåœ¨å£°æ˜æšä¸¾å®ä¾‹æ—¶ä¼ å…¥å¯¹åº”çš„æè¿°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DayType2.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * æšä¸¾è¿›é˜¶ç”¨æ³•</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> *</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">DayType2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * æ˜ŸæœŸä¸€</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token function\">MONDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸä¸€\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     * æ˜ŸæœŸäºŒ</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token function\">TUESDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸäºŒ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     * æ˜ŸæœŸä¸‰</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token function\">WEDNESDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸä¸‰\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * æ˜ŸæœŸå››</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token function\">THURSDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸå››\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>     * æ˜ŸæœŸäº”</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token function\">FRIDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸäº”\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     * æ˜ŸæœŸå…­</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token function\">SATURDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸå…­\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>     * æ˜ŸæœŸå¤©ï¼Œä½¿ç”¨é€—å·åˆ†éš”ï¼Œä½¿ç”¨åˆ†å·ç»“å°¾</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token function\">SUNDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸå¤©\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>     * ä¸­æ–‡æè¿°</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> descriptionChinese<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>     * å°†æ„é€ ç§æœ‰åŒ–ï¼Œé˜²æ­¢å¤–éƒ¨è°ƒç”¨</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>     * @param descriptionChinese ä¸­æ–‡æè¿°</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DayType2</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> descriptionChinese<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>descriptionChinese <span class=\"token operator\">=</span> descriptionChinese<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>     * è·å–ä¸­æ–‡æè¿°</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>     * @return String</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getDescriptionChinese</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token keyword\">return</span> descriptionChinese<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DayType2</span> day <span class=\"token operator\">:</span> <span class=\"token class-name\">DayType2</span><span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name: \"</span> <span class=\"token operator\">+</span> day<span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\",getDescriptionChinese: \"</span> <span class=\"token operator\">+</span> day<span class=\"token punctuation\">.</span><span class=\"token function\">getDescriptionChinese</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>    <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        name: MONDAY,getDescriptionChinese: æ˜ŸæœŸä¸€</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        name: TUESDAY,getDescriptionChinese: æ˜ŸæœŸäºŒ</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        name: WEDNESDAY,getDescriptionChinese: æ˜ŸæœŸä¸‰</pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        name: THURSDAY,getDescriptionChinese: æ˜ŸæœŸå››</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        name: FRIDAY,getDescriptionChinese: æ˜ŸæœŸäº”</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        name: SATURDAY,getDescriptionChinese: æ˜ŸæœŸå…­</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        name: SUNDAY,getDescriptionChinese: æ˜ŸæœŸå¤©</pre></td></tr><tr><td data-num=\"76\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>enum</code>  ç±»ä¸­ç¡®å®å¯ä»¥åƒå®šä¹‰å¸¸è§„ç±»ä¸€æ ·å£°æ˜å˜é‡å’Œæˆå‘˜æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬å¿…é¡»æ³¨æ„åˆ°ï¼Œå¦‚æœæ‰“ç®—åœ¨ <code>enum</code>  ç±»ä¸­å®šä¹‰æ–¹æ³•ï¼ŒåŠ¡å¿…åœ¨å£°æ˜å®Œæšä¸¾å®ä¾‹åä½¿ç”¨é€—å·åˆ†éš”å’Œä½¿ç”¨åˆ†å·æ¥ç»“æŸï¼Œå€˜è‹¥åœ¨æšä¸¾å®ä¾‹å‰å®šä¹‰ä»»ä½•æ–¹æ³•ï¼Œç¼–è¯‘å™¨éƒ½å°†ä¼šæŠ¥é”™å°†æ— æ³•é€šè¿‡ç¼–è¯‘ï¼ŒåŒæ—¶å³ä½¿è‡ªå®šä¹‰äº†æ„é€ å‡½æ•°ä¸” <code>enum</code>  çš„å®šä¹‰ç»“æŸï¼Œæˆ‘ä»¬ä¹Ÿæ°¸è¿œæ— æ³•æ‰‹åŠ¨è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºæšä¸¾å®ä¾‹ï¼Œè¿™ä»¶äº‹åªèƒ½ç”±ç¼–è¯‘å™¨æ¥æ‰§è¡Œã€‚</p>\n</blockquote>\n<h2 id=\"è¦†ç›–enumç±»æ–¹æ³•\"><a class=\"anchor\" href=\"#è¦†ç›–enumç±»æ–¹æ³•\">#</a> è¦†ç›– enum ç±»æ–¹æ³•</h2>\n<blockquote>\n<p>æ—¢ç„¶ <code>enum</code>  ç±»è·Ÿå¸¸è§„ç±»çš„å®šä¹‰æ²¡æœ‰ä»€ä¹ˆåŒºåˆ« ( <code>enum</code>  ç±»è¿˜æ˜¯æœ‰äº›çº¦æŸçš„)ï¼Œé‚£ä¹ˆè¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ä¹Ÿä¸ä¼šå¾ˆéš¾ï¼Œå¯æƒœçš„æ˜¯çˆ¶ç±» <code>Enum</code>  ä¸­å®šä¹‰çš„æ–¹æ³•åªæœ‰ <code>toString()</code>  æ–¹æ³•æ²¡æœ‰ä½¿ç”¨ <code>final</code>  æ¥ä¿®é¥°ï¼Œå› æ­¤åªèƒ½è¦†ç›– <code>toString()</code>  æ–¹æ³•ï¼Œä¸‹é¢å°†é€šè¿‡ä»£ç è¦†ç›– <code>toString()</code>  æ¥çœå»ç¼–å†™ <code>getDescriptionChinese()</code>  æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DayType3.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * æšä¸¾è¿›é˜¶ç”¨æ³• - è¦†ç›– toString æ–¹æ³•æ¥çœå» getDescriptionChinese () æ–¹æ³•</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> *</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">DayType3</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * æ˜ŸæœŸä¸€</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token function\">MONDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸä¸€\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     * æ˜ŸæœŸäºŒ</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token function\">TUESDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸäºŒ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     * æ˜ŸæœŸä¸‰</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token function\">WEDNESDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸä¸‰\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * æ˜ŸæœŸå››</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token function\">THURSDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸå››\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>     * æ˜ŸæœŸäº”</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token function\">FRIDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸäº”\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     * æ˜ŸæœŸå…­</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token function\">SATURDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸå…­\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>     * æ˜ŸæœŸå¤©ï¼Œä½¿ç”¨é€—å·åˆ†éš”ï¼Œä½¿ç”¨åˆ†å·ç»“å°¾</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token function\">SUNDAY</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ˜ŸæœŸå¤©\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>     * ä¸­æ–‡æè¿°</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> descriptionChinese<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>     * å°†æ„é€ ç§æœ‰åŒ–ï¼Œé˜²æ­¢å¤–éƒ¨è°ƒç”¨</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>     * @param descriptionChinese ä¸­æ–‡æè¿°</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DayType3</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> descriptionChinese<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>descriptionChinese <span class=\"token operator\">=</span> descriptionChinese<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>       <span class=\"token keyword\">return</span> descriptionChinese<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DayType3</span> day <span class=\"token operator\">:</span> <span class=\"token class-name\">DayType3</span><span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name: \"</span> <span class=\"token operator\">+</span> day<span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\",getDescriptionChinese: \"</span> <span class=\"token operator\">+</span> day<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        name: MONDAY,getDescriptionChinese: æ˜ŸæœŸä¸€</pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        name: TUESDAY,getDescriptionChinese: æ˜ŸæœŸäºŒ</pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        name: WEDNESDAY,getDescriptionChinese: æ˜ŸæœŸä¸‰</pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        name: THURSDAY,getDescriptionChinese: æ˜ŸæœŸå››</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        name: FRIDAY,getDescriptionChinese: æ˜ŸæœŸäº”</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        name: SATURDAY,getDescriptionChinese: æ˜ŸæœŸå…­</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        name: SUNDAY,getDescriptionChinese: æ˜ŸæœŸå¤©</pre></td></tr><tr><td data-num=\"72\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"è‡ªå®šä¹‰enumç±»æŠ½è±¡æ–¹æ³•\"><a class=\"anchor\" href=\"#è‡ªå®šä¹‰enumç±»æŠ½è±¡æ–¹æ³•\">#</a> è‡ªå®šä¹‰ enum ç±»æŠ½è±¡æ–¹æ³•</h2>\n<blockquote>\n<p>ä¸å¸¸è§„æŠ½è±¡ç±»ä¸€æ ·ï¼Œåœ¨ <code>enum</code>  ç±»ä¸­å…è®¸æˆ‘ä»¬ä¸ºå…¶å®šä¹‰æŠ½è±¡æ–¹æ³•ï¼Œç„¶åä½¿æ¯ä¸ªæšä¸¾å®ä¾‹éƒ½å®ç°è¯¥æ–¹æ³•ï¼Œä»¥ä¾¿äº§ç”Ÿä¸åŒçš„è¡Œä¸ºæ–¹å¼ï¼Œæ³¨æ„ï¼š <code>abstract</code>  å…³é”®å­—å¯¹äºæšä¸¾ç±»æ¥è¯´å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumDemo4.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: è‡ªå®šä¹‰ enum ç±»æŠ½è±¡æ–¹æ³•</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-07 22:17</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">EnumDemo4</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>   * ä½¿ç”¨æšä¸¾é™æ€å—é‡å†™ getInfo æ–¹æ³•æ¥ä¸ºæŠ½è±¡æ–¹æ³•æ·»åŠ å…·ä½“å®ç°</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  FIRST<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token string\">\"FIRST TIME\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  SECOND<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token string\">\"SECOND TIME\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>   * åœ¨æšä¸¾ç±»ä¸­å®šä¹‰æŠ½è±¡æ–¹æ³•</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>   * @return String</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Fï¼š\"</span><span class=\"token operator\">+</span><span class=\"token class-name\">EnumDemo4</span><span class=\"token punctuation\">.</span>FIRST<span class=\"token punctuation\">.</span><span class=\"token function\">getInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Sï¼š\"</span><span class=\"token operator\">+</span><span class=\"token class-name\">EnumDemo4</span><span class=\"token punctuation\">.</span>SECOND<span class=\"token punctuation\">.</span><span class=\"token function\">getInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            Fï¼šFIRST TIME</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            Sï¼šSECOND TIME</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>é€šè¿‡è¿™ç§æ–¹å¼å°±å¯ä»¥è½»è€Œæ˜“ä¸¾åœ°å®šä¹‰æ¯ä¸ªæšä¸¾å®ä¾‹çš„ä¸åŒè¡Œä¸ºæ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°ä½¿ç”¨ <code>enum</code>  ç±»å®ä¾‹ä¼¼ä¹è¡¨ç°å‡ºäº†å¤šæ€çš„ç‰¹æ€§ï¼Œå¯æƒœçš„æ˜¯æšä¸¾ç±»å‹çš„å®ä¾‹ç»ˆç©¶ä¸èƒ½ä½œä¸ºç±»å‹ä¼ é€’ä½¿ç”¨ï¼Œå°±åƒä¸‹é¢çš„ä½¿ç”¨æ–¹æ³•ï¼Œå°±æ— æ³•é€šè¿‡ç¼–è¯‘å™¨ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œæ¯•ç«Ÿ EnumDemo4.FIRST æ˜¯ä¸ªå®ä¾‹å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EnumDemo4</span><span class=\"token punctuation\">.</span>FIRST instance<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä»¥ä¸Šå°±æ˜¯åœ¨æšä¸¾å®ä¾‹å¸¸é‡ä¸­å®šä¹‰æŠ½è±¡æ–¹æ³•ã€‚</p>\n</blockquote>\n<h1 id=\"æšä¸¾ä¸æ¥å£\"><a class=\"anchor\" href=\"#æšä¸¾ä¸æ¥å£\">#</a> æšä¸¾ä¸æ¥å£</h1>\n<blockquote>\n<p>ç”±äº <code>Java</code>  å•ç»§æ‰¿çš„åŸå› ï¼Œ <code>enum</code>  ç±»ä¸èƒ½ç»§æ‰¿å…¶å®ƒç±»ï¼Œä½†å®ƒä¸å¦¨ç¢å®ç°æ¥å£ï¼Œå› æ­¤ <code>enum</code>  ç±»åŒæ ·å¯ä»¥å®ç°å¤šæ¥å£ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumDemo5.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * é£Ÿå“æ¥å£</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Food</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token class-name\">String</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * è¿åŠ¨æ¥å£</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Sport</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token class-name\">String</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"18\"></td><td><pre> * ä½¿ç”¨ enum ç±»å®ç°å¤šæ¥å£</pre></td></tr><tr><td data-num=\"19\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"20\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">EnumDemo5</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Food</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Sport</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>   * é£Ÿå“</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  FOOD<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>   * è¿åŠ¨</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  SPORT<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token string\">\"xxxå–œæ¬¢åƒç”œé£Ÿ\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token string\">\"xxxå–œæ¬¢è·‘æ­¥\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EnumDemo5</span><span class=\"token punctuation\">.</span>FOOD<span class=\"token punctuation\">.</span><span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EnumDemo5</span><span class=\"token punctuation\">.</span>SPORT<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        xxx å–œæ¬¢åƒç”œé£Ÿ</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        xxx å–œæ¬¢è·‘æ­¥</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½éœ€è¦å¯¹ä¸€ç»„æ•°æ®è¿›è¡Œåˆ†ç±»ï¼Œæ¯”å¦‚é£Ÿå“èœå•åˆ†ç±»è€Œä¸”å¸Œæœ›è¿™äº›èœå•éƒ½å±äº <code>Foods</code>  ç±»å‹ï¼Œ <code>SichuanCuisine(å·èœ)</code> ã€ <code>LuCuisine(é²èœ)</code> ã€ <code>Cantonese(ç²¤èœ)</code>  ç­‰ï¼Œæ¯ç§åˆ†ç±»ä¸‹åˆæœ‰å¤šç§å…·ä½“çš„èœå¼å’Œé£Ÿå“ï¼Œæ­¤æ—¶å¯ä»¥åˆ©ç”¨æ¥å£æ¥ç»„ç»‡ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Foods.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * é£Ÿå“èœå•æ¥å£</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> *</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Foods</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>     * å·èœ</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">enum</span> <span class=\"token class-name\">SichuanCuisine</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Foods</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>         * èš‚èšä¸Šæ ‘</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token function\">ANTS_ON_TREES</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"èš‚èšä¸Šæ ‘\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>         * éº»è¾£è¡€æ—º</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token function\">SPICY_BLOOD</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"éº»è¾£è¡€æ—º\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>         * å››å·è…Šè‚‰</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token function\">SICHUAN_BACON</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å››å·è…Šè‚‰\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>         * èœå“æè¿°</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> description<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">SichuanCuisine</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> desc<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>description <span class=\"token operator\">=</span> desc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            <span class=\"token keyword\">return</span> description<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>     * é²èœ</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token keyword\">enum</span> <span class=\"token class-name\">LuCuisine</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Foods</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>         * æœ¨é¡»è‚‰</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token function\">MUSHU_MEAT</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æœ¨é¡»è‚‰\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>         * æŠŠå­è‚‰</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token function\">PUT_THE_MEAT</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æŠŠå­è‚‰\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>         * å¾·å·æ‰’é¸¡</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token function\">TEXAS_GRILLED_CHICKEN</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¾·å·æ‰’é¸¡\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>         * èœå“æè¿°</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> description<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token class-name\">LuCuisine</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> desc<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>description <span class=\"token operator\">=</span> desc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>            <span class=\"token keyword\">return</span> description<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>     * ç²¤èœ</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>    <span class=\"token keyword\">enum</span> <span class=\"token class-name\">Cantonese</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Foods</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>         * ç¢Œé¸­</pre></td></tr><tr><td data-num=\"79\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token function\">DUCK</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¢Œé¸­\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"82\"></td><td><pre>         * è™çš®å‡¤çˆª</pre></td></tr><tr><td data-num=\"83\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>        <span class=\"token function\">TIGER_SKIN_CHICKEN_FEET</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è™çš®å‡¤çˆª\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"86\"></td><td><pre>         * ç‚’æ²³ç²‰</pre></td></tr><tr><td data-num=\"87\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>        <span class=\"token function\">FRIED_RIVER_NOODLES</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç‚’æ²³ç²‰\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"91\"></td><td><pre>         * èœå“æè¿°</pre></td></tr><tr><td data-num=\"92\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> description<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>        <span class=\"token class-name\">Cantonese</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> desc<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>description <span class=\"token operator\">=</span> desc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>        <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>            <span class=\"token keyword\">return</span> description<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨æ¥å£ä¸­æ˜¯å¯ä»¥å®šä¹‰æšä¸¾é™æ€å—çš„ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FoodMenu.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: é£Ÿå“èœå•</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-07 22:58</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FoodMenu</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token class-name\">Foods</span> foods <span class=\"token operator\">=</span> <span class=\"token class-name\">Foods<span class=\"token punctuation\">.</span>SichuanCuisine</span><span class=\"token punctuation\">.</span>ANTS_ON_TREES<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ANTS_ON_TREESï¼š\"</span> <span class=\"token operator\">+</span> foods<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    foods <span class=\"token operator\">=</span> <span class=\"token class-name\">Foods<span class=\"token punctuation\">.</span>Cantonese</span><span class=\"token punctuation\">.</span>FRIED_RIVER_NOODLES<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"FRIED_RIVER_NOODLESï¼š\"</span> <span class=\"token operator\">+</span> foods<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    foods <span class=\"token operator\">=</span> <span class=\"token class-name\">Foods<span class=\"token punctuation\">.</span>LuCuisine</span><span class=\"token punctuation\">.</span>TEXAS_GRILLED_CHICKEN<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"TEXAS_GRILLED_CHICKENï¼š\"</span> <span class=\"token operator\">+</span> foods<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            ANTS_ON_TREESï¼šèš‚èšä¸Šæ ‘</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            FRIED_RIVER_NOODLESï¼šç‚’æ²³ç²‰</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            TEXAS_GRILLED_CHICKENï¼šå¾·å·æ‰’é¸¡</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>é€šè¿‡è¿™ç§æ–¹å¼å°±å¯ä»¥å¾ˆæ–¹ä¾¿ç»„ç»‡ä¸Šè¿°åœºæ™¯éœ€æ±‚ï¼ŒåŒæ—¶ç¡®ä¿æ¯ç§å…·ä½“ç±»å‹çš„äº‹ç‰©éƒ½å±äº <code>Foods</code> ï¼Œç°åœ¨æˆ‘ä»¬åˆ©ç”¨ä¸€ä¸ªæšä¸¾åµŒå¥—æšä¸¾çš„æ–¹å¼ï¼ŒæŠŠå‰é¢å®šä¹‰çš„èœè°±å­˜æ”¾åˆ°ä¸€ä¸ª <code>Meal</code>  èœå•ä¸­ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å°±å¯ä»¥ç»Ÿä¸€ç®¡ç†èœå•æ•°æ®äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Meal.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * é£Ÿå“èœå•æ•´åˆ</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> *</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">Meal</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     * å·èœèœå•</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token function\">SICHUANCUISINE</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Foods<span class=\"token punctuation\">.</span>SichuanCuisine</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * é²èœèœå•</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token function\">LUCUISINE</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Foods<span class=\"token punctuation\">.</span>LuCuisine</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     * ç²¤èœèœå•</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token function\">CANTONESE</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Foods<span class=\"token punctuation\">.</span>Cantonese</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Foods</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> values<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Meal</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Foods</span><span class=\"token punctuation\">></span></span> kind<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡ class å¯¹è±¡è·å–æšä¸¾å®ä¾‹</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>values <span class=\"token operator\">=</span> kind<span class=\"token punctuation\">.</span><span class=\"token function\">getEnumConstants</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token class-name\">Foods</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> foods <span class=\"token operator\">=</span> <span class=\"token class-name\">Meal</span><span class=\"token punctuation\">.</span>SICHUANCUISINE<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span>foods<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>f <span class=\"token operator\">-></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å·èœèœå•ï¼š\"</span> <span class=\"token operator\">+</span> f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        foods <span class=\"token operator\">=</span> <span class=\"token class-name\">Meal</span><span class=\"token punctuation\">.</span>LUCUISINE<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span>foods<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>f <span class=\"token operator\">-></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"é²èœèœå•ï¼š\"</span> <span class=\"token operator\">+</span> f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        foods <span class=\"token operator\">=</span> <span class=\"token class-name\">Meal</span><span class=\"token punctuation\">.</span>CANTONESE<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span>foods<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>f <span class=\"token operator\">-></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç²¤èœèœå•ï¼š\"</span> <span class=\"token operator\">+</span> f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>            æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>            å·èœèœå•ï¼šèš‚èšä¸Šæ ‘</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>            å·èœèœå•ï¼šéº»è¾£è¡€æ—º</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            å·èœèœå•ï¼šå››å·è…Šè‚‰</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            é²èœèœå•ï¼šæœ¨é¡»è‚‰</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            é²èœèœå•ï¼šæŠŠå­è‚‰</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>            é²èœèœå•ï¼šå¾·å·æ‰’é¸¡</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            ç²¤èœèœå•ï¼šç¢Œé¸­</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            ç²¤èœèœå•ï¼šè™çš®å‡¤çˆª</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            ç²¤èœèœå•ï¼šç‚’æ²³ç²‰</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"æšä¸¾ä¸switch\"><a class=\"anchor\" href=\"#æšä¸¾ä¸switch\">#</a> æšä¸¾ä¸ switch</h1>\n<blockquote>\n<p>åœ¨ä½¿ç”¨ <code>switch</code>  è¿›è¡Œæ¡ä»¶åˆ¤æ–­æ—¶ï¼Œæ¡ä»¶å‚æ•°ä¸€èˆ¬åªèƒ½æ˜¯æ•´å½¢ã€å­—ç¬¦å‹ï¼Œè€Œæšä¸¾å‹ç¡®å®ä¹Ÿè¢« <code>switch</code>  æ‰€æ”¯æŒï¼Œåœ¨ <code>Java 1.7</code>  å <code>switch</code>  ä¹Ÿå¯¹å­—ç¬¦ä¸²è¿›è¡Œäº†æ”¯æŒï¼Œ <code>switch</code>  ä¸æšä¸¾ç±»å‹çš„ä½¿ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumAndSwitch.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: æšä¸¾ä¸ switch é¥¿æ±‰å¼</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-08 20:45</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumAndSwitch</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token function\">getColorName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>BLUE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token function\">getColorName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>RED<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>         æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>         è“è‰²</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>         çº¢è‰²</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">getColorName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span> color<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token keyword\">case</span> BROWN <span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ£•è‰²\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      <span class=\"token keyword\">case</span> RED <span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"çº¢è‰²\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>      <span class=\"token keyword\">case</span> ORANGE <span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ©™è‰²\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      <span class=\"token keyword\">case</span> YELLOW <span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"é»„è‰²\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      <span class=\"token keyword\">case</span> GREEN <span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç»¿è‰²\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token keyword\">case</span> BLUE <span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è“è‰²\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>      <span class=\"token keyword\">case</span> PURPLE <span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç´«è‰²\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>      <span class=\"token keyword\">case</span> GRAY <span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç°è‰²\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>      <span class=\"token keyword\">case</span> WHITE <span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç™½è‰²\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>      <span class=\"token keyword\">case</span> BLACK <span class=\"token operator\">-></span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"é»‘è‰²\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">Color</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>     * æ£•</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    BROWN<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>     * çº¢</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    RED<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>     * æ©™</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    ORANGE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>     * é»„</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    YELLOW<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>     * ç»¿</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    GREEN<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>     * è“</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    BLUE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>     * ç´«</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    PURPLE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"65\"></td><td><pre>     * ç°</pre></td></tr><tr><td data-num=\"66\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>    GRAY<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>     * ç™½</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    WHITE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>     * é»‘</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    BLACK<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre></pre></td></tr><tr><td data-num=\"78\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä½¿ç”¨æšä¸¾è¿›è¡Œ <code>switch</code>  æ¡ä»¶åˆ¤æ–­æ—¶æ— éœ€ä½¿ç”¨ <code>Color</code>  å¼•ç”¨ã€‚</p>\n</blockquote>\n<h1 id=\"æšä¸¾ä¸å•ä¾‹æ¨¡å¼\"><a class=\"anchor\" href=\"#æšä¸¾ä¸å•ä¾‹æ¨¡å¼\">#</a> æšä¸¾ä¸å•ä¾‹æ¨¡å¼</h1>\n<blockquote>\n<p>å•ä¾‹æ¨¡å¼å®ƒçš„ä½œç”¨æ˜¯ç¡®ä¿æŸä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œè‡ªè¡Œå®ä¾‹åŒ–å¹¶å‘æ•´ä¸ªç³»ç»Ÿæä¾›æ•´ä¸ªå®ä¾‹ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œçº¿ç¨‹æ± ã€ç¼“å­˜ã€æ—¥å¿—å¯¹è±¡ã€å¯¹è¯æ¡†å¯¹è±¡å¸¸è¢«è®¾è®¡æˆå•ä¾‹æ¨¡å¼ï¼Œæ€»ä¹‹é€‰æ‹©å•ä¾‹æ¨¡å¼å°±æ˜¯ä¸ºäº†é¿å…çŠ¶æ€ä¸ä¸€è‡´ï¼Œä¸‹é¢æ˜¯å•ä¾‹æ¨¡å¼çš„å‡ ç§ä¸»è¦ç¼–å†™æ–¹å¼ï¼Œä»è€Œå¯¹æ¯”å‡ºä½¿ç”¨æšä¸¾å®ç°å•ä¾‹æ¨¡å¼çš„ä¼˜ç‚¹ã€‚</p>\n</blockquote>\n<h2 id=\"é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼\"><a class=\"anchor\" href=\"#é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼\">#</a> é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>HungryChineseStyle.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼ (åŸºäº classloder æœºåˆ¶é¿å…äº†å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜)</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-08 21:25</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HungryChineseStyle</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">HungryChineseStyle</span> INSTANCE <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HungryChineseStyle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">HungryChineseStyle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">HungryChineseStyle</span> <span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">return</span> INSTANCE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æ˜¾ç„¶è¿™ç§å†™æ³•å¾ˆç®€å•ï¼Œä½†é—®é¢˜æ˜¯æ— æ³•åšåˆ°å»¶è¿Ÿåˆ›å»ºå¯¹è±¡ï¼Œäº‹å®ä¸Šå¦‚æœè¯¥å•ä¾‹ç±»æ¶‰åŠèµ„æºè¾ƒå¤šï¼Œåˆ›å»ºæ¯”è¾ƒè€—è´¹æ—¶é—´æ—¶ï¼Œæˆ‘ä»¬æ›´å¸Œæœ›å®ƒå¯ä»¥å°½å¯èƒ½åœ°å»¶è¿ŸåŠ è½½ï¼Œä»è€Œå‡å°åˆå§‹åŒ–çš„è´Ÿè½½ï¼Œä»è€Œå°±æœ‰äº†æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼ã€‚</p>\n</blockquote>\n<h2 id=\"æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼\"><a class=\"anchor\" href=\"#æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼\">#</a> æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Lazy.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼ (é€‚åˆå¤šçº¿ç¨‹å®‰å…¨)</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-08 23:05</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Lazy</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Lazy</span> INSTANCE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">synchronized</span> <span class=\"token class-name\">Lazy</span> <span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>INSTANCE <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            INSTANCE <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">return</span> INSTANCE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è¿™ç§å†™æ³•èƒ½å¤Ÿåœ¨å¤šçº¿ç¨‹ä¸­å¾ˆå¥½é¿å…åŒæ­¥é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿå…·å¤‡ <code>lazy loading</code>  æœºåˆ¶ï¼Œé—æ†¾çš„æ˜¯ç”±äº <code>synchronized</code>  çš„å­˜åœ¨ï¼Œæ•ˆç‡å¾ˆä½ï¼Œåœ¨å•çº¿ç¨‹çš„æƒ…å¢ƒä¸‹å®Œå…¨å¯ä»¥å»æ‰ <code>synchronize</code>  ä¸ºäº†æ•ˆç‡ä¸æ€§èƒ½é—®é¢˜ï¼Œæ”¹è¿›åçš„ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<h2 id=\"åŒé‡æ£€æŸ¥é”å•ä¾‹æ¨¡å¼\"><a class=\"anchor\" href=\"#åŒé‡æ£€æŸ¥é”å•ä¾‹æ¨¡å¼\">#</a> åŒé‡æ£€æŸ¥é”å•ä¾‹æ¨¡å¼</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DoubleCheckLock.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: æ‡’æ±‰å¼ - åŒé‡æ£€æŸ¥é”</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-08 23:14</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DoubleCheckLock</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">volatile</span> <span class=\"token class-name\">DoubleCheckLock</span> instance<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token class-name\">DoubleCheckLock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">DoubleCheckLock</span> <span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>instance<span class=\"token operator\">==</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token keyword\">synchronized</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DoubleCheckLock</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>instance<span class=\"token operator\">==</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>          instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DoubleCheckLock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">return</span> instance<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è¿™ç§æ–¹å¼è¢«ç§°ä¸º <code>åŒé‡æ£€æŸ¥é”</code> ï¼Œä¸»è¦åœ¨ <code>getInstance()</code>  æ–¹æ³•ä¸­ï¼Œè¿›è¡Œäº†ä¸¤æ¬¡ <code>if(instance==null)</code>  åˆ¤ç©ºæ£€æŸ¥ï¼Œå¯ä»¥æå¤§æå‡å¹¶å‘åº¦ï¼Œè¿›è€Œæå‡æ€§èƒ½ï¼Œæ¯•ç«Ÿåœ¨å•ä¾‹æ¨¡å¼ä¸­ <code>new</code>  çš„æƒ…å†µéå¸¸å°‘ï¼Œç»å¤§å¤šéƒ½æ˜¯å¯ä»¥å¹¶è¡Œæ“ä½œï¼Œå› æ­¤åœ¨æ·é”å‰å¤šè¿›è¡Œä¸€æ¬¡ <code>null</code>  æ£€æŸ¥å¯ä»¥å‡å°‘ç»å¤§å¤šæ•°çš„æ·é”æ“ä½œï¼Œä¹Ÿå°±æé«˜äº†æ‰§è¡Œæ•ˆç‡ã€‚ä½†æ˜¯å¿…é¡»æ³¨æ„çš„æ˜¯ <code>volatile</code>  å…³é”®å­—ï¼Œè¯¥å…³é”®å­—æœ‰ä¸¤å±‚è¯­ä¹‰ï¼Œç¬¬ä¸€å±‚æ˜¯å¯è§æ€§ï¼Œå¯è§æ€§æ˜¯æŒ‡åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­å¯¹è¯¥å˜é‡çš„ä¿®æ”¹ä¼šé©¬ä¸Šç”±å·¥ä½œå†…å­˜ ( <code>Work Memory</code> ) å†™å›ä¸»å†…å­˜ ( <code>Main Memory</code> )ï¼Œæ‰€ä»¥å…¶å®ƒçº¿ç¨‹ä¼šé©¬ä¸Šè¯»å–åˆ°å·²ä¿®æ”¹çš„å€¼ï¼Œå…³äºå·¥ä½œå†…å­˜å’Œä¸»å†…å­˜å¯ä»¥ç®€å•ç†è§£ä¸ºé«˜é€Ÿç¼“å­˜ (ç›´æ¥ä¸ <code>CPU</code>  æ‰“äº¤é“) å’Œä¸»å­˜ (ä»£è¡¨å†…å­˜æ¡)ï¼Œæ³¨æ„å·¥ä½œå†…å­˜æ˜¯çº¿ç¨‹ç‹¬äº«çš„ï¼Œä¸»å­˜æ˜¯çº¿ç¨‹å…±äº«çš„ã€‚ <code>volatile</code>  çš„ç¬¬äºŒæ¬¡è¯­ä¹‰æ˜¯ç¦æ­¢æŒ‡ä»¤é‡æ’åºä¼˜åŒ–ï¼Œæˆ‘ä»¬å†™çš„ä»£ç  (ç‰¹åˆ«æ˜¯å¤šçº¿ä»£ç )ï¼Œç”±äºç¼–è¯‘å™¨ä¼˜åŒ–ï¼Œä¼šåœ¨å®é™…æ‰§è¡Œçš„æ—¶å€™å¯èƒ½ä¸æˆ‘ä»¬ç¼–å†™çš„é¡ºåºä¸åŒã€‚ç¼–è¯‘å™¨åªä¿è¯ç¨‹åºæ‰§è¡Œç»“æœä¸æºç ç›¸åŒï¼Œå´ä¸ä¿è¯å®é™…æŒ‡ä»¤çš„é¡ºåºä¸æºç ç›¸åŒï¼Œè¿™åœ¨å•çº¿ç¨‹ä¸­å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œç„¶è€Œä¸€æ—¦å¼•å…¥å¤šçº¿ç¨‹ç¯å¢ƒï¼Œè¿™ç§ä¹±åºå°±å¯èƒ½å¯¼è‡´ä¸¥é‡é—®é¢˜ã€‚ <code>volatile</code>  å…³é”®å­—å°±å¯ä»¥ä»è¯­ä¹‰ä¸Šè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå€¼å¾—å…³æ³¨çš„æ˜¯ <code>volatile</code>  çš„ç¦æ­¢æŒ‡ä»¤é‡æ’åºä¼˜åŒ–åŠŸèƒ½åœ¨ <code>Java 1.5</code>  åæ‰å¾—ä»¥å®ç°ï¼Œå› æ­¤åœ¨ <code>Java 1.5</code>  ä¹‹å‰çš„ç‰ˆæœ¬ä»ç„¶æ˜¯ä¸å®‰å…¨çš„ï¼Œå³ä½¿ä½¿ç”¨ <code>volatile</code>  å…³é”®å­—ï¼Œæˆ–è®¸æˆ‘ä»¬å¯ä»¥åˆ©ç”¨é™æ€å†…éƒ¨ç±»æ¥å®ç°æ›´å®‰å…¨çš„æœºåˆ¶ã€‚</p>\n</blockquote>\n<h2 id=\"é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼\"><a class=\"anchor\" href=\"#é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼\">#</a> é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>StaticInnerClass.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-08 23:34</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">StaticInnerClass</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Holder</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">StaticInnerClass</span> INSTANCE <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StaticInnerClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token class-name\">StaticInnerClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">StaticInnerClass</span> <span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token class-name\">Holder</span><span class=\"token punctuation\">.</span>INSTANCE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸Šè¿°ä»£ç å±•ç¤ºçš„å°±æ˜¯é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼ï¼Œæˆ‘ä»¬æŠŠ <code>INSTANCE</code>  å®ä¾‹æ”¾åˆ°ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…äº†é™æ€å®ä¾‹åœ¨ <code>INSTANCE</code>  ç±»çš„åŠ è½½é˜¶æ®µå°±åˆ›å»ºå¯¹è±¡ï¼Œæ¯•ç«Ÿé™æ€å˜é‡åˆå§‹åŒ–æ˜¯åœ¨ <code>StaticInnerClass</code>  ç±»åˆå§‹åŒ–æ—¶è§¦å‘çš„ï¼Œå¹¶ä¸”ç”±äºé™æ€å†…éƒ¨ç±»åªä¼šè¢«åŠ è½½ä¸€æ¬¡ï¼Œæ‰€ä»¥è¿™ç§å†™æ³•ä¹Ÿæ˜¯çº¿ç¨‹å®‰å…¨ã€‚</p>\n</blockquote>\n<h2 id=\"é˜²æ­¢è¢«ç ´åå•ä¾‹æ¨¡å¼\"><a class=\"anchor\" href=\"#é˜²æ­¢è¢«ç ´åå•ä¾‹æ¨¡å¼\">#</a> é˜²æ­¢è¢«ç ´åå•ä¾‹æ¨¡å¼</h2>\n<ul>\n<li>\n<p>ä»ä¸Šè¿° <code>4</code>  ç§å•ä¾‹æ¨¡å¼çš„å†™æ³•ä¸­ï¼Œä¼¼ä¹ä¹Ÿè§£å†³äº†æ•ˆç‡ä¸æ‡’åŠ è½½é—®é¢˜ï¼Œä½†æ˜¯ä»–ä»¬éƒ½æœ‰ä¸¤ä¸ªå…±åŒç¼ºç‚¹ï¼š</p>\n<ul>\n<li>åºåˆ—åŒ–å¯èƒ½ä¼šç ´åå•ä¾‹æ¨¡å¼ï¼Œæ¯”è¾ƒæ¯æ¬¡ååºåˆ—åŒ–ä¸€ä¸ªåºåˆ—åŒ–çš„å¯¹è±¡å®ä¾‹æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œè§£å†³æ–¹æ¡ˆä»£ç å¦‚ä¸‹ï¼š</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Singleton.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> </pre></td></tr><tr><td data-num=\"3\"></td><td><pre> <span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Serial</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre> <span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Serializable</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre> </pre></td></tr><tr><td data-num=\"6\"></td><td><pre> <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  * @Author: LightRain</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  * @Description: é¿å…ååºåˆ—åŒ–ç ´åå•ä¾‹æ¨¡å¼</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  * @DateTime: 2023-12-08 23:48</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  **/</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre> <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Singleton</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Singleton</span> INSTANCE <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Singleton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre> </pre></td></tr><tr><td data-num=\"15\"></td><td><pre>   <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Singleton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre> </pre></td></tr><tr><td data-num=\"17\"></td><td><pre>   <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre> </pre></td></tr><tr><td data-num=\"19\"></td><td><pre>   <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    * ååºåˆ—æ—¶ç›´æ¥è¿”å›å½“å‰ INSTANCE</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    * @return Object;</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    */</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>   <span class=\"token annotation punctuation\">@Serial</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>   <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">readResolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>     <span class=\"token keyword\">return</span> INSTANCE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>   <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre> </pre></td></tr><tr><td data-num=\"28\"></td><td><pre> <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>\n<p>ä½¿ç”¨åå°„å¼ºè¡Œè°ƒç”¨ç§æœ‰æ„é€ å™¨ï¼Œè§£å†³æ–¹å¼å¯ä»¥ä¿®æ”¹æ„é€ å™¨ï¼Œè®©å®ƒåœ¨åˆ›å»ºç¬¬äºŒä¸ªå®ä¾‹çš„æ—¶å€™æŠ›å‡ºå¼‚å¸¸ï¼Œè§£å†³æ–¹æ¡ˆä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Singleton2</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: é¿å…ä½¿ç”¨åå°„å¼ºè¡Œç ´åå•ä¾‹æ¨¡å¼</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-08 23:56</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Singleton2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Singleton2</span> INSTANCE <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Singleton2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">volatile</span> <span class=\"token keyword\">boolean</span> flag <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token class-name\">Singleton2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>flag<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      flag <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"The instance  already exists ï¼\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Singleton2</span> <span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">return</span> INSTANCE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>å¦‚ä¸Šæ‰€è¿°ï¼Œé—®é¢˜ç¡®å®ä¹Ÿå¾—åˆ°äº†è§£å†³ï¼Œä½†é—®é¢˜æ˜¯æˆ‘ä»¬ä¸ºæ­¤ä»˜å‡ºäº†ä¸å°‘åŠªåŠ›ï¼Œå³æ·»åŠ äº†ä¸å°‘çš„ä»£ç ï¼Œè¿˜åº”è¯¥æ³¨æ„åˆ°å¦‚æœå•ä¾‹ç±»ç»´æŒäº†å…¶å®ƒå¯¹è±¡çš„çŠ¶æ€æ—¶è¿˜éœ€è¦ä½¿å®ƒä»¬æˆä¸º <code>transient</code>  å¯¹è±¡ï¼Œè¿™ç§å°±æ›´å¤æ‚äº†ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ç®€å•è¿˜é«˜æ•ˆçš„å‘¢ï¼Ÿå½“ç„¶é‚£å°±æ˜¯æšä¸¾å•ä¾‹äº†ï¼Œæ¥çœ‹çœ‹å¦‚ä½•å®ç°ï¼Œå¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumSingleton.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * æšä¸¾å•ä¾‹æ¨¡å¼</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> *</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">EnumSingleton</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>     * å®ä¾‹</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    INSTANCE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">return</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä»£ç ç›¸å½“ç®€æ´ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒå¸¸è§„ç±»ä¸€æ ·ç¼–å†™ <code>enum</code>  ç±»ï¼Œä¸ºå…¶æ·»åŠ å˜é‡å’Œæ–¹æ³•ï¼Œè®¿é—®æ–¹å¼ä¹Ÿæ›´ç®€å•ï¼Œä½¿ç”¨ <code>EnumSingleton.INSTANCE</code>  è¿›è¡Œè®¿é—®ï¼Œè¿™æ ·ä¹Ÿå°±é¿å…è°ƒç”¨ <code>getInstance()</code>  æ–¹æ³•ï¼Œæ›´é‡è¦çš„æ˜¯ä½¿ç”¨æšä¸¾å•ä¾‹çš„å†™æ³•ï¼Œæˆ‘ä»¬å®Œå…¨ä¸ç”¨è€ƒè™‘åºåˆ—åŒ–å’Œåå°„é—®é¢˜ï¼Œæšä¸¾åºåˆ—åŒ–æ˜¯ç”± <code>JVM</code>  ä¿è¯çš„ï¼Œæ¯ä¸€ä¸ªæšä¸¾ç±»å‹å’Œå®šä¹‰çš„æšä¸¾å˜é‡åœ¨ <code>JVM</code>  ä¸­éƒ½æ˜¯å”¯ä¸€çš„ï¼Œåœ¨æšä¸¾ç±»å‹çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ä¸Š <code>Java</code>  åšäº†ç‰¹æ®Šçš„è§„å®šï¼Œåœ¨åºåˆ—åŒ–æ˜¯ <code>Java</code>  ä»…ä»…æ˜¯å°†æšä¸¾å¯¹è±¡çš„ <code>name</code>  å±æ€§è¾“å‡ºåˆ°ç»“æœä¸­ï¼Œååºåˆ—åŒ–çš„æ—¶å€™åˆ™æ˜¯é€šè¿‡ <code>java.lang.Enum</code>  çš„ <code>valueOf()</code>  æ–¹æ³•æ¥æ ¹æ®åå­—æŸ¥æ‰¾æšä¸¾å¯¹è±¡ï¼ŒåŒæ—¶ç¼–è¯‘å™¨æ˜¯ä¸å…è®¸ä»»ä½•å¯¹è¿™ç§åºåˆ—åŒ–æœºåˆ¶çš„å®šåˆ¶å¹¶ç¦ç”¨ <code>writeObject</code> ã€ <code>readObject</code> ã€ <code>readObjectNoDat</code> ã€ <code>writeReplace</code> ã€ <code>readResolve</code>  ç­‰æ–¹æ³•ï¼Œä»è€Œä¿è¯äº†æšä¸¾å®ä¾‹çš„å”¯ä¸€æ€§ï¼Œä¸å¦¨æ¥çœ‹çœ‹ <code>Enum</code>  ç±»çš„ <code>valueOf()</code>  æ–¹æ³•æºç ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Enum.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Constable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Comparable</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">T</span> <span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> enumClass<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token class-name\">T</span> result <span class=\"token operator\">=</span> enumClass<span class=\"token punctuation\">.</span><span class=\"token function\">enumConstantDirectory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NullPointerException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Name is null\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token string\">\"No enum constant \"</span> <span class=\"token operator\">+</span> enumClass<span class=\"token punctuation\">.</span><span class=\"token function\">getCanonicalName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".\"</span> <span class=\"token operator\">+</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å®é™…ä¸Šé€šè¿‡è°ƒç”¨ <code>enumClass</code>  çš„ <code>enumConstantDirectory()</code>  æ–¹æ³•è·å–åˆ°çš„æ˜¯ä¸€ä¸ª <code>Map</code>  é›†åˆï¼Œåœ¨è¯¥é›†åˆä¸­å­˜æ”¾äº†ä»¥æšä¸¾ <code>name</code>  ä¸º <code>key</code>  å’Œä»¥æšä¸¾å®ä¾‹å˜é‡ä¸º <code>value</code>  çš„ <code>key</code> &amp; <code>value</code>  æ•°æ®ï¼Œå› æ­¤é€šè¿‡ <code>name</code>  çš„å€¼å°±å¯ä»¥è·å–åˆ°æšä¸¾å®ä¾‹ï¼Œä¸‹é¢æ˜¯ <code>enumConstantDirectory()</code>  æºç ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Class.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token class-name\">GenericDeclaration</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token class-name\">Type</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token class-name\">AnnotatedElement</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token class-name\">TypeDescriptor<span class=\"token punctuation\">.</span>OfField</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Class</span><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token class-name\">Constable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">enumConstantDirectory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> directory <span class=\"token operator\">=</span> enumConstantDirectory<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>directory <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">//getEnumConstantsShared () æœ€ç»ˆé€šè¿‡åå°„è°ƒç”¨æšä¸¾ç±»çš„ values æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> universe <span class=\"token operator\">=</span> <span class=\"token function\">getEnumConstantsShared</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>universe <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" is not an enum class\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      directory <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>universe<span class=\"token punctuation\">.</span>length <span class=\"token operator\">/</span> <span class=\"token number\">0.75f</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token comment\">//map å­˜æ”¾äº†å½“å‰ enum ç±»çš„æ‰€æœ‰æšä¸¾å®ä¾‹å˜é‡ï¼Œä»¥ name ä¸º key</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span> constant <span class=\"token operator\">:</span> universe<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        directory<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span>constant<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> constant<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      enumConstantDirectory <span class=\"token operator\">=</span> directory<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">return</span> directory<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">transient</span> <span class=\"token keyword\">volatile</span> <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> enumConstantDirectory<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åˆ°è¿™é‡Œæˆ‘ä»¬ä¹Ÿå°±å¯ä»¥çœ‹å‡ºæšä¸¾åºåˆ—åŒ–ç¡®å®ä¸ä¼šé‡æ–°åˆ›å»ºæ–°å®ä¾‹ï¼Œ <code>JVM</code>  ä¿è¯äº†æ¯ä¸ªæšä¸¾å®ä¾‹å˜é‡çš„å”¯ä¸€æ€§ï¼Œä¸‹é¢å°±æ˜¯æ¥çœ‹ä½¿ç”¨åå°„èƒ½ä¸èƒ½åˆ›å»ºæšä¸¾ï¼Œé€šè¿‡åå°„è·å–æ„é€ å™¨å¹¶åˆ›å»ºæšä¸¾ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ReflectionCreateEnumeration.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Constructor</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">InvocationTargetException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Description: åå°„åˆ›å»ºæšä¸¾å®ä¾‹æµ‹è¯•</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @DateTime: 2023-12-09 11:30</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ReflectionCreateEnumeration</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">NoSuchMethodException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InvocationTargetException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InstantiationException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IllegalAccessException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">// è·å–æšä¸¾ç±»çš„æ„é€ å‡½æ•°</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token class-name\">Constructor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">EnumSingleton</span><span class=\"token punctuation\">></span></span> declaredConstructor <span class=\"token operator\">=</span> <span class=\"token class-name\">EnumSingleton</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructor</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">// æš´åŠ›ç ´è§£</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    declaredConstructor<span class=\"token punctuation\">.</span><span class=\"token function\">setAccessible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token comment\">// åˆ›å»ºæšä¸¾</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token class-name\">EnumSingleton</span> otherInstance <span class=\"token operator\">=</span> declaredConstructor<span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"otherInstance\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>          Exception in thread \"main\" java.lang.IllegalArgumentException: Cannot reflectively create enum objects</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            at java.base/java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:492)</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            at java.base/java.lang.reflect.Constructor.newInstance (Constructor.java:480)</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            at top.rem.rain.ReflectionCreateEnumeration.main (ReflectionCreateEnumeration.java:19)</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>æ‰§è¡Œç»“æœ</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">Exception</span> in thread <span class=\"token string\">\"main\"</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>IllegalArgumentException</span><span class=\"token operator\">:</span> <span class=\"token class-name\">Cannot</span> reflectively create <span class=\"token keyword\">enum</span> objects</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\tat java<span class=\"token punctuation\">.</span>base<span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span>Constructor</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstanceWithCaller</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Constructor</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">492</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\tat java<span class=\"token punctuation\">.</span>base<span class=\"token operator\">/</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span>Constructor</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Constructor</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">480</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\tat <span class=\"token class-name\"><span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span></span>ReflectionCreateEnumeration</span><span class=\"token punctuation\">.</span><span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReflectionCreateEnumeration</span><span class=\"token punctuation\">.</span>java<span class=\"token operator\">:</span><span class=\"token number\">19</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><blockquote>\n<p>å¾ˆæ˜¾ç„¶æ˜¯å‘Šè¯‰æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨åå°„åˆ›å»ºæšä¸¾ç±»ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢æ¥ç»§ç»­æ¢ç©¶ <code>newInstance()</code>  æ–¹æ³•æºç ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Constructor.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Constructor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Executable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token annotation punctuation\">@CallerSensitive</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token annotation punctuation\">@ForceInline</span> <span class=\"token comment\">// to ensure Reflection.getCallerClass optimization</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">T</span> <span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> initargs<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>          <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InstantiationException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IllegalAccessException</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>          <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InvocationTargetException</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> caller <span class=\"token operator\">=</span> override <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> <span class=\"token class-name\">Reflection</span><span class=\"token punctuation\">.</span><span class=\"token function\">getCallerClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token function\">newInstanceWithCaller</span><span class=\"token punctuation\">(</span>initargs<span class=\"token punctuation\">,</span> <span class=\"token operator\">!</span>override<span class=\"token punctuation\">,</span> caller<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token comment\">/* package-private */</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token class-name\">T</span> <span class=\"token function\">newInstanceWithCaller</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">,</span> <span class=\"token keyword\">boolean</span> checkAccess<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> caller<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>          <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InstantiationException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IllegalAccessException</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>          <span class=\"token class-name\">InvocationTargetException</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>checkAccess<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token function\">checkAccess</span><span class=\"token punctuation\">(</span>caller<span class=\"token punctuation\">,</span> clazz<span class=\"token punctuation\">,</span> clazz<span class=\"token punctuation\">,</span> modifiers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token comment\">// åœ¨è¿™é‡Œåˆ¤æ–­ Modifier.ENUM æ˜¯ä¸æ˜¯æšä¸¾ä¿®é¥°çš„ï¼Œå¦‚æœæ˜¯åˆ™æŠ›å‡ºå¼‚å¸¸</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getModifiers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> <span class=\"token class-name\">Modifier</span><span class=\"token punctuation\">.</span>ENUM<span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot reflectively create enum objects\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token class-name\">ConstructorAccessor</span> ca <span class=\"token operator\">=</span> constructorAccessor<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// read volatile</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ca <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>      ca <span class=\"token operator\">=</span> <span class=\"token function\">acquireConstructorAccessor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token annotation punctuation\">@SuppressWarnings</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"unchecked\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token class-name\">T</span> inst <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span> ca<span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">return</span> inst<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä»æºç ä¸­æ¥çœ‹å¾ˆæ˜¾ç„¶ï¼Œç¡®å®æ— æ³•ä½¿ç”¨åå°„åˆ›å»ºæšä¸¾å®ä¾‹ï¼Œä¹Ÿå°±è¯´æ˜äº†åˆ›å»ºæšä¸¾å®ä¾‹åªæœ‰ç¼–è¯‘å™¨èƒ½å¤Ÿåšåˆ°ï¼Œæ˜¾ç„¶æšä¸¾è®¢å•é‡Œæ¨¡å¼ç¡®å®æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå› æ­¤æˆ‘ä»¬æ¨èä½¿ç”¨å®ƒã€‚<br />\nä½†æ˜¯è¿™æ€»ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå¯¹äº <code>Android</code>  å¹³å°è¿™ä¸ªå¯èƒ½æœªå¿…æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œåœ¨ <code>Android</code>  å¼€å‘ä¸­ï¼Œå†…å­˜ä¼˜åŒ–æ˜¯ä¸ªå¤§å—å¤´ï¼Œè€Œä½¿ç”¨æšä¸¾æ—¶å ç”¨çš„å†…å­˜å°å°æ˜¯é™æ€å˜é‡è®¢å•ä¸¤å€ï¼Œå› æ­¤ <code>Android</code>  å®˜æ–¹åœ¨å†…å­˜ä¼˜åŒ–æ–¹é¢ç»™å‡ºçš„å»ºè®®æ˜¯å°½é‡é¿å…åœ¨ <code>Android</code>  ä¸­ä½¿ç”¨ <code>enum</code> ã€‚ä¸ç®¡å¦‚ä½•ï¼Œå…³äºå•ä¾‹æ¨¡å¼ï¼Œæˆ‘ä»¬æ€»æ˜¯åº”è¯¥è®°ä½ï¼šçº¿ç¨‹å®‰å…¨ã€å»¶è¿ŸåŠ è½½ã€åºåˆ—åŒ–ä¸ååºåˆ—åŒ–å®‰å…¨ï¼Œåå°„å®‰å…¨æ˜¯å¾ˆé‡è¦çš„ã€‚</p>\n</blockquote>\n<h1 id=\"enummap\"><a class=\"anchor\" href=\"#enummap\">#</a> EnumMap</h1>\n<h2 id=\"enummapåŸºæœ¬ç”¨æ³•\"><a class=\"anchor\" href=\"#enummapåŸºæœ¬ç”¨æ³•\">#</a> EnumMap åŸºæœ¬ç”¨æ³•</h2>\n<blockquote>\n<p>æœ‰è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œç°åœ¨æˆ‘ä»¬æœ‰ä¸€å †å¤§å°ç›¸åŒè€Œé¢œè‰²ä¸åŒçš„æ•°æ®ï¼Œéœ€è¦ç»Ÿè®¡å‡ºæ¯ç§é¢œè‰²çš„æ•°é‡æ˜¯å¤šå°‘ä»¥ä¾¿å°†æ•°æ®å½•å…¥ä»“åº“ï¼Œå®šä¹‰å¦‚ä¸‹æšä¸¾ç”¨äºè¡¨ç¤ºé¢œè‰²ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Colors.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">Colors</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    GREEN<span class=\"token punctuation\">,</span>RED<span class=\"token punctuation\">,</span>BLUE<span class=\"token punctuation\">,</span>YELLOW</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼Œä½¿ç”¨ <code>Map</code>  é›†åˆæ¥ç»Ÿè®¡ï¼Œ <code>key</code>  å€¼ä½œä¸ºé¢œè‰²åç§°ï¼Œ <code>value</code>  ä»£è¡¨è¿è´¹æ•°é‡ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumMapBasicUsage.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: EnumMap åŸºæœ¬ç”¨æ³•</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-09 13:01</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumMapBasicUsage</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Clothes</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Clothes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C001\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>BLUE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Clothes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C002\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>YELLOW<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Clothes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C003\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>RED<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Clothes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C004\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>GREEN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Clothes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C005\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>BLUE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Clothes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C006\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>BLUE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Clothes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C007\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>RED<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Clothes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C008\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>YELLOW<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Clothes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C009\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>YELLOW<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Clothes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C010\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>GREEN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">// ç¬¬ä¸€ç§ï¼šä½¿ç”¨ HashMap</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Clothes</span> clothes <span class=\"token operator\">:</span> list<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token class-name\">String</span> colorName <span class=\"token operator\">=</span> clothes<span class=\"token punctuation\">.</span><span class=\"token function\">getColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token class-name\">Integer</span> count <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>colorName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>colorName<span class=\"token punctuation\">,</span> count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>                map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>colorName<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"---------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token comment\">// ç¬¬äºŒç§ï¼šä½¿ç”¨ EnumMap</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> enumMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Clothes</span> clothes <span class=\"token operator\">:</span> list<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            <span class=\"token class-name\">Color</span> color <span class=\"token operator\">=</span> clothes<span class=\"token punctuation\">.</span><span class=\"token function\">getColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token class-name\">Integer</span> count <span class=\"token operator\">=</span> enumMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>count<span class=\"token operator\">!=</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>                enumMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">,</span> count<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>                enumMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>enumMap<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            &#123;RED=2, BLUE=3, YELLOW=3, GREEN=2&#125;</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            ---------------</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            &#123;GREEN=2, RED=2, BLUE=3, YELLOW=3&#125;</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">Color</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>         * ç»¿è‰²</pre></td></tr><tr><td data-num=\"63\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        GREEN<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"66\"></td><td><pre>         * çº¢è‰²</pre></td></tr><tr><td data-num=\"67\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        RED<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>         * è“è‰²</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        BLUE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>         * é»„è‰²</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        YELLOW</pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Clothes</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token class-name\">Color</span> colors<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Clothes</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span> colors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>colors <span class=\"token operator\">=</span> colors<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>            <span class=\"token keyword\">return</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Color</span> <span class=\"token function\">getColors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>            <span class=\"token keyword\">return</span> colors<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setColors</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span> colors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>colors <span class=\"token operator\">=</span> colors<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Color</span> <span class=\"token function\">getColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span>colors<span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre></pre></td></tr><tr><td data-num=\"109\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æˆ‘ä»¬ä½¿ç”¨äº†ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼Œç¬¬ä¸€ç§æ˜¯ <code>HashMap</code> , ç¬¬äºŒç§æ˜¯ <code>EnumMap</code> , è™½ç„¶éƒ½ç»Ÿè®¡å‡ºäº†æ­£ç¡®çš„ç»“æœï¼Œä½†æ˜¯ <code>EnumMap</code>  ä½œä¸ºæšä¸¾çš„ä¸“å±é›†åˆï¼Œæˆ‘ä»¬æ²¡æœ‰ç†ç”±å†å»ä½¿ç”¨ <code>HashMap</code> ï¼Œæ¯•ç«Ÿ <code>EnumMap</code>  è¦æ±‚å…¶ <code>KEY</code>  å¿…é¡»ä¸º <code>Enum</code>  ç±»å‹çš„ï¼Œå› æ­¤ä½¿ç”¨ <code>Color</code>  æšä¸¾å®ä¾‹ä½œä¸º <code>KEY</code>  æœ€æ°å½“ä¸è¿‡äº†ï¼Œä¹Ÿé¿å…äº†è·å– <code>name</code>  çš„æ­¥éª¤ï¼Œæ›´é‡è¦çš„æ˜¯ <code>EnumMap</code>  æ•ˆç‡æ›´é«˜ï¼Œå› ä¸ºå…¶å†…éƒ¨æ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ï¼Œæ³¨æ„ <code>EnumMap</code>  çš„ <code>Key</code>  å€¼ä¸èƒ½ä¸º <code>null</code> ï¼Œè™½è¯´æ˜¯æšä¸¾ä¸“å±é›†åˆï¼Œä½†å…¶æ“ä½œä¸ä¸€èˆ¬çš„ <code>Map</code>  å·®ä¸å¤šï¼Œæ¦‚æ‹¬æ€§æ¥è¯´ <code>EnumMap</code>  æ˜¯ä¸“é—¨ä¸ºæšä¸¾ç±»å‹é‡èº«å®šåˆ¶çš„ <code>Map</code>  å®ç°ï¼Œè™½ç„¶ä½¿ç”¨å…¶å®ƒçš„ <code>Map</code>  (å¦‚ï¼š <code>HashMap</code> ) ç±»å‹ä¹Ÿèƒ½å®Œæˆç›¸åŒåŠŸèƒ½ï¼Œä½†æ˜¯ä½¿ç”¨ <code>EnumMap</code>  ä¼šæ›´åŠ é«˜æ•ˆï¼Œå®ƒåªèƒ½æ¥æ”¶åŒä¸€æšæšä¸¾ç±»å‹çš„å®ä¾‹ä½œä¸ºé”®å€¼ä¸”ä¸èƒ½ä¸º <code>null</code> ï¼Œç”±äºæšä¸¾ç±»å‹å®ä¾‹çš„æ•°é‡ç›¸å¯¹å›ºå®šå¹¶ä¸”æœ‰é™ï¼Œæ‰€ä»¥ <code>EnumMap</code>  ä½¿ç”¨æ•°ç»„æ¥å­˜æ”¾ä¸æšä¸¾ç±»å‹å¯¹åº”çš„å€¼ï¼Œæ¯•ç«Ÿæ•°ç»„æ˜¯ä¸€æ®µè¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæ ¹æ®ç¨‹åºå±€éƒ¨æ€§åŸç†ï¼Œæ•ˆç‡ä¼šç›¸å½“é«˜ï¼Œä¸‹é¢æ¥è¿›ä¸€æ­¥äº†è§£ <code>EnumMap</code>  çš„ç”¨æ³•ã€‚<br />\n <code>EnumMap</code>  æ„é€ å‡½æ•°å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumMap.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Cloneable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šé”®ç±»å‹çš„ç©ºæšä¸¾æ˜ å°„</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">EnumMap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span></span> keyType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>keyType <span class=\"token operator\">=</span> keyType<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    keyUniverse <span class=\"token operator\">=</span> <span class=\"token function\">getKeyUniverse</span><span class=\"token punctuation\">(</span>keyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    vals <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span>keyUniverse<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªå…¶é”®ç±»å‹ä¸æŒ‡å®šæšä¸¾æ˜ å°„ç›¸åŒçš„æšä¸¾æ˜ å°„ï¼Œæœ€åˆåŒ…å«ç›¸åŒçš„æ˜ å°„å…³ç³» (å¦‚æœæœ‰çš„è¯)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">EnumMap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> m<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    keyType <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>keyType<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    keyUniverse <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>keyUniverse<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    vals <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>vals<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    size <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre> </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªæšä¸¾æ˜ å°„ï¼Œä»æŒ‡å®šæ˜ å°„å¯¹å…¶åˆå§‹åŒ–</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">EnumMap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> m<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">EnumMap</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> em <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span> m<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>      keyType <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span>keyType<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      keyUniverse <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span>keyUniverse<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      vals <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span>vals<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      size <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Specified map is empty\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>      keyType <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span><span class=\"token function\">keySet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">iterator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>      keyUniverse <span class=\"token operator\">=</span> <span class=\"token function\">getKeyUniverse</span><span class=\"token punctuation\">(</span>keyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>      vals <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span>keyUniverse<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>      <span class=\"token function\">putAll</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸ <code>HashMap</code>  ä¸åŒï¼Œå®ƒéœ€è¦ä¼ é€’ä¸€ä¸ªç±»å‹ä¿¡æ¯ï¼Œå³ <code>Class</code>  å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªå‚æ•° <code>EnumMap</code>  å°±å¯ä»¥æ ¹æ®ç±»å‹ä¿¡æ¯åˆå§‹åŒ–å…¶å†…éƒ¨æ•°æ®ç»“æ„ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯åˆå§‹åŒ–æ—¶ä¼ å…¥ä¸€ä¸ª <code>Map</code>  é›†åˆï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumMapConstructor.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">EnumMap</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HashMap</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Map</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: EnumMap æ„é€ å™¨ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2023-12-09 16:37</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumMapConstructor</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">// ç¬¬ä¸€ç§æ„é€ </span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> enumMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">// ç¬¬äºŒç§æ„é€ </span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> enumMap2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>enumMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">// ç¬¬ä¸‰ç§æ„é€ </span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> hashMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        hashMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>GREEN<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        hashMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>BLUE<span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> enumMap3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>hashMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">Color</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>         * ç»¿è‰²</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        GREEN<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>         * çº¢è‰²</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        RED<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>         * è“è‰²</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        BLUE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>         * é»„è‰²</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        YELLOW</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è‡³äº <code>EnumMap</code>  çš„æ–¹æ³•ï¼Œè·Ÿæ™®é€šçš„ <code>Map</code>  å‡ ä¹æ²¡æœ‰åŒºåˆ«ï¼Œæ³¨æ„ä¸ <code>HashMap</code>  çš„ä¸»è¦ä¸åŒåœ¨äºæ„é€ å™¨éœ€è¦ä¼ é€’ç±»å‹å‚æ•°å’Œ <code>EnumMap</code>  ä¿è¯ <code>Key</code>  é¡ºåºä¸æšä¸¾ä¸­çš„é¡ºåºä¸€è‡´ï¼Œä½†è¯·è®°ä½ <code>Key</code>  ä¸èƒ½ä¸º <code>null</code> ã€‚</p>\n</blockquote>\n<h2 id=\"enummapå®ç°åŸç†è§£æ\"><a class=\"anchor\" href=\"#enummapå®ç°åŸç†è§£æ\">#</a> EnumMap å®ç°åŸç†è§£æ</h2>\n<blockquote>\n<p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦åˆ†æå…¶å†…éƒ¨å­˜å‚¨ç»“æ„ï¼Œæ·»åŠ æŸ¥æ‰¾çš„å®ç°ï¼Œäº†è§£äº†è¿™å‡ ç‚¹åå¯¹ <code>EnumMap</code>  å†…éƒ¨å®ç°åŸç†å°±æ¯”è¾ƒæ¸…æ™°äº†ï¼Œå…ˆæ¥çœ‹æ•°æ®ç»“æ„å’Œæ„é€ å‡½æ•°ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumMap.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Cloneable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token comment\">// Class å¯¹è±¡å¼•ç”¨</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span></span> keyType<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token comment\">// å­˜å‚¨ Key å€¼çš„æ•°ç»„</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">transient</span> <span class=\"token class-name\">K</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> keyUniverse<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token comment\">// å­˜å‚¨ Value å€¼çš„æ•°ç»„</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">transient</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> vals<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token comment\">//map çš„ size</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">transient</span> <span class=\"token keyword\">int</span> size <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token comment\">// æ„é€ å‡½æ•°</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">EnumMap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span></span> keyType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>keyType <span class=\"token operator\">=</span> keyType<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    keyUniverse <span class=\"token operator\">=</span> <span class=\"token function\">getKeyUniverse</span><span class=\"token punctuation\">(</span>keyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    vals <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span>keyUniverse<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p><code>EnumMap</code>  ç»§æ‰¿äº† <code>AbstractMap</code>  ç±»ï¼Œå› æ­¤ <code>EnumMap</code>  å…·å¤‡ä¸€èˆ¬ <code>Map</code>  çš„ä½¿ç”¨æ–¹æ³•ï¼Œ <code>keyType</code>  è¡¨ç¤ºç±»å‹ä¿¡æ¯ï¼Œ <code>keyUniverse</code>  è¡¨ç¤ºé”®æ•°ç»„ï¼Œå­˜å‚¨çš„æ˜¯æ‰€æœ‰å¯èƒ½çš„æšä¸¾å€¼ï¼Œ <code>vals</code>  æ•°ç»„è¡¨ç¤ºé”®å¯¹åº”çš„å€¼ï¼Œ <code>size</code>  è¡¨ç¤ºé”®å€¼å¯¹ä¸ªæ•°ï¼Œåœ¨æ„é€ å‡½æ•°ä¸­é€šè¿‡ <code>keyUniverse = getKeyUniverse(keyType);</code>  åˆå§‹åŒ–äº† <code>keyUniverse</code>  æ•°ç»„çš„å€¼ï¼Œå†…éƒ¨å­˜å‚¨çš„æ˜¯æ‰€æœ‰å¯èƒ½çš„æšä¸¾å€¼ï¼Œæ¥ç€åˆå§‹åŒ–äº†å­˜åœ¨ <code>Value</code>  å€¼çš„æ•°ç»„ <code>vals</code> ï¼Œå…¶å¤§å°æšä¸¾å®ä¾‹çš„ä¸ªæ•°ç›¸åŒï¼Œ <code>getKeyUniverse</code>  æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<h3 id=\"getkeyuniverseæ–¹æ³•å®ç°åˆ†æ\"><a class=\"anchor\" href=\"#getkeyuniverseæ–¹æ³•å®ç°åˆ†æ\">#</a> getKeyUniverse æ–¹æ³•å®ç°åˆ†æ</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumMap.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Cloneable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>   * æ„æ€å°±æ˜¯è¿”å›æšä¸¾æ•°ç»„</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>   * Returns all of the values comprising K.</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>   * The result is uncloned, cached, and shared by all callers. -> è¿”å›åŒ…å« K çš„æ‰€æœ‰å€¼ã€‚ ç»“æœæ˜¯æœªå…‹éš†çš„ã€ç¼“å­˜çš„ï¼Œå¹¶ç”±æ‰€æœ‰è°ƒç”¨æ–¹å…±äº«</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">K</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getKeyUniverse</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span></span> keyType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">// æœ€ç»ˆè°ƒç”¨åˆ°æšä¸¾ç±»å‹çš„ values æ–¹æ³•ï¼Œvalues æ–¹æ³•è¿”å›æ‰€æœ‰å¯èƒ½çš„æšä¸¾å€¼</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token class-name\">SharedSecrets</span><span class=\"token punctuation\">.</span><span class=\"token function\">getJavaLangAccess</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getEnumConstantsShared</span><span class=\"token punctuation\">(</span>keyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å°†é¼ æ ‡æ”¾å…¥åˆ° <code>getEnumConstantsShared</code>  ä¸Šç„¶åæŒ‰ <code>Ctrl+é¼ æ ‡å·¦è¾¹</code> è¿›å…¥æ–¹æ³•å†…éƒ¨ï¼Œä»¥æ­¤è¿½æŸ¥ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>JavaLangAccess.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">jdk<span class=\"token punctuation\">.</span>internal<span class=\"token punctuation\">.</span>access</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">JavaLangAccess</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">E</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getEnumConstantsShared</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> klass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>System.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">System</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">E</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getEnumConstantsShared</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> klass<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Enum</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>klass<span class=\"token punctuation\">.</span><span class=\"token function\">getEnumConstantsShared</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Class.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">GenericDeclaration</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Type</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">AnnotatedElement</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">TypeDescriptor<span class=\"token punctuation\">.</span>OfField</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Class</span><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Constable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getEnumConstantsShared</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> constants <span class=\"token operator\">=</span> enumConstants<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>constants <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isEnum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>         <span class=\"token comment\">//values çš„è°ƒç”¨å°±åœ¨è¿™</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">final</span> <span class=\"token class-name\">Method</span> values <span class=\"token operator\">=</span> <span class=\"token function\">getMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"values\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>security<span class=\"token punctuation\">.</span></span>AccessController</span><span class=\"token punctuation\">.</span><span class=\"token function\">doPrivileged</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>security<span class=\"token punctuation\">.</span></span>PrivilegedAction</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                    values<span class=\"token punctuation\">.</span><span class=\"token function\">setAccessible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token annotation punctuation\">@SuppressWarnings</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"unchecked\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> temporaryConstants <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>values<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        enumConstants <span class=\"token operator\">=</span> constants <span class=\"token operator\">=</span> temporaryConstants<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      <span class=\"token comment\">// These can happen when users concoct enum-like classes</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>      <span class=\"token comment\">// that don't comply with the enum spec.</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InvocationTargetException</span> <span class=\"token operator\">|</span> <span class=\"token class-name\">NoSuchMethodException</span> <span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>             <span class=\"token class-name\">IllegalAccessException</span> ex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">return</span> constants<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">transient</span> <span class=\"token keyword\">volatile</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> enumConstants<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä»æ–¹æ³•çš„è¿”å›å€¼æ¥çœ‹ï¼Œè¿”å›ç±»å‹æ˜¯æšä¸¾æ•°ç»„ï¼Œäº‹å®ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæœ€ç»ˆè¿”å›å€¼æ­£æ˜¯æšä¸¾ç±»å‹çš„ <code>values</code>  æ–¹æ³•çš„è¿”å›å€¼ï¼Œå› æ­¤ <code>keyUniverse</code>  æ•°ç»„å­˜å‚¨å°±æ˜¯æšä¸¾ç±»å‹çš„æ‰€æœ‰å¯èƒ½çš„æšä¸¾å€¼ã€‚</p>\n</blockquote>\n<h3 id=\"putæ–¹æ³•å®ç°åˆ†æ\"><a class=\"anchor\" href=\"#putæ–¹æ³•å®ç°åˆ†æ\">#</a> put æ–¹æ³•å®ç°åˆ†æ</h3>\n<blockquote>\n<p><code>put</code>  æ–¹æ³•å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumMap.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Cloneable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">V</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">K</span> key<span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">// æ£€æµ‹ key çš„ç±»å‹</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token function\">typeCheck</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">// è·å–å­˜æ”¾ value å€¼çš„æ•°ç»„ä¸‹æ ‡</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">int</span> index <span class=\"token operator\">=</span> key<span class=\"token punctuation\">.</span><span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">// è®¾ç½®æ—§å€¼</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token class-name\">Object</span> oldValue <span class=\"token operator\">=</span> vals<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">// è®¾ç½® value å€¼</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    vals<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">maskNull</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oldValue <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      size<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">// è¿”å›æ—§å€¼</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token function\">unmaskNull</span><span class=\"token punctuation\">(</span>oldValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è¿™é‡Œé€šè¿‡ <code>typeCheck</code>  æ–¹æ³•è¿›è¡Œäº† <code>key</code>  ç±»å‹æ£€æµ‹ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºæšä¸¾ç±»å‹ï¼Œå¦‚æœç±»å‹ä¸å¯¹åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumMap.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Cloneable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">typeCheck</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">K</span> key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> keyClass <span class=\"token operator\">=</span> key<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>keyClass <span class=\"token operator\">!=</span> keyType <span class=\"token operator\">&amp;&amp;</span> keyClass<span class=\"token punctuation\">.</span><span class=\"token function\">getSuperclass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> keyType<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassCastException</span><span class=\"token punctuation\">(</span>keyClass <span class=\"token operator\">+</span> <span class=\"token string\">\" != \"</span> <span class=\"token operator\">+</span> keyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æ¥ç€é€šè¿‡ <code>key.ordinal()</code>  æ–¹å¼è·å–åˆ°è¯¥æšä¸¾å®ä¾‹çš„é¡ºåºå€¼ï¼Œåˆ©ç”¨æ­¤å€¼ä½œä¸ºä¸‹æ ‡ï¼ŒæŠŠå€¼å­˜å‚¨åœ¨ <code>vals</code>  æ•°ç»„å¯¹åº”ä¸‹æ ‡çš„å…ƒç´ ä¸­ (å³ <code>vals[index]</code> )ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ <code>EnumMap</code>  èƒ½ç»´æŒä¸æšä¸¾å®ä¾‹ç›¸åŒå­˜å‚¨é¡ºåºçš„åŸå› ï¼Œæˆ‘ä»¬å‘ç°åœ¨å¯¹ <code>vals[]</code>  ä¸­å…ƒç´ è¿›è¡Œèµ‹å€¼å’Œè¿”å›æ—§å€¼æ—¶åˆ†åˆ«è°ƒç”¨äº† <code>maskNull()</code>  å’Œ <code>unmaskNull()</code>  æ–¹æ³•ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumMap.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Cloneable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token comment\">// ä»£è¡¨ Null å€¼çš„ç©ºå¯¹è±¡å®ä¾‹</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Object</span> NULL <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token string\">\"java.util.EnumMap.NULL\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">maskNull</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token comment\">// å¦‚æœå€¼ä¸ºç©ºï¼Œè¿”å› NULL å¯¹è±¡å¦åˆ™è¿”å› value </span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>value <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> NULL <span class=\"token operator\">:</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token annotation punctuation\">@SuppressWarnings</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"unchecked\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token class-name\">V</span> <span class=\"token function\">unmaskNull</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token comment\">// å°† NULL å¯¹è±¡è½¬æ¢ä¸º null å€¼</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">V</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">==</span> NULL <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ç”±æ­¤çœ‹æ¥ <code>EnumMap</code>  è¿˜æ˜¯å…è®¸å­˜æ”¾ <code>null</code>  çš„ï¼Œä½† <code>key</code>  æ˜¯ç»å¯¹ä¸èƒ½ä¸º <code>null</code> ï¼Œå¯¹äº <code>null</code>  å€¼ <code>EnumMap</code>  è¿›è¡Œäº†ç‰¹æ®Šå¤„ç†ï¼Œå°†å…¶åŒ…è£…ä¸º <code>NULL</code>  å¯¹è±¡ï¼Œæ¯•ç«Ÿ <code>vals[]</code>  å­˜çš„æ˜¯ <code>Object</code> ï¼Œ <code>maskNull()</code>  å’Œ <code>unmaskNull()</code>  æ–¹æ³•æ­£æ˜¯ç”¨äº <code>null</code>  çš„åŒ…è£…å’Œè§£åŒ…è£…çš„ï¼Œè¿™å°±æ˜¯ <code>EnumMap</code>  é›†åˆçš„æ·»åŠ è¿‡ç¨‹ã€‚</p>\n</blockquote>\n<h3 id=\"getæ–¹æ³•å®ç°åˆ†æ\"><a class=\"anchor\" href=\"#getæ–¹æ³•å®ç°åˆ†æ\">#</a> get æ–¹æ³•å®ç°åˆ†æ</h3>\n<blockquote>\n<p><code>get()</code>  æ–¹æ³•å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumMap.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Cloneable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">V</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isValidKey</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token function\">unmaskNull</span><span class=\"token punctuation\">(</span>vals<span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>   </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token comment\">// å¯¹ Key å€¼çš„æœ‰æ•ˆæ€§å’Œç±»å‹ä¿¡æ¯è¿›è¡Œåˆ¤æ–­</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isValidKey</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">// Cheaper than instanceof Enum followed by getDeclaringClass</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> keyClass <span class=\"token operator\">=</span> key<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">return</span> keyClass <span class=\"token operator\">==</span> keyType <span class=\"token operator\">||</span> keyClass<span class=\"token punctuation\">.</span><span class=\"token function\">getSuperclass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> keyType<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ç›¸å¯¹åº” <code>put()</code>  æ–¹æ³•ï¼Œ <code>get()</code>  æ–¹æ³•æ˜¾ç¤ºç›¸å½“ç®€æ´ï¼Œ <code>key</code>  æœ‰æ•ˆçš„è¯ç›´æ¥é€šè¿‡ <code>ordinal</code>  æ–¹æ³•å–ç´¢å¼•ï¼Œç„¶ååœ¨å€¼æ•°ç»„ <code>vals</code>  é‡Œé€šè¿‡ç´¢å¼•è·å–å€¼è¿”å›ã€‚</p>\n</blockquote>\n<h3 id=\"removeæ–¹æ³•å®ç°åˆ†æ\"><a class=\"anchor\" href=\"#removeæ–¹æ³•å®ç°åˆ†æ\">#</a> remove æ–¹æ³•å®ç°åˆ†æ</h3>\n<blockquote>\n<p><code>remove()</code>  æ–¹æ³•å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumMap.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Cloneable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">V</span> <span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">// åˆ¤æ–­ key å€¼æ˜¯å¦æœ‰æ•ˆ</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isValidKey</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">// ç›´æ¥è·å–ç´¢å¼•</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">int</span> index <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token class-name\">Object</span> oldValue <span class=\"token operator\">=</span> vals<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">// å¯¹åº”ä¸‹æ ‡å…ƒç´ å€¼è®¾ç½®ä¸º null</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    vals<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oldValue <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      size<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token function\">unmaskNull</span><span class=\"token punctuation\">(</span>oldValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å¦‚æœ <code>key</code>  å€¼æœ‰æ•ˆå°±é€šè¿‡ <code>key</code>  è·å–ä¸‹æ ‡ç´¢å¼•å€¼ï¼ŒæŠŠ <code>vals[]</code>  å¯¹åº”çš„ä¸‹æ ‡å€¼è®¾ç½®ä¸º <code>null</code>  ç„¶å <code>size</code>  å‡ä¸€ã€‚</p>\n</blockquote>\n<h3 id=\"containsvaluecontainskeyæ–¹æ³•å®ç°åˆ†æ\"><a class=\"anchor\" href=\"#containsvaluecontainskeyæ–¹æ³•å®ç°åˆ†æ\">#</a> containsValue&amp;containsKey æ–¹æ³•å®ç°åˆ†æ</h3>\n<blockquote>\n<p><code>containsValue()</code>  å’Œ <code>containsKey()</code>  æ–¹æ³•å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumMap.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Cloneable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token comment\">// åˆ¤æ–­æ˜¯å¦åŒ…å« value</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">containsValue</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    value <span class=\"token operator\">=</span> <span class=\"token function\">maskNull</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">// éå†æ•°ç»„</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> val <span class=\"token operator\">:</span> vals<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token comment\">// åˆ¤æ–­æ˜¯å¦åŒ…å« key</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">containsKey</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> key<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token function\">isValidKey</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> vals<span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åˆ¤æ–­ <code>value</code>  ç›´æ¥é€šè¿‡éå†æ•°ç»„å®ç°ï¼Œè€Œåˆ¤æ–­ <code>key</code>  å°±å¾ˆç®€å•äº†ï¼Œåˆ¤æ–­ <code>key</code>  æ˜¯å¦æœ‰æ•ˆå’Œå¯¹åº” <code>vals[]</code>  ä¸­æ˜¯å¦å­˜åœ¨è¯¥å€¼ã€‚<br />\nä»¥ä¸Šè¿™å°±æ˜¯ <code>EnumMap</code>  çš„ä¸»è¦å®ç°åŸç†ï¼Œå³å†…éƒ¨æœ‰ä¸¤ä¸ªæ•°ç»„ï¼Œé•¿åº¦ç›¸åŒï¼Œä¸€ä¸ªè¡¨ç¤ºæ‰€æœ‰å¯èƒ½çš„é”® (æšä¸¾å€¼)ï¼Œä¸€ä¸ªè¡¨ç¤ºå¯¹åº”çš„å€¼ï¼Œä¸å…è®¸ <code>key</code>  ä¸º <code>null</code> ï¼Œä½†å…è®¸ <code>value</code>  ä¸º <code>null</code> ï¼Œé”®éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç´¢å¼•ï¼Œæ ¹æ®ç´¢å¼•ç›´æ¥è®¿é—®å’Œæ“ä½œå…¶é”®æ•°ç»„å’Œå€¼æ•°ç»„ï¼Œç”±äºæ“ä½œçš„éƒ½æ˜¯æ•°ç»„ï¼Œå› æ­¤æ•ˆç‡å¾ˆé«˜ã€‚</p>\n</blockquote>\n<h1 id=\"enumset\"><a class=\"anchor\" href=\"#enumset\">#</a> EnumSet</h1>\n<blockquote>\n<p><code>EnumSet</code>  æ˜¯ä¸æšä¸¾ç±»å‹ä¸€èµ·ä½¿ç”¨çš„ä¸“å± <code>Enum</code>  çš„ <code>Set</code>  é›†åˆï¼Œ <code>EnumSet</code>  ä¸­æ‰€æœ‰å…ƒç´ éƒ½å¿…é¡»æ˜¯æšä¸¾ç±»å‹ï¼Œä¸å…¶å®ƒ <code>Set</code>  æ¥å£çš„å®ç°ç±» <code>HashSet</code> ã€ <code>TreeSet</code>  å…¶å†…éƒ¨éƒ½æ˜¯ç”¨å¯¹åº”çš„ <code>HashSet</code> ã€ <code>TreeMap</code>  å®ç°çš„ï¼Œä¸åŒçš„æ˜¯ <code>EnumSet</code>  åœ¨å†…éƒ¨å®ç°æ˜¯ <code>ä½å‘é‡</code> ï¼Œå®ƒæ˜¯ä¸€ç§æä¸ºé«˜æ•ˆçš„ä½è¿ç®—æ“ä½œï¼Œç”±äºç›´æ¥å­˜å‚¨å’Œæ“ä½œéƒ½æ˜¯ <code>bit</code> ï¼Œå› æ­¤ <code>EnumSet</code>  ç©ºé—´å’Œæ—¶é—´æ€§èƒ½éƒ½ååˆ†å¯è§‚ï¼Œè¶³ä»¥åª²ç¾ä¼ ç»Ÿä¸ŠåŸºäº <code>int</code>  çš„ <code>ä½æ ‡å¿—</code> çš„è¿ç®—ï¼Œé‡è¦çš„æ˜¯æˆ‘ä»¬å¯ä»¥åƒæ“ä½œ <code>set</code>  é›†åˆä¸€èˆ¬æ¥æ“ä½œ <code>ä¸ºè¿ç®—</code> ï¼Œè¿™æ ·ä½¿ç”¨ä»£ç æ›´ç®€å•æ˜“æ‡‚åŒæ—¶åˆå…·å¤‡ç±»å‹å®‰å…¨çš„ä¼˜åŠ¿ã€‚<br />\næ³¨æ„ï¼š <code>EnumSet</code>  ä¸å…è®¸ä½¿ç”¨ <code>null</code>  å…ƒç´ ï¼Œè¯•å›¾æ’å…¥ <code>null</code>  å…ƒç´ å°†ä¼šæŠ›å‡º <code>NullPointerException</code> ï¼Œä½†è¯•å›¾æµ‹è¯•åˆ¤æ–­æ˜¯å¦å­˜åœ¨ <code>null</code>  å…ƒç´ æˆ–ç§»é™¤ <code>null</code>  å…ƒç´ åˆ™ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä¸å¤§å¤šæ•° <code>collection</code>  å®ç°ä¸€æ ·ï¼Œ <code>EnumSet</code>  ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¸€ä¸ªæ³¨æ„æ•°æ®åŒæ­¥é—®é¢˜ã€‚</p>\n</blockquote>\n<h2 id=\"enumsetåŸºæœ¬ç”¨æ³•\"><a class=\"anchor\" href=\"#enumsetåŸºæœ¬ç”¨æ³•\">#</a> EnumSet åŸºæœ¬ç”¨æ³•</h2>\n<blockquote>\n<p>åˆ›å»º <code>EnumSet</code>  å¹¶ä¸èƒ½ä½¿ç”¨ <code>new</code>  å…³é”®å­—ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œè€Œåº”è¯¥ä½¿ç”¨å…¶æä¾›çš„é™æ€å·¥å‚æ–¹æ³•ï¼Œ <code>EnumSet</code>  çš„é™æ€å·¥å‚æ–¹æ³•æ¯”è¾ƒå¤šï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Cloneable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šå…ƒç´ ç±»å‹çš„ç©º EnumSet</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">noneOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> elementType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> universe <span class=\"token operator\">=</span> <span class=\"token function\">getUniverse</span><span class=\"token punctuation\">(</span>elementType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>universe <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassCastException</span><span class=\"token punctuation\">(</span>elementType <span class=\"token operator\">+</span> <span class=\"token string\">\" not an enum\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>universe<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;=</span> <span class=\"token number\">64</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegularEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>elementType<span class=\"token punctuation\">,</span> universe<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JumboEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>elementType<span class=\"token punctuation\">,</span> universe<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªæŒ‡å®šå…ƒç´ ç±»å‹å¹¶åŒ…å«æ‰€æœ‰æšä¸¾å€¼çš„ EnumSet</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">allOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> elementType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token function\">noneOf</span><span class=\"token punctuation\">(</span>elementType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">addAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬æšä¸¾å€¼ä¸­æŒ‡å®šèŒƒå›´å…ƒç´ çš„ EnumSet</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> from<span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span> <span class=\"token keyword\">to</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">.</span><span class=\"token function\">compareTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">to</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span>from <span class=\"token operator\">+</span> <span class=\"token string\">\" > \"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">to</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token function\">noneOf</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">addRange</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">,</span> <span class=\"token keyword\">to</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬å‚æ•°ä¸­æ‰€æœ‰å…ƒç´ çš„ EnumSet</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token function\">noneOf</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> e1<span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span> e2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token function\">noneOf</span><span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> e1<span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span> e2<span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span> e3<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token function\">noneOf</span><span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> e1<span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span> e2<span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span> e3<span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span> e4<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token function\">noneOf</span><span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> e1<span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span> e2<span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span> e3<span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span> e4<span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span> e5<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token function\">noneOf</span><span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>  <span class=\"token annotation punctuation\">@SafeVarargs</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> first<span class=\"token punctuation\">,</span> <span class=\"token class-name\">E</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> rest<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>    <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token function\">noneOf</span><span class=\"token punctuation\">(</span>first<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>first<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> e <span class=\"token operator\">:</span> rest<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>      result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>  <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªåŒ…å«å‚æ•°å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ çš„ EnumSet</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">copyOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>    <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">copyOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collection</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> c<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Collection is empty\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>      <span class=\"token class-name\">Iterator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> i <span class=\"token operator\">=</span> c<span class=\"token punctuation\">.</span><span class=\"token function\">iterator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>      <span class=\"token class-name\">E</span> first <span class=\"token operator\">=</span> i<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>      <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>first<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>      <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">.</span><span class=\"token function\">hasNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>        result<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>      <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"103\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumSetDemo.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ArrayList</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: EnumSet ç”¨æ³•ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2023-12-10 11:09</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumSetDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªç©º Set é›†åˆ</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">></span></span> enumSet <span class=\"token operator\">=</span> <span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">.</span><span class=\"token function\">noneOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ·»åŠ å‰çš„EnumSetï¼š\"</span> <span class=\"token operator\">+</span> enumSet<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        enumSet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>BLUE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        enumSet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>BLACK<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        enumSet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>GREEN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        enumSet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>YELLOW<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        enumSet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>RED<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ·»åŠ åçš„EnumSetï¼š\"</span> <span class=\"token operator\">+</span> enumSet<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token comment\">// ä½¿ç”¨ allOf åˆ›å»ºåŒ…å«æ‰€æœ‰æšä¸¾ç±»å‹çš„ enumSetï¼Œå…¶å†…éƒ¨æ ¹æ® Class å¯¹è±¡åˆå§‹åŒ–äº†æ‰€æœ‰æšä¸¾å®ä¾‹</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">></span></span> enumSet1 <span class=\"token operator\">=</span> <span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">.</span><span class=\"token function\">allOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"allOfç›´æ¥å¡«å……ï¼š\"</span> <span class=\"token operator\">+</span> enumSet1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">// åˆå§‹é›†åˆåŒ…æ‹¬æšä¸¾å€¼ä¸­æŒ‡å®šèŒƒå›´çš„å…ƒç´ </span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">></span></span> enumSet2 <span class=\"token operator\">=</span> <span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>RED<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>BLUE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æŒ‡å®šåˆå§‹åŒ–èŒƒå›´ï¼š\"</span> <span class=\"token operator\">+</span> enumSet2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token comment\">// æŒ‡å®šè¡¥é›†ï¼Œä¹Ÿå°±æ˜¯ä»å…¨éƒ¨æšä¸¾ç±»å‹ä¸­å»é™¤å‚æ•°é›†åˆä¸­çš„å…ƒç´ ï¼Œå¦‚ä¸‹å»æ‰ä¸Šè¿° enumSet2 çš„å…ƒç´ </span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">></span></span> enumSet3 <span class=\"token operator\">=</span> <span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">.</span><span class=\"token function\">complementOf</span><span class=\"token punctuation\">(</span>enumSet2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æŒ‡å®šè¡¥é›†ï¼š\"</span> <span class=\"token operator\">+</span> enumSet3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token comment\">// åˆå§‹åŒ–æ—¶ç›´æ¥æŒ‡å®šå…ƒç´ </span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">></span></span> enumSet4 <span class=\"token operator\">=</span> <span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>YELLOW<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æŒ‡å®šColor.YELLOWå…ƒç´ ï¼š\"</span> <span class=\"token operator\">+</span> enumSet4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">></span></span> enumSet5 <span class=\"token operator\">=</span> <span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>YELLOW<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>RED<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æŒ‡å®šColor.YELLOWå’ŒColor.REDå…ƒç´ ï¼š\"</span> <span class=\"token operator\">+</span> enumSet5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token comment\">// å¤åˆ¶ enumSet5 å®¹å™¨çš„æ•°æ®ä½œä¸ºåˆå§‹åŒ–æ•°æ®</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">></span></span> enumSet6 <span class=\"token operator\">=</span> <span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">.</span><span class=\"token function\">copyOf</span><span class=\"token punctuation\">(</span>enumSet5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"enumSet6ï¼š\"</span> <span class=\"token operator\">+</span> enumSet6<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>RED<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token comment\">// æ­¤å¤„æ·»åŠ ä¸€ä¸ªé‡å¤å…ƒç´ </span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>RED<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>GREEN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>YELLOW<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"listï¼š\"</span> <span class=\"token operator\">+</span> list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token comment\">// ä½¿ç”¨ copyOf (Collection&lt;E> c)</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">></span></span> enumSet7 <span class=\"token operator\">=</span> <span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">.</span><span class=\"token function\">copyOf</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"enumSet7ï¼š\"</span> <span class=\"token operator\">+</span> enumSet7<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"72\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>            æ·»åŠ å‰çš„ EnumSetï¼š[]</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>            æ·»åŠ åçš„ EnumSetï¼š[GREEN, RED, BLUE, BLACK, YELLOW]</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>            ------------------------------------------------</pre></td></tr><tr><td data-num=\"76\"></td><td><pre>            allOf ç›´æ¥å¡«å……ï¼š[GREEN, RED, BLUE, BLACK, YELLOW]</pre></td></tr><tr><td data-num=\"77\"></td><td><pre>            ------------------------------------------------</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>            æŒ‡å®šåˆå§‹åŒ–èŒƒå›´ï¼š[RED, BLUE]</pre></td></tr><tr><td data-num=\"79\"></td><td><pre>            ------------------------------------------------</pre></td></tr><tr><td data-num=\"80\"></td><td><pre>            æŒ‡å®šè¡¥é›†ï¼š[GREEN, BLACK, YELLOW]</pre></td></tr><tr><td data-num=\"81\"></td><td><pre>            ------------------------------------------------</pre></td></tr><tr><td data-num=\"82\"></td><td><pre>            æŒ‡å®š Color.YELLOW å…ƒç´ ï¼š[YELLOW]</pre></td></tr><tr><td data-num=\"83\"></td><td><pre>            æŒ‡å®š Color.YELLOW å’Œ Color.RED å…ƒç´ ï¼š[RED, YELLOW]</pre></td></tr><tr><td data-num=\"84\"></td><td><pre>            ------------------------------------------------</pre></td></tr><tr><td data-num=\"85\"></td><td><pre>            enumSet6ï¼š[RED, YELLOW]</pre></td></tr><tr><td data-num=\"86\"></td><td><pre>            ------------------------------------------------</pre></td></tr><tr><td data-num=\"87\"></td><td><pre>            listï¼š[RED, RED, GREEN, YELLOW]</pre></td></tr><tr><td data-num=\"88\"></td><td><pre>            enumSet7ï¼š[GREEN, RED, YELLOW]</pre></td></tr><tr><td data-num=\"89\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"91\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">Color</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"95\"></td><td><pre>         * ç»¿è‰²</pre></td></tr><tr><td data-num=\"96\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>        GREEN<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"99\"></td><td><pre>         * çº¢è‰²</pre></td></tr><tr><td data-num=\"100\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>        RED<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"103\"></td><td><pre>         * è“è‰²</pre></td></tr><tr><td data-num=\"104\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>        BLUE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"107\"></td><td><pre>         * é»‘è‰²</pre></td></tr><tr><td data-num=\"108\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>        BLACK<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"111\"></td><td><pre>         * é»„è‰²</pre></td></tr><tr><td data-num=\"112\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>        YELLOW</pre></td></tr><tr><td data-num=\"114\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p><code>noneOf(Class&lt;E&gt; elementType)</code>  é™æ€æ–¹æ³•ï¼Œä¸»è¦ç”¨äºåˆ›å»ºä¸€ä¸ªç©ºçš„ <code>EnumSet</code>  é›†åˆï¼Œä¼ é€’å‚æ•° <code>elementType</code>  ä»£è¡¨çš„æ˜¯æšä¸¾ç±»å‹çš„ç±»å‹ä¿¡æ¯ï¼Œå³ <code>Class</code>  å¯¹è±¡ã€‚<br />\n <code>EnumSet&lt;E&gt; allOf(Class&lt;E&gt; elementType)</code>  é™æ€æ–¹æ³•åˆ™æ˜¯åˆ›å»ºä¸€ä¸ªå¡«å……äº† <code>elementType</code>  ç±»å‹æ‰€ä»£è¡¨çš„æ‰€æœ‰æšä¸¾å®ä¾‹ï¼Œå¥‡æ€ªçš„æ˜¯ <code>EnumSet</code>  æä¾›äº†å¤šä¸ªé‡è½½å½¢å¼çš„ <code>of()</code>  æ–¹æ³•ï¼Œæœ€åä¸€ä¸ªæ¥å—çš„æ˜¯å¯å˜å‚æ•°ï¼Œå…¶å®ƒé‡è½½æ–¹æ³•åˆ™æ˜¯å›ºå®šå‚æ•°ä¸ªæ•°ï¼Œ <code>EnumSet</code>  ä¹‹æ‰€ä»¥è¿™æ ·è®¾è®¡æ˜¯å› ä¸ºå¯å˜å‚æ•°çš„è¿è¡Œæ•ˆç‡ä½ä¸€äº›ï¼Œæ‰€æœ‰åœ¨å‚æ•°æ•°æ®ä¸å¤šçš„æƒ…å†µä¸‹ï¼Œå¼ºçƒˆä¸å»ºè®®ä½¿ç”¨ä¼ é€’å‚æ•°ä¸ºå¯å˜å‚æ•°çš„ <code>of()</code>  æ–¹æ³•ï¼Œå³ <code>EnumSet&lt;E&gt; of(E first, E... rest)</code> ã€‚ è‡³äº <code>EnumSet</code>  çš„æ“ä½œæ–¹æ³•ä¸ <code>set</code>  é›†åˆä¸€æ ·ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨ <code>EnumSet</code>  æ¯”è¾ƒå¥½å‘¢ï¼Ÿäº‹å®ä¸Šå½“éœ€è¦è¿›è¡Œä½åŸŸè¿ç®—æ—¶å°±å¯ä»¥ä½¿ç”¨ <code>EnumSet</code>  äº†ã€‚</p>\n</blockquote>\n<h3 id=\"ä½åŸŸè¿ç®—\"><a class=\"anchor\" href=\"#ä½åŸŸè¿ç®—\">#</a> ä½åŸŸè¿ç®—</h3>\n<blockquote>\n<p>ä½åŸŸè¿ç®—ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>BitFieldDemo.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ä½åŸŸè¿ç®—ä»£ç ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-10 13:12</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BitFieldDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">// å®šä¹‰ä½åŸŸå˜é‡</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     * 1</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> TYPE_ONE <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * 2</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> TYPE_TWO <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     * 4</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> TYPE_THREE <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>     * 8</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> TYPE_FOUR <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token comment\">// ä½åŸŸè¿ç®—</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token keyword\">int</span> type <span class=\"token operator\">=</span> TYPE_ONE <span class=\"token operator\">|</span> TYPE_TWO <span class=\"token operator\">|</span> TYPE_THREE <span class=\"token operator\">|</span> TYPE_FOUR<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"type = \"</span> <span class=\"token operator\">+</span> type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>          type = 15</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è¯¸å¦‚ä¸Šè¿°æƒ…å†µï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å°†ä¸Šè¿°çš„ç±»å‹å®šä¹‰æˆæšä¸¾ç„¶åé‡‡ç”¨ <code>EnumSet</code>  æ¥è£…è½½ï¼Œè¿›è¡Œå„ç§æ“ä½œï¼Œè¿™æ ·ä¸ä»…ä¸ç”¨æ‰‹åŠ¨ç¼–å†™å¤ªå¤šå†—ä½™ä»£ç ï¼Œè€Œä¸”ä½¿ç”¨ <code>EnumSet</code>  é›†åˆè¿›è¡Œæ“ä½œä¹Ÿå°†ä½¿ä»£ç æ›´åŠ ç®€æ´ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumSetDemo2.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: æšä¸¾æ›¿ä»£ä½åŸŸ</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-12-10 13:23</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumSetDemo2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Type</span><span class=\"token punctuation\">></span></span> set <span class=\"token operator\">=</span> <span class=\"token class-name\">EnumSet</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Type</span><span class=\"token punctuation\">.</span>TYPE_ONE<span class=\"token punctuation\">,</span><span class=\"token class-name\">Type</span><span class=\"token punctuation\">.</span>TYPE_FOUR<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">Type</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>         * 1</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        TYPE_ONE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>         * 2</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        TYPE_TWO<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>         * 3</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        TYPE_THREE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>         * 4</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        TYPE_FOUR</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p><code>EnumSet</code>  å…¶ä¸­æœ€æœ‰ä»·å€¼çš„æ˜¯å…¶å†…éƒ¨å®ç°åŸç†ï¼Œé‡‡ç”¨çš„æ˜¯ä½å‘é‡ï¼Œå®ƒä½“ç°å‡ºæ¥çš„æ˜¯ä¸€ç§é«˜æ•ˆçš„æ•°æ®å¤„ç†æ–¹å¼ï¼Œè¿™ç‚¹å¾ˆå€¼å¾—æˆ‘ä»¬å»å­¦ä¹ å®ƒã€‚</p>\n</blockquote>\n<h2 id=\"enumsetå®ç°åŸç†åˆ†æ\"><a class=\"anchor\" href=\"#enumsetå®ç°åŸç†åˆ†æ\">#</a> EnumSet å®ç°åŸç†åˆ†æ</h2>\n<blockquote>\n<p>å…³äº <code>EnumSet</code>  å®ç°åŸç†ä¼šæœ‰ç‚¹ç»•è„‘ï¼Œå…¶å†…éƒ¨æ‰§è¡Œå‡ ä¹éƒ½æ˜¯ä½è¿ç®—ã€‚</p>\n</blockquote>\n<h3 id=\"ç†è§£ä½å‘é‡\"><a class=\"anchor\" href=\"#ç†è§£ä½å‘é‡\">#</a> ç†è§£ä½å‘é‡</h3>\n<blockquote>\n<p>åˆ†æ <code>EnumSet</code>  å‰æœ‰å¿…è¦å…ˆäº†è§£ä¸€ä¸‹ <code>ä½å‘é‡</code> ï¼Œé¡¾åæ€ä¹‰ <code>ä½å‘é‡</code> å°±æ˜¯ç”¨ä¸€ä¸ª <code>bit</code>  ä½ ( <code>0</code>  æˆ– <code>1</code> ) æ ‡è®°ä¸€ä¸ªå…ƒç´ çš„çŠ¶æ€ï¼Œç”¨ä¸€ç»„ <code>bit</code>  ä½è¡¨ç¤ºä¸€ä¸ªé›†åˆçš„çŠ¶æ€ï¼Œè€Œæ¯ä¸ªä½å¯¹åº”ä¸€ä¸ªå…ƒç´ ï¼Œæ¯ä¸ª <code>bit</code>  ä½çš„çŠ¶æ€åªå¯èƒ½æœ‰ä¸¤ç§ï¼Œå³ <code>0</code>  æˆ– <code>1</code> ã€‚ <code>ä½å‘é‡</code> èƒ½è¡¨ç¤ºçš„å…ƒç´ ä¸ªæ•°ä¸å‘é‡çš„ <code>bit</code>  ä½é•¿åº¦æœ‰å…³ï¼Œå¦‚ï¼šä¸€ä¸ª <code>int</code>  ç±»å‹èƒ½è¡¨ç¤º <code>32</code>  ä¸ªå…ƒç´ ï¼Œè€Œåº”è¯¥ <code>long</code>  ç±»å‹åˆ™å¯ä»¥è¡¨ç¤º <code>64</code>  ä¸ªå…ƒç´ ï¼Œå¯¹äº <code>EnumSet</code>  è€Œè¨€é‡‡ç”¨çš„å°±æ˜¯ <code>long</code>  ç±»å‹æˆ–è€… <code>long</code>  ç±»å‹æ•°ç»„ã€‚æ¯”å¦‚ç°åœ¨æœ‰ä¸€ä¸ªæ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œè¯¥æ–‡ä»¶å­˜å‚¨äº† <code>N = 1000000</code>  ä¸ªæ— åºçš„æ•´æ•°ï¼Œéœ€è¦æŠŠè¿™äº›æ•´æ•°è¯»å–åˆ°å†…å­˜å¹¶æ’åºå†é‡æ–°å†™å›æ–‡ä»¶ä¸­ï¼Œè¯¥å¦‚ä½•è§£å†³ï¼Ÿæœ€ç®€å•çš„æ–¹å¼æ˜¯ç”¨ <code>int</code>  ç±»å‹æ¥å­˜å‚¨æ¯ä¸ªæ•°ï¼Œå¹¶æŠŠå…¶å­˜å…¥åˆ°æ•°ç»„ä¸­ï¼Œå†è¿›è¡Œæ’åºï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å°†ä¼šå¯¼è‡´å­˜å‚¨ç©ºé—´å¼‚å¸¸åœ°å¤§ï¼Œå¯¹æ•°æ®æ“ä½œèµ·æ¥æ•ˆç‡ä¹Ÿæ˜¯é—®é¢˜ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰æ›´é«˜æ•ˆçš„æ–¹å¼å‘¢ï¼Ÿé‚£å°±æ˜¯è¿ç”¨ <code>ä½å‘é‡</code> ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€ä¸ª <code>int</code>  ç±»å‹çš„æ•°æœ‰ <code>4</code>  ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯ <code>32</code>  ä½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨ <code>N/32</code>  ä¸ª <code>int</code>  ç±»å‹æ•°ç»„æ¥è¡¨ç¤º <code>N</code>  ä¸ªæ•°ã€‚</p>\n</blockquote>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>a [0] è¡¨ç¤ºç¬¬ 1~32 ä¸ªæ•°ï¼ˆ0~31ï¼‰</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>a [1] è¡¨ç¤ºç¬¬ 33~64 ä¸ªæ•°ï¼ˆ32~63ï¼‰</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>a [2] è¡¨ç¤ºç¬¬ 65~96 ä¸ªæ•°ï¼ˆ64~95ï¼‰</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>...... ä»¥æ­¤ç±»æ¨</pre></td></tr></table></figure><blockquote>\n<p>è¿™æ ·ä¸€æ¥æ¯å½“è¾“å…¥ä¸€ä¸ªæ•°å­— <code>m</code>  åï¼Œæˆ‘ä»¬åº”è¯¥å…ˆæ‰¾åˆ°è¯¥æ•°å­—åœ¨æ•°ç»„çš„ç¬¬ <code>?</code>  ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯ <code>a[?]</code>  ç„¶åå†ç¡®å®šåœ¨è¿™ä¸ªå…ƒç´ çš„ç¬¬å‡ ä¸ª <code>bit</code>  ä½ï¼Œæ‰¾åˆ°åè®¾ç½®ä¸º <code>1</code> ï¼Œä»£è¡¨å­˜åœ¨è¯¥æ•°å­—ã€‚<br />\næ¯”å¦‚ï¼šè¾“å…¥ <code>40</code>  é‚£ä¹ˆ <code>40/32</code>  ä¸º <code>1</code>  ä½™ <code>8</code> ï¼Œåˆ™åº”è¯¥å°† <code>a[1]</code>  å…ƒç´ å€¼çš„ç¬¬ <code>9</code>  ä¸ª <code>bit</code>  ä½è®¾ç½®ä¸º <code>1</code> ( <code>1</code>  çš„äºŒè¿›åˆ¶å·¦ç§» <code>8</code>  ä½åå°±æ˜¯ç¬¬ <code>9</code>  ä¸ªä½ç½®)ï¼Œè¡¨ç¤ºè¯¥æ•°å­—å­˜åœ¨ï¼Œ <code>40</code>  æ•°å­—çš„è¡¨ç¤ºåŸç†å›¾è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<p><img data-src=\"https://z1.ax1x.com/2023/12/10/piRYuHx.png\" alt=\"piRYuHx.png\" /></p>\n<blockquote>\n<p>åœ¨å¤§æ¦‚æ˜ç™½äº†ä½å‘é‡è¡¨ç¤ºæ–¹å¼åï¼Œä¸Šè¿°è¿‡ç¨‹çš„è®¡ç®—æ–¹å¼ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼å¯ä»¥è®¡ç®—è¯¥æ•°å­˜å‚¨åœ¨æ•°ç»„çš„ç¬¬ <code>?</code>  ä¸ªå…ƒç´ å’Œå…ƒç´ ä¸­ç¬¬ <code>?</code>  ä¸ª <code>bit</code>  ä½ç½®ï¼Œä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå‡è®¾ç¬¬ <code>?</code>  ä¸ªå…ƒç´ ä¸­çš„ <code>?</code>  ä¸º <code>P</code>  ä½™æ•°å€¼ä¸º <code>S</code> ã€‚</p>\n</blockquote>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>&#x2F;&#x2F;m é™¤ä»¥ 2^n åˆ™å•† (P) è¡¨ç¤ºä¸º m &gt;&gt; n</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>&#x2F;&#x2F; ç­‰åŒäº m &#x2F; 2^5 å–æ•´æ•° å³ï¼š40 &#x2F; 32 &#x3D; 1</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>&#x2F;&#x2F; é‚£ä¹ˆ P&#x3D;1 å°±æ˜¯æ•°ç»„ä¸­çš„ç¬¬ 2 ä¸ªå…ƒç´ ï¼Œå³ a [1]</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>&#x2F;&#x2F; ä½æ“ä½œè¿‡ç¨‹å¦‚ä¸‹ï¼Œ40 çš„äºŒè¿›åˆ¶</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>00000000 00000000 00000000 00101000</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>&#x2F;&#x2F; å³ç§» 5 ä½å³ n&#x3D;5,m &gt;&gt; 5, å³ç»“æœè½¬ä¸º 10 è¿›åˆ¶å°±æ˜¯ P&#x3D;1</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>00000000 00000000 00000000 00000001</pre></td></tr></table></figure><blockquote>\n<p>åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <code>int</code>  ç±»å‹ï¼Œå³ <code>32</code>  ä½ï¼Œæ‰€ä»¥ <code>2^5=32</code> ï¼Œå› æ­¤ <code>n=5</code> , ç”±æ­¤è®¡ç®—å‡º <code>P</code>  çš„å€¼ä»£è¡¨çš„æ˜¯æ•°ç»„çš„ç¬¬ <code>P</code>  ä¸ªå…ƒç´ ï¼Œæ¥ç€åˆ©ç”¨ä¸‹è¿°æ–¹å¼è®¡ç®—å‡ºä½™æ•° ( <code>S</code> ), ä»¥æ­¤è®¾ç½®è¯¥å…ƒç´ çš„ç¬¬ ( <code>S+1</code> ) ä¸ª <code>bit</code>  ä½ä¸º <code>1</code> ã€‚</p>\n</blockquote>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>&#x2F;&#x2F;m é™¤ä»¥ 2^n çš„ä½™æ•° (S) è¡¨ç¤ºä¸º m &amp; (2^n-1)</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>&#x2F;&#x2F; ç­‰åŒäºï¼š m % 2^5 å–ä½™æ•° å³ï¼š40 % 32 &#x3D; 8</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>&#x2F;&#x2F;m&#x3D;40 çš„äºŒè¿›åˆ¶</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>00000000 00000000 00000000 00101000</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>&#x2F;&#x2F; 2^n-1 (31) çš„äºŒè¿›åˆ¶</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>00000000 00000000 00000000 00011111</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>&#x2F;&#x2F;m &amp; (2^n-1) å³ 40 ä¸ 31 è¿›è¡Œä¸æ“ä½œå¾—å‡ºä½™æ•° å³ S&#x3D;8</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>00000000 00000000 00000000 00001000</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>&#x2F;&#x2F; ä¸‹é¢æ˜¯å°† a [1] å…ƒç´ å€¼çš„ç¬¬ (8+1) ä¸ª bit è®¾ç½®ä¸º 1ï¼Œä¸ºä»€ä¹ˆæ˜¯ (8+1) è€Œä¸æ˜¯ 8ï¼Ÿå› ä¸º 1 å·¦ç§» 8 ä½å°±åœ¨ç¬¬ 9 ä¸ª bit ä½äº†ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>&#x2F;&#x2F; 1 çš„äºŒè¿›åˆ¶å¦‚ä¸‹ï¼š</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>00000000 00000000 00000000 00000001</pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>&#x2F;&#x2F; 1 &lt;&lt; 8 åˆ©ç”¨ä½™æ•° 8 å¯¹ 1 è¿›è¡Œå·¦ç§»åŠ¨</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>00000000 00000000 00000001 0000000</pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>&#x2F;&#x2F; ç„¶åå†ä¸ a [1] æ‰§è¡Œæˆ–æ“ä½œåå°±å¯ä»¥å°†å¯¹åº”çš„ bit ä¸ºè®¾ç½®ä¸º 1</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>&#x2F;&#x2F;a [P] |&#x3D; 1 &lt;&lt; S ä¸‹é¢å°†ä½¿ç”¨ Java ä»£ç æ¥å®ç°</pre></td></tr></table></figure><blockquote>\n<p>é€šè¿‡ä¸Šè¿°äºŒè¿›åˆ¶ä½è¿ç®—å°±å¯ä»¥è®¡ç®—å‡ºæ•´æ•°éƒ¨åˆ† <code>P</code>  å’Œä½™æ•°éƒ¨åˆ† <code>S</code>  å¹¶æˆåŠŸè®¾ç½® <code>bit</code>  ä½ä¸º <code>1</code> ï¼Œä¸‹é¢æ˜¯ç”¨ <code>Java</code>  ä»£ç æ¥å®ç°è¿ç®—è¿‡ç¨‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<h4 id=\"1ï¸âƒ£å®šä¹‰ä½è¿ç®—å˜é‡\"><a class=\"anchor\" href=\"#1ï¸âƒ£å®šä¹‰ä½è¿ç®—å˜é‡\">#</a> 1ï¸âƒ£å®šä¹‰ä½è¿ç®—å˜é‡</h4>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>BitOperationDemo.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ä½è¿ç®—ç¤ºä¾‹ï¼šå®šä¹‰å…¨å±€å˜é‡</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-10 16:15</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BitOperationDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     * å­˜å‚¨å…ƒç´ çš„æ•°ç»„</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> a<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * é»˜è®¤ä½¿ç”¨ int ç±»å‹</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> BIT_LENGTH <span class=\"token operator\">=</span> <span class=\"token number\">32</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * æ•´æ•°éƒ¨åˆ†</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token class-name\">P</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>     * ä½™æ•°</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     * 2^5 - 1</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> MASK <span class=\"token operator\">=</span> <span class=\"token number\">0x1F</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>     * 2^n SHIFT=n=5 è¡¨ç¤º 2^5=32 å³ bit ä½é•¿åº¦ 32</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> SHIFT <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h4 id=\"2ï¸âƒ£ä½è¿ç®—æ·»åŠ \"><a class=\"anchor\" href=\"#2ï¸âƒ£ä½è¿ç®—æ·»åŠ \">#</a> 2ï¸âƒ£ä½è¿ç®—æ·»åŠ </h4>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>BitOperationDemo.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ä½è¿ç®—ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-10 16:15</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BitOperationDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     * ç½®ä½å’Œæ·»åŠ æ“ä½œ</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     * @param i</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">// 1. ç»“æœç­‰åŒ  P = i / BIT_LENGTH; å–æ•´æ•°</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">P</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">>></span> SHIFT<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">// 2. ç»“æœç­‰åŒ  S = i % BIT_LENGTH; å–ä½™æ•°</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">S</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">&amp;</span> MASK<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token comment\">// 3. èµ‹å€¼è®¾ç½®è¯¥å…ƒç´  bit ä½ä¸º 1</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        a<span class=\"token punctuation\">[</span><span class=\"token class-name\">P</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">|=</span> <span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token comment\">// 4. å°† int å‹å˜é‡ j çš„ç¬¬ k ä¸ªæ¯”ç‰¹ä½è®¾ç½®ä¸º 1ï¼Œ å³ j=j|(1&lt;&lt;k), ä¸Šè¿° 3 å¥åˆå¹¶ä¸ºä¸€å¥</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">//a[i >> SHIFT ] |= (1 &lt;&lt; (i &amp; MASK));</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨è®¡ç®—å‡º <code>P</code>  å’Œ <code>S</code>  åå°±å¯ä»¥è¿›è¡Œèµ‹å€¼äº†ï¼Œå…¶ä¸­ <code>a[P]</code>  ä»£è¡¨æ•°ç»„ä¸­ç¬¬ <code>P</code>  ä¸ªå…ƒç´ ï¼Œ <code>a[P] |= 1 &lt;&lt; S</code>  æ•´å¥æ„æ€å°±æ˜¯æŠŠ <code>a[P]</code>  å…ƒç´ çš„ç¬¬ <code>S+1</code>  ä½è®¾ç½®ä¸º <code>1</code> ï¼Œæ³¨æ„ä»ä½ä½åˆ°é«˜ä½è®¾ç½® (å³ï¼šä»å³åˆ°å·¦), <code>1.</code>   <code>2.</code>   <code>3.</code>  åˆå¹¶ä¸º <code>4.</code> ï¼Œä»£ç å°†æ›´ä½³ç®€æ´ã€‚<br />\næ—¢ç„¶æœ‰æ·»åŠ æ“ä½œå°±ä¼šæœ‰åˆ é™¤æ“ä½œï¼Œåˆ é™¤æ“ä½œçš„è¿‡ç¨‹ä¸æ·»åŠ ç±»ä¼¼ï¼Œåªä¸è¿‡åˆ é™¤æ˜¯æŠŠç›¸å¯¹åº”çš„ <code>bit</code>  ä½è®¾ç½®ä¸º <code>0</code> ï¼Œä»£è¡¨ä¸å­˜åœ¨è¯¥æ•°å€¼ã€‚</p>\n</blockquote>\n<h4 id=\"3ï¸âƒ£ä½è¿ç®—æ¸…é™¤\"><a class=\"anchor\" href=\"#3ï¸âƒ£ä½è¿ç®—æ¸…é™¤\">#</a> 3ï¸âƒ£ä½è¿ç®—æ¸…é™¤</h4>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>BitOperationDemo.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ä½è¿ç®—ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-10 16:15</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BitOperationDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     * ç½® 0 æ“ä½œï¼Œç›¸å½“äºæ¸…é™¤å…ƒç´ </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     * @param i</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">// 1. è®¡ç®—ä½äºæ•°ç»„ä¸­ç¬¬ï¼Ÿä¸ªå…ƒç´  P = i / BIT_LENGTH;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">P</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">>></span> SHIFT<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">// 2. è®¡ç®—ä½™æ•° S = i % BIT_LENGTH;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token class-name\">S</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">&amp;</span> MASK<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">// 3. æŠŠ a [P] å…ƒç´ çš„ç¬¬ S+1 ä¸ª (ä»ä½ä½åˆ°é«˜ä½) bit ä½è®¾ç½®ä¸º 0</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        a<span class=\"token punctuation\">[</span><span class=\"token class-name\">P</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;=</span> <span class=\"token operator\">~</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">// 4. å°† int å‹å˜é‡ j çš„ç¬¬ k ä¸ªæ¯”ç‰¹ä½è®¾ç½®ä¸º 0ï¼Œå³ j= j&amp;~(1&lt;&lt;k)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">//a[i>>SHIFT] &amp;= ~(1&lt;&lt;(i &amp;MASK));</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸æ·»åŠ å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œè®¡ç®—å‡ºä½™æ•° <code>S</code>  ååˆ©ç”¨ <code>1</code>  å·¦ç§» <code>S</code>  ä½ï¼Œå†å–å ( <code>~</code> ) æ“ä½œï¼Œæœ€åè¿›è¡Œä¸ ( <code>&amp;</code> ) æ“ä½œï¼Œå³ï¼šå°† <code>a[P]</code>  å…ƒç´ çš„ç¬¬ <code>S+1</code>  ä¸ª (ä»ä½ä½åˆ°é«˜ä½) <code>bit</code>  ä½è®¾ç½®ä¸º <code>0</code> ï¼Œè¡¨ç¤ºåˆ é™¤è¯¥æ•°å­—ï¼Œè¿™ä¸ªè®¡ç®—è¿‡ç¨‹å¯ä»¥è‡ªè¡Œæ¨ç®—ä¸€ä¸‹ï¼Œè¿™å°±æ˜¯ <code>ä½å‘é‡</code> è¡¨ç¤ºæ³•çš„æ·»åŠ å’Œæ¸…é™¤æ–¹æ³•ã€‚</p>\n</blockquote>\n<h4 id=\"4ï¸âƒ£ä½è¿ç®—è¯»å–\"><a class=\"anchor\" href=\"#4ï¸âƒ£ä½è¿ç®—è¯»å–\">#</a> 4ï¸âƒ£ä½è¿ç®—è¯»å–</h4>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>BitOperationDemo.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ä½è¿ç®—ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-10 16:15</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BitOperationDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>     * è¯»å–æ“ä½œï¼Œè¿”å› 1 ä»£è¡¨è¯¥ bit ä½æœ‰å€¼ï¼Œè¿”å› 0 ä»£è¡¨è¯¥ bit ä½æ²¡å€¼</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     * @param i</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     * @return int</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">//a[i>>SHIFT] &amp; (1&lt;&lt;(i&amp;MASK));</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">P</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">>></span> SHIFT<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">S</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">&amp;</span>  MASK<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">bitCount</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">[</span><span class=\"token class-name\">P</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å…¶ä¸­ <code>Integer.bitCount()</code>  æ˜¯è¿”å›æŒ‡å®š <code>int</code>  å€¼çš„äºŒè¿›åˆ¶è¡¥ç  (è®¡ç®—æœºæ•°å­—çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ³•éƒ½æ˜¯ä½¿ç”¨è¡¥ç è¡¨ç¤º) è¡¨ç¤ºå½¢å¼çš„ <code>1</code>  ä½çš„æ•°é‡ã€‚</p>\n</blockquote>\n<h4 id=\"5ï¸âƒ£ä½è¿ç®—å®Œæ•´ä»£ç \"><a class=\"anchor\" href=\"#5ï¸âƒ£ä½è¿ç®—å®Œæ•´ä»£ç \">#</a> 5ï¸âƒ£ä½è¿ç®—å®Œæ•´ä»£ç </h4>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>BitOperationDemo.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">æœ¬ç¤ºä¾‹ä½¿ç”¨JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ArrayList</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Random</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: ä½è¿ç®—ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2023-12-10 16:15</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BitOperationDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>   * å­˜å‚¨å…ƒç´ çš„æ•°ç»„</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> a<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>   * é»˜è®¤ä½¿ç”¨ int ç±»å‹</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> BIT_LENGTH <span class=\"token operator\">=</span> <span class=\"token number\">32</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>   * æ•´æ•°éƒ¨åˆ†</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token class-name\">P</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>   * ä½™æ•°</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>   * 2^5 - 1</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> MASK <span class=\"token operator\">=</span> <span class=\"token number\">0x1F</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>   * 2^n SHIFT=n=5 è¡¨ç¤º 2^5=32 å³ bit ä½é•¿åº¦ 32</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> SHIFT <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> count<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>   * åˆå§‹åŒ–ä½å‘é‡</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>   *</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>   * @param count</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">BitOperationDemo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> count<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>count <span class=\"token operator\">=</span> count<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> BIT_LENGTH <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>   * å°†æ•°ç»„ä¸­å…ƒç´  bit ä½è®¾ç½®ä¸º 0</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>      <span class=\"token function\">clear</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"68\"></td><td><pre>   * ç½®ä½å’Œæ·»åŠ æ“ä½œ</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>   *</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>   * @param i</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    <span class=\"token comment\">// 1. ç»“æœç­‰åŒ  P = i / BIT_LENGTH; å–æ•´æ•°</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token class-name\">P</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">>></span> SHIFT<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    <span class=\"token comment\">// 2. ç»“æœç­‰åŒ  S = i % BIT_LENGTH; å–ä½™æ•°</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>    <span class=\"token class-name\">S</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">&amp;</span> MASK<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token comment\">// 3. èµ‹å€¼è®¾ç½®è¯¥å…ƒç´  bit ä½ä¸º 1</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>    a<span class=\"token punctuation\">[</span><span class=\"token class-name\">P</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">|=</span> <span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    <span class=\"token comment\">// 4. å°† int å‹å˜é‡ j çš„ç¬¬ k ä¸ªæ¯”ç‰¹ä½è®¾ç½®ä¸º 1ï¼Œ å³ j=j|(1&lt;&lt;k), ä¸Šè¿° 3 å¥åˆå¹¶ä¸ºä¸€å¥</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>    <span class=\"token comment\">//a[i >> SHIFT ] |= (1 &lt;&lt; (i &amp; MASK));</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"84\"></td><td><pre>   * ç½® 0 æ“ä½œï¼Œç›¸å½“äºæ¸…é™¤å…ƒç´ </pre></td></tr><tr><td data-num=\"85\"></td><td><pre>   *</pre></td></tr><tr><td data-num=\"86\"></td><td><pre>   * @param i</pre></td></tr><tr><td data-num=\"87\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token comment\">// 1. è®¡ç®—ä½äºæ•°ç»„ä¸­ç¬¬ï¼Ÿä¸ªå…ƒç´  P = i / BIT_LENGTH;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>    <span class=\"token class-name\">P</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">>></span> SHIFT<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>    <span class=\"token comment\">// 2. è®¡ç®—ä½™æ•° S = i % BIT_LENGTH;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>    <span class=\"token class-name\">S</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">&amp;</span> MASK<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>    <span class=\"token comment\">// 3. æŠŠ a [P] å…ƒç´ çš„ç¬¬ S+1 ä¸ª (ä»ä½ä½åˆ°é«˜ä½) bit ä½è®¾ç½®ä¸º 0</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>    a<span class=\"token punctuation\">[</span><span class=\"token class-name\">P</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;=</span> <span class=\"token operator\">~</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>    <span class=\"token comment\">// 4. å°† int å‹å˜é‡ j çš„ç¬¬ k ä¸ªæ¯”ç‰¹ä½è®¾ç½®ä¸º 0ï¼Œå³ j= j&amp;~(1&lt;&lt;k)</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>    <span class=\"token comment\">//a[i>>SHIFT] &amp;= ~(1&lt;&lt;(i &amp;MASK));</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"100\"></td><td><pre>   * è¯»å–æ“ä½œï¼Œè¿”å› 1 ä»£è¡¨è¯¥ bit ä½æœ‰å€¼ï¼Œè¿”å› 0 ä»£è¡¨è¯¥ bit ä½æ²¡å€¼</pre></td></tr><tr><td data-num=\"101\"></td><td><pre>   *</pre></td></tr><tr><td data-num=\"102\"></td><td><pre>   * @param i</pre></td></tr><tr><td data-num=\"103\"></td><td><pre>   * @return int</pre></td></tr><tr><td data-num=\"104\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>    <span class=\"token comment\">//a[i>>SHIFT] &amp; (1&lt;&lt;(i&amp;MASK));</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>    <span class=\"token class-name\">P</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">>></span> SHIFT<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>    <span class=\"token class-name\">S</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">&amp;</span> MASK<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">bitCount</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">[</span><span class=\"token class-name\">P</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token class-name\">S</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"113\"></td><td><pre>   * è·å–æ’åºåçš„æ•°ç»„</pre></td></tr><tr><td data-num=\"114\"></td><td><pre>   * @return</pre></td></tr><tr><td data-num=\"115\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getSortedArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> sortedArray <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>      <span class=\"token comment\">// åˆ¤æ–­ i æ˜¯å¦å­˜åœ¨</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>        sortedArray<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>    <span class=\"token keyword\">return</span> sortedArray<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>    <span class=\"token keyword\">int</span> count <span class=\"token operator\">=</span> <span class=\"token number\">25</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> randoms <span class=\"token operator\">=</span> <span class=\"token function\">getRandomsList</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ’åºå‰ï¼š\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>    <span class=\"token class-name\">BitOperationDemo</span> bitOperation <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BitOperationDemo</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span> e <span class=\"token operator\">:</span> randoms<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>      <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">+</span><span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>      bitOperation<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre></pre></td></tr><tr><td data-num=\"143\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> sortedArray <span class=\"token operator\">=</span> bitOperation<span class=\"token punctuation\">.</span><span class=\"token function\">getSortedArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"144\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"145\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ’åºåï¼š\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span> e <span class=\"token operator\">:</span> sortedArray<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre>      <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">+</span><span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"148\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"149\"></td><td><pre></pre></td></tr><tr><td data-num=\"150\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"151\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"152\"></td><td><pre>            æ’åºå‰ï¼š</pre></td></tr><tr><td data-num=\"153\"></td><td><pre>            24,12,14,8,5,9,17,11,10,22,23,7,21,19,13,15,6,1,20,18,16,2,3,4,</pre></td></tr><tr><td data-num=\"154\"></td><td><pre>            </pre></td></tr><tr><td data-num=\"155\"></td><td><pre>            ------------------------------------------------</pre></td></tr><tr><td data-num=\"156\"></td><td><pre>            </pre></td></tr><tr><td data-num=\"157\"></td><td><pre>            æ’åºåï¼š</pre></td></tr><tr><td data-num=\"158\"></td><td><pre>            1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,</pre></td></tr><tr><td data-num=\"159\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"160\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"161\"></td><td><pre></pre></td></tr><tr><td data-num=\"162\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getRandomsList</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> count<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"163\"></td><td><pre>    <span class=\"token class-name\">Random</span> random <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"164\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> randomsList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"165\"></td><td><pre>    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>randomsList<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"166\"></td><td><pre>      <span class=\"token comment\">// element âˆˆ  [1,count)</span></pre></td></tr><tr><td data-num=\"167\"></td><td><pre>      <span class=\"token keyword\">int</span> element <span class=\"token operator\">=</span> random<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"168\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>randomsList<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"169\"></td><td><pre>        randomsList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"170\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"171\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"172\"></td><td><pre>    <span class=\"token keyword\">return</span> randomsList<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"173\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"174\"></td><td><pre></pre></td></tr><tr><td data-num=\"175\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"enumsetåŸç†è§£æ\"><a class=\"anchor\" href=\"#enumsetåŸç†è§£æ\">#</a> EnumSet åŸç†è§£æ</h3>\n<blockquote>\n<p>æœ‰äº†å‰é¢ <code>ä½å‘é‡</code> çš„åˆ†æï¼Œå¯¹äºäº†è§£ <code>EnumSet</code>  çš„å®ç°åŸç†å°±ä¼šç®€å•ä¸€äº›äº†ï¼Œ <code>EnumSet</code>  å†…éƒ¨ä½¿ç”¨ <code>ä½å‘é‡</code> æ¥å®ç°çš„ï¼Œåœ¨å‰é¢è¯´è¿‡ <code>EnumSet</code>  åªæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œäº‹å®ä¸Šå®ƒå­˜åœ¨ä¸¤ä¸ªå­ç±»ï¼Œ <code>RegularEnumSet</code>  å’Œ <code>JumboEnumSet</code> ã€‚ <code>RegularEnumSet</code>  ä½¿ç”¨ä¸€ä¸ª <code>long</code>  ç±»å‹çš„å˜é‡ä½œä¸º <code>ä½å‘é‡</code> ï¼Œ <code>long</code>  ç±»å‹çš„ä½é•¿åº¦æ˜¯ <code>64 bit</code> ï¼Œå› æ­¤å¯ä»¥å­˜å‚¨ <code>64</code>  ä¸ªæšä¸¾å®ä¾‹çš„æ ‡å¿—ä½ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¤Ÿç”¨çš„äº†ï¼Œè€Œ <code>JumboEnumSet</code>  ä½¿ç”¨ä¸€ä¸ª <code>long</code>  ç±»å‹çš„æ•°ç»„ï¼Œå½“æšä¸¾ä¸ªæ•°è¶…è¿‡ <code>64</code>  æ—¶ï¼Œå°±ä¼šé‡‡ç”¨ <code>long</code>  æ•°ç»„çš„æ–¹å¼å­˜å‚¨ã€‚</p>\n</blockquote>\n<h4 id=\"1ï¸âƒ£-enumsetå†…éƒ¨æ•°æ®ç»“æ„\"><a class=\"anchor\" href=\"#1ï¸âƒ£-enumsetå†…éƒ¨æ•°æ®ç»“æ„\">#</a> 1ï¸âƒ£ EnumSet å†…éƒ¨æ•°æ®ç»“æ„</h4>\n<blockquote>\n<p><code>EnumSet</code>  å†…éƒ¨æ•°æ®ç»“æ„æºç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Cloneable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>   * è¡¨ç¤ºæšä¸¾ç±»å‹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>   * The class of all the elements of this set. -> æ­¤é›†åˆçš„æ‰€æœ‰å…ƒç´ çš„ç±»</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">final</span> <span class=\"token keyword\">transient</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> elementType<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>   * å­˜å‚¨è¯¥ç±»å‹ä¿¡æ¯æ‰€è¡¨ç¤ºçš„æ‰€æœ‰å¯èƒ½çš„æšä¸¾å®ä¾‹</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>   * All of the values comprising E.  (Cached for performance.) -> åŒ…å« E çš„æ‰€æœ‰å€¼ã€‚(ç¼“å­˜ä»¥æé«˜æ€§èƒ½ã€‚)</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token keyword\">final</span> <span class=\"token keyword\">transient</span> <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> universe<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p><code>EnumSet</code>  ä¸­æœ‰ä¸¤ä¸ªå˜é‡ï¼šä¸€ä¸ªæ˜¯ <code>elementType</code>  ç”¨äºè¡¨ç¤ºæšä¸¾ç±»å‹ä¿¡æ¯ï¼Œå¦ä¸€ä¸ªæ˜¯ <code>universe</code>  æ˜¯æ•°ç»„ç±»å‹ç”¨äºå­˜å‚¨è¯¥ç±»å‹ä¿¡æ¯æ‰€è¡¨ç¤ºçš„æ‰€æœ‰å¯èƒ½çš„æšä¸¾å®ä¾‹ï¼Œ <code>EnumSet</code>  æ˜¯æŠ½è±¡ç±»ï¼Œå› æ­¤å…·ä½“å®ç°ç”±å­ç±»æ¥å®Œæˆã€‚</p>\n</blockquote>\n<h4 id=\"2ï¸âƒ£-noneofé™æ€æ–¹æ³•\"><a class=\"anchor\" href=\"#2ï¸âƒ£-noneofé™æ€æ–¹æ³•\">#</a> 2ï¸âƒ£ noneOf () é™æ€æ–¹æ³•</h4>\n<blockquote>\n<p><code>noneOf(Class&lt;E&gt; elementType)</code>  é™æ€æ„é€ æ–¹æ³•æºç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Cloneable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token comment\">// æ ¹æ® EnumMap ä¸­çš„ä¸€æ ·ï¼Œè·å–å¯èƒ½çš„æšä¸¾å®ä¾‹</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">noneOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> elementType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> universe <span class=\"token operator\">=</span> <span class=\"token function\">getUniverse</span><span class=\"token punctuation\">(</span>elementType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>universe <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassCastException</span><span class=\"token punctuation\">(</span>elementType <span class=\"token operator\">+</span> <span class=\"token string\">\" not an enum\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>universe<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;=</span> <span class=\"token number\">64</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token comment\">// æšä¸¾ä¸ªæ•°å°äº 64 åˆ™åˆ›å»º RegularEunmSet</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegularEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>elementType<span class=\"token punctuation\">,</span> universe<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token comment\">// å¦åˆ™åˆ›å»º JumboEnumSet</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JumboEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>elementType<span class=\"token punctuation\">,</span> universe<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä»æºç å¯ä»¥çœ‹å‡ºå¦‚æœæšä¸¾å€¼ä¸ªæ•°å°äºç­‰äº <code>64</code> ï¼Œåˆ™é™æ€å·¥å‚æ–¹æ³•ä¸­åˆ›å»ºçš„å°±æ˜¯ <code>RegularEnumSet</code> ï¼Œå¦åˆ™å¤§äº <code>64</code>  çš„è¯å°±åˆ›å»º <code>JumboEnumSet</code> ã€‚æ— è®ºæ˜¯ <code>RegularEnumSet</code>  è¿˜æ˜¯ <code>JumboEnumSet</code> ï¼Œå…¶æ„é€ å‡½æ•°å†…éƒ¨éƒ½é—´æ¥è°ƒç”¨äº† <code>EnumSet</code>  çš„æ„é€ å‡½æ•°ï¼Œå› æ­¤æœ€ç»ˆçš„ <code>elementType</code>  å’Œ <code>universe</code>  éƒ½ä¼ é€’ç»™äº†çˆ¶ç±» <code>EnumSet</code>  çš„å†…éƒ¨å˜é‡ã€‚</p>\n</blockquote>\n<h4 id=\"3ï¸âƒ£-regularenumsetjumboenumset\"><a class=\"anchor\" href=\"#3ï¸âƒ£-regularenumsetjumboenumset\">#</a> 3ï¸âƒ£ RegularEnumSet&amp;JumboEnumSet</h4>\n<blockquote>\n<p><code>RegularEnumSet</code>  å’Œ <code>JumboEnumSet</code>  æ„é€ æ–¹æ³•æºç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>RegularEnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">RegularEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token comment\">// RegularEnumSet æ„é€ </span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token class-name\">RegularEnumSet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span>elementType<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> universe<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>elementType<span class=\"token punctuation\">,</span> universe<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>JumboEnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">JumboEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token comment\">// JumboEnumSet æ„é€ </span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token class-name\">JumboEnumSet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span>elementType<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> universe<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>elementType<span class=\"token punctuation\">,</span> universe<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    elements <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">long</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>universe<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token number\">63</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>>></span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>RegularEnumSet</code>  å’Œ <code>JumboEnumSet</code>  ç±»ä¸­éƒ½å­˜åœ¨ä¸€ä¸ª <code>elements</code>  å˜é‡ï¼Œç”¨äºè®°å½• <code>ä½å‘é‡</code> çš„æ“ä½œã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>RegularEnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">RegularEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token annotation punctuation\">@java.io.Serial</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">long</span> serialVersionUID <span class=\"token operator\">=</span> <span class=\"token number\">3411599620347842686L</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token comment\">// é€šè¿‡ long ç±»å‹çš„ elements è®°å½•ä½å‘é‡çš„æ“ä½œ</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">long</span> elements <span class=\"token operator\">=</span> <span class=\"token number\">0L</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>JumboEnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">JumboEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token annotation punctuation\">@java.io.Serial</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">long</span> serialVersionUID <span class=\"token operator\">=</span> <span class=\"token number\">334349849919042784L</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token comment\">// é€šè¿‡ long æ•°ç»„ç±»å‹çš„ elements è®°å½•ä½å‘é‡</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">long</span> elements<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token comment\">// è¡¨ç¤ºé›†åˆå¤§å°</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> size <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>RegularEnumSet</code>  ä¸­ <code>elements</code>  æ˜¯ä¸€ä¸ª <code>long</code>  ç±»å‹çš„å˜é‡ï¼Œå…±æœ‰ <code>64</code>  ä¸ª <code>bit</code>  ä½ï¼Œå› æ­¤å¯ä»¥è®°å½• <code>64</code>  ä¸ªæšä¸¾å¸¸é‡ï¼Œå½“æšä¸¾å¸¸é‡çš„æ•°é‡è¶…è¿‡ <code>64</code>  ä¸ªæ—¶ï¼Œå°†ä½¿ç”¨ <code>JumboEnumSet</code> ï¼Œ <code>elements</code>  åœ¨è¯¥ç±»ä¸­ä¸€ä¸ª <code>long</code>  å‹çš„æ•°ç»„ï¼Œæ¯ä¸ªæ•°ç»„å…ƒç´ éƒ½å¯ä»¥å­˜å‚¨ <code>64</code>  ä¸ªæšä¸¾å¸¸é‡ï¼Œè¿™ä¸ªè¿‡ç¨‹å…¶å®ä¸å‰é¢ <code>ä½å‘é‡</code> çš„åˆ†ææ˜¯åŒæ ·çš„é“ç†ï¼Œåªä¸è¿‡å‰é¢ä½¿ç”¨çš„æ˜¯ <code>32</code>  ä½çš„ <code>int</code>  ç±»å‹ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯ <code>64</code>  ä½çš„ <code>long</code>  ç±»å‹ç½¢äº†ã€‚</p>\n</blockquote>\n<h4 id=\"4ï¸âƒ£-regularenumset-addæ–¹æ³•\"><a class=\"anchor\" href=\"#4ï¸âƒ£-regularenumset-addæ–¹æ³•\">#</a> 4ï¸âƒ£ RegularEnumSet - Add () æ–¹æ³•</h4>\n<blockquote>\n<p>ä¸‹é¢æ¥çœ‹ <code>EnumSet</code>  æ˜¯å¦‚ä½•æ·»åŠ æ•°æ®çš„ <code>RegularEnumSet</code>  ä¸­çš„ <code>add</code>  æºç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>RegularEnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">RegularEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">// æ£€æµ‹æ˜¯å¦ä¸ºæšä¸¾ç±»å‹</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token function\">typeCheck</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">// è®°å½•æ—§ elements</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">long</span> oldElements <span class=\"token operator\">=</span> elements<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">// æ‰§è¡Œä½å‘é‡æ“ä½œ</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">// æ•°ç»„ç‰ˆï¼ša [i>> SHIFT ] |= (1 &lt;&lt; (i &amp; MASK))</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    elements <span class=\"token operator\">|=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1L</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">return</span> elements <span class=\"token operator\">!=</span> oldElements<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å…³äº <code>elements |= (1L &lt;&lt; ((Enum&lt;?&gt;)e).ordinal());</code>  è¿™å¥è·Ÿæˆ‘ä»¬æ‰€åˆ†æçš„ <code>ä½å‘é‡</code> æ“ä½œæ˜¯ç›¸åŒçš„åŸç†ï¼Œåªä¸è¿‡å‰é¢åˆ†æçš„æ˜¯æ•°ç»„ç±»å‹å®ç°ï¼Œè¿™é‡Œç”¨çš„ <code>long</code>  ç±»å‹å•ä¸€å˜é‡å®ç°ï¼Œ <code>((Enum)e).ordinal()</code>  é€šè¿‡è¯¥è¯­å¥è·å–è¦æ·»åŠ çš„æšä¸¾å®ä¾‹çš„åºå·ï¼Œç„¶åé€šè¿‡ <code>1</code>  å·¦ç§»å†ä¸ <code>long</code>  ç±»å‹çš„ <code>elements</code>  è¿›è¡Œæˆ–æ“ä½œï¼Œå°±å¯ä»¥æŠŠå¯¹åº”ä½ç½®ä¸Šçš„ <code>bit</code>  è®¾ç½®ä¸º <code>1</code>  äº†ï¼Œä¹Ÿå°±ä»£è¡¨è¯¥æšä¸¾å®ä¾‹çš„å­˜åœ¨ã€‚<br />\nè¯¦ç»†è¿‡ç¨‹è¯·çœ‹ä¸‹å›¾ï¼šæ³¨æ„ <code>universe</code>  æ•°ç»„åœ¨ <code>EnumSet</code>  åˆ›å»ºæ—¶å°±åˆå§‹åŒ–å¹¶å¡«å……äº†æ‰€æœ‰å¯èƒ½çš„æšä¸¾å®ä¾‹ï¼Œè€Œ <code>elements</code>  å€¼çš„ç¬¬ <code>n</code>  ä¸ª <code>bit</code>  ä½ä¸º <code>1</code>  æ—¶ä»£è¡¨æšä¸¾å­˜åœ¨ï¼Œè€Œè·å–çš„åˆ™æ˜¯ä» <code>universe</code>  æ•°ç»„ä¸­çš„ç¬¬ <code>n</code>  ä¸ªå…ƒç´ å€¼ã€‚</p>\n</blockquote>\n<p><img data-src=\"https://z1.ax1x.com/2023/12/12/pifZexK.jpg\" alt=\"pifZexK.jpg\" /></p>\n<blockquote>\n<p>ä»¥ä¸Šå°±æ˜¯æšä¸¾å®ä¾‹çš„æ·»åŠ è¿‡ç¨‹å’Œè·å–åŸç†ï¼Œè€Œå¯¹äº <code>JumboEnumSet</code>  çš„ <code>add</code>  æ¥ç€çœ‹ä¸‹é¢ã€‚</p>\n</blockquote>\n<h4 id=\"5ï¸âƒ£-jumboenumset-addæ–¹æ³•\"><a class=\"anchor\" href=\"#5ï¸âƒ£-jumboenumset-addæ–¹æ³•\">#</a> 5ï¸âƒ£ JumboEnumSet - Add () æ–¹æ³•</h4>\n<blockquote>\n<p>æ¥ç€æ¥çœ‹ <code>JumboEnumSet</code>  çš„ <code>add</code>  æºç å®ç°å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>JumboEnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">JumboEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token function\">typeCheck</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">// è®¡ç®— ordinal å€¼</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">int</span> eOrdinal <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">int</span> eWordNum <span class=\"token operator\">=</span> eOrdinal <span class=\"token operator\">>>></span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">long</span> oldElements <span class=\"token operator\">=</span> elements<span class=\"token punctuation\">[</span>eWordNum<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">// ä¸å‰é¢åˆ†æçš„ä½å‘é‡ç›¸åŒï¼ša [i>> SHIFT ] |= (1 &lt;&lt; (i &amp; MASK))</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    elements<span class=\"token punctuation\">[</span>eWordNum<span class=\"token punctuation\">]</span> <span class=\"token operator\">|=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1L</span> <span class=\"token operator\">&lt;&lt;</span> eOrdinal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">boolean</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>elements<span class=\"token punctuation\">[</span>eWordNum<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> oldElements<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      size<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å…³äº <code>JumboEnumSet</code>  çš„ <code>add</code>  æ–¹æ³•çš„å®ç°ä¸ <code>RegularEuumSet</code>  åŒºåˆ«æ˜¯ä¸€ä¸ª <code>long</code>  æ•°ç»„ç±»å‹ï¼Œä¸€ä¸ª <code>long</code>  å˜é‡ï¼Œè¿ç®—åŸç†ç›¸åŒï¼Œæ•°ç»„çš„ <code>ä½å‘é‡</code> è¿ç®—ä¸å‰é¢çš„åˆ†ææ˜¯ç›¸åŒçš„ï¼Œã€‚</p>\n</blockquote>\n<h4 id=\"6ï¸âƒ£-regularenumsetjumboenumset-removeæ–¹æ³•\"><a class=\"anchor\" href=\"#6ï¸âƒ£-regularenumsetjumboenumset-removeæ–¹æ³•\">#</a> 6ï¸âƒ£ RegularEnumSet&amp;JumboEnumSet - remove () æ–¹æ³•</h4>\n<blockquote>\n<p><code>RegularEnumSet</code>  å’Œ <code>JumboEnumSet</code>  çš„ <code>remove()</code>  æºç å®ç°å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>RegularEnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">RegularEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> eClass <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>eClass <span class=\"token operator\">!=</span> elementType <span class=\"token operator\">&amp;&amp;</span> eClass<span class=\"token punctuation\">.</span><span class=\"token function\">getSuperclass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> elementType<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">long</span> oldElements <span class=\"token operator\">=</span> elements<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">// å°† int ç±»å‹å˜é‡ j çš„ç¬¬ k ä¸ªæ¯”ç‰¹ä½è®¾ç½®ä¸º 0ï¼Œå³ï¼šj = j&amp;~(1&lt;&lt;k)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">// æ•°ç»„ç±»å‹ï¼ša [i>>SHIFT] &amp;= ~(1&lt;&lt;(i &amp; MASK));</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    elements <span class=\"token operator\">&amp;=</span> <span class=\"token operator\">~</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">return</span> elements <span class=\"token operator\">!=</span> oldElements<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>JumboEnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">JumboEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> eClass <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>eClass <span class=\"token operator\">!=</span> elementType <span class=\"token operator\">&amp;&amp;</span> eClass<span class=\"token punctuation\">.</span><span class=\"token function\">getSuperclass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> elementType<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">int</span> eOrdinal <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">int</span> eWordNum <span class=\"token operator\">=</span> eOrdinal <span class=\"token operator\">>>></span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">long</span> oldElements <span class=\"token operator\">=</span> elements<span class=\"token punctuation\">[</span>eWordNum<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">// ä¸ a [i>>SHIFT] &amp;= ~(1&lt;&lt;(i &amp;MASK)); ç›¸åŒ</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    elements<span class=\"token punctuation\">[</span>eWordNum<span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;=</span> <span class=\"token operator\">~</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span> <span class=\"token operator\">&lt;&lt;</span> eOrdinal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">boolean</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>elements<span class=\"token punctuation\">[</span>eWordNum<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> oldElements<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      size<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p><code>remove()</code>  æ–¹æ³•çš„å®ç°ï¼Œè·Ÿ <code>ä½å‘é‡</code> æ¸…ç©ºæ“ä½œæ˜¯åŒæ ·çš„å®ç°åŸç†ï¼Œè¯·çœ‹ä¸‹å›¾ï¼š</p>\n</blockquote>\n<p><img data-src=\"https://z1.ax1x.com/2023/12/12/pifiaqA.png\" alt=\"pifiaqA.png\" /></p>\n<blockquote>\n<p>è‡³äº <code>JumboEnumSet</code>  çš„å®ç°åŸç†ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œä¸‹é¢ä¸ºäº†ç®€æ´èµ·è§ï¼Œæˆ‘ä»¬ä»¥ <code>RegularEnumSet</code>  ç±»çš„å®ç°ä½œä¸ºæºç åˆ†æï¼Œæ¯•ç«Ÿ <code>JumboEnumSet</code>  çš„å†…éƒ¨å®ç°åŸç†å¯ä»¥è¯´è·Ÿå‰é¢åˆ†æè¿‡çš„ <code>ä½å‘é‡</code> å‡ ä¹ä¸€æ ·ã€‚</p>\n</blockquote>\n<h4 id=\"7ï¸âƒ£-containscontainsallæ–¹æ³•\"><a class=\"anchor\" href=\"#7ï¸âƒ£-containscontainsallæ–¹æ³•\">#</a> 7ï¸âƒ£ contains ()&amp;containsAll () æ–¹æ³•</h4>\n<blockquote>\n<p>æ¥ç€æ¥çœ‹å¦‚ä½•åˆ¤è¯»æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ ï¼Œæºç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>RegularEnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">RegularEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> eClass <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>eClass <span class=\"token operator\">!=</span> elementType <span class=\"token operator\">&amp;&amp;</span> eClass<span class=\"token punctuation\">.</span><span class=\"token function\">getSuperclass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> elementType<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">// å…ˆå·¦ç§»å†è¿›è¡Œ & amp; æ“ä½œ</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>elements <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1L</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Enum</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ordinal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">containsAll</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collection</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> c<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>c <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">RegularEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> es<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">containsAll</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>es<span class=\"token punctuation\">.</span>elementType <span class=\"token operator\">!=</span> elementType<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token keyword\">return</span> es<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">// ~elements å–åç›¸å½“äº elements è¡¥é›†ï¼Œå†ä¸ es.elements è¿›è¡Œ & amp; æ“ä½œï¼Œå¦‚æœä¸º 0 å°±è¯´æ˜ elements è¡¥é›†ä¸ es.elements æ²¡æœ‰äº¤é›†ï¼Œä¹Ÿå°±æ˜¯ es.elements æ˜¯ elements çš„å­é›†</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>es<span class=\"token punctuation\">.</span>elements <span class=\"token operator\">&amp;</span> <span class=\"token operator\">~</span>elements<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å¯¹äº <code>contains(Object e)</code>  æ–¹æ³•ï¼Œå…ˆå·¦ç§»å†æŒ‰ä½è¿›è¡Œ <code>&amp;</code>  æ“ä½œï¼Œä¸ä¸º <code>0</code>  åˆ™è¡¨ç¤ºåŒ…å«è¯¥å…ƒç´ ï¼Œè·Ÿ <code>ä½å‘é‡</code> çš„ <code>get</code>  æ“ä½œå®ç°åŸç†å·®ä¸å¤šã€‚å¯¹äº <code>containsAll(Collection&lt;?&gt; c)</code>  åˆ™å¯èƒ½æ¯”è¾ƒéš¾æ‡‚ï¼Œè¿™é‡Œåˆ†æä¸€ä¸‹ <code>elements</code>  çš„ <code>long</code>  ç±»å‹å˜é‡æ ‡è®° <code>EnumSet</code>  é›†åˆä¸­å·²å­˜åœ¨å…ƒç´ çš„ <code>bit</code>  ä½ï¼Œå¦‚æœ <code>bit</code>  ä½ä¸º <code>1</code>  åˆ™è¯´æ˜å­˜åœ¨æšä¸¾å®ä¾‹ï¼Œä¸º <code>0</code>  åˆ™ä¸å­˜åœ¨ï¼Œç°åœ¨æ‰§è¡Œ <code>~elements</code>  æ“ä½œåï¼Œåˆ™è¯´æ˜ <code>~elements</code>  çš„ <code>elements</code>  çš„è¡¥é›†ï¼Œé‚£ä¹ˆåªè¦ä¼ é€’è¿›æ¥çš„ <code>es.elements</code>  ä¸è¡¥é›† <code>~elements</code>  æ‰§è¡Œ <code>&amp;</code>  æ“ä½œä¸º <code>0</code> ï¼Œå°±å¯ä»¥è¯æ˜ <code>es.elements</code>  ä¸è¡¥é›† <code>~elements</code>  æ²¡æœ‰äº¤é›†çš„å¯èƒ½ï¼Œä¹Ÿå°±è¯´ <code>es.elements</code>  åªèƒ½æ˜¯ <code>elements</code>  çš„å­é›†ï¼Œè¿™æ ·å°±å¯ä»¥åˆ¤æ–­å‡ºå½“å‰ <code>EnumSet</code>  é›†åˆä¸­åŒ…å«ä¼ é€’è¿›æ¥çš„é›†åˆ <code>c</code>  äº†ï¼Œè¯¦ç»†è¯·çœ‹ä¸‹å›¾ï¼š</p>\n</blockquote>\n<p><img data-src=\"https://z1.ax1x.com/2023/12/12/pifAjds.png\" alt=\"pifAjds.png\" /></p>\n<blockquote>\n<p>ä¸Šå›¾ä¸­ï¼Œ <code>elements</code>  ä»£è¡¨ <code>A</code> , <code>es.elements</code>  ä»£è¡¨ Bï¼Œ <code>~elements</code>  å°±æ˜¯æ±‚ <code>A</code>  çš„è¡¥é›†ï¼Œ <code>(es.elements &amp; ~elements) == 0</code>  å°±æ˜¯åœ¨éªŒè¯ <code>Aâˆ©B</code>  æ˜¯ä¸æ˜¯ç©ºé›†ï¼Œå³ <code>B</code>  æ˜¯å¦ä¸º <code>A</code>  çš„å­é›†ã€‚</p>\n</blockquote>\n<h4 id=\"8ï¸âƒ£-retainallæ–¹æ³•\"><a class=\"anchor\" href=\"#8ï¸âƒ£-retainallæ–¹æ³•\">#</a> 8ï¸âƒ£ retainAll () æ–¹æ³•</h4>\n<blockquote>\n<p>æ¥ç€çœ‹ <code>retainAll()</code>  æ–¹æ³•ï¼Œæ±‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†ï¼Œæºç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>RegularEnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">RegularEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">retainAll</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collection</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> c<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>c <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">RegularEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> es<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">retainAll</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>es<span class=\"token punctuation\">.</span>elementType <span class=\"token operator\">!=</span> elementType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token keyword\">boolean</span> changed <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>elements <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      elements <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token keyword\">return</span> changed<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">long</span> oldElements <span class=\"token operator\">=</span> elements<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">// æ‰§è¡Œ &amp; æ“ä½œï¼Œæ±‚äº¤é›†æ¯”è¾ƒç®€å•</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    elements <span class=\"token operator\">&amp;=</span> es<span class=\"token punctuation\">.</span>elements<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">return</span> elements <span class=\"token operator\">!=</span> oldElements<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h4 id=\"9ï¸âƒ£-iteratoræ–¹æ³•å–å€¼\"><a class=\"anchor\" href=\"#9ï¸âƒ£-iteratoræ–¹æ³•å–å€¼\">#</a> 9ï¸âƒ£ iterator () æ–¹æ³•å–å€¼</h4>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>RegularEnumSet.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">RegularEnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EnumSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Iterator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">iterator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EnumSetIterator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EnumSetIterator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Enum</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Iterator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">// è®°å½• elements</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">long</span> unseen<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">// è®°å½•æœ€åä¸€ä¸ªè¿”å›å€¼</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">long</span> lastReturned <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token class-name\">EnumSetIterator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      unseen <span class=\"token operator\">=</span> elements<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">hasNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token keyword\">return</span> unseen <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token annotation punctuation\">@SuppressWarnings</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"unchecked\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">E</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>unseen <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NoSuchElementException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>      <span class=\"token comment\">// å–å€¼è¿‡ç¨‹ï¼šå…ˆä¸æœ¬èº«è´Ÿæ‰§è¡Œ & amp; æ“ä½œå¾—å‡ºçš„å°±æ˜¯äºŒè¿›åˆ¶ä½ä½å¼€å§‹çš„ç¬¬ä¸€ä¸ª 1 çš„æ•°å€¼å¤§å°å“¦</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>      lastReturned <span class=\"token operator\">=</span> unseen <span class=\"token operator\">&amp;</span> <span class=\"token operator\">-</span>unseen<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>      <span class=\"token comment\">// å–å€¼åå‡å»å·²å–å¾— lastReturned</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>      unseen <span class=\"token operator\">-=</span> lastReturned<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>      <span class=\"token comment\">// è¿”å›åœ¨æŒ‡å®š long å€¼çš„äºŒè¿›åˆ¶è¡¥ç è¡¨ç¤ºå½¢å¼ä¸­æœ€ä½ä½ (æœ€å³è¾¹) çš„ 1 ä½ä¹‹åçš„é›¶ä½çš„æ•°é‡</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">)</span> universe<span class=\"token punctuation\">[</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">.</span><span class=\"token function\">numberOfTrailingZeros</span><span class=\"token punctuation\">(</span>lastReturned<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>lastReturned <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalStateException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>      elements <span class=\"token operator\">&amp;=</span> <span class=\"token operator\">~</span>lastReturned<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>      lastReturned <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æ¯”è¾ƒéš¾æ‡‚çš„åº”è¯¥æ˜¯ä¸‹é¢è¿™äº›ä»£ç ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å–å€¼è¿‡ç¨‹ï¼Œå…ˆä¸æœ¬èº«è´Ÿæ‰§è¡Œ & amp; æ“ä½œå¾—å‡ºçš„å°±æ˜¯äºŒè¿›åˆ¶ä½ä½å¼€å§‹çš„ç¬¬ä¸€ä¸ª 1 çš„æ•°å€¼å¤§å°</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>lastReturned <span class=\"token operator\">=</span> unseen <span class=\"token operator\">&amp;</span> <span class=\"token operator\">-</span>unseen<span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// å–å€¼åå‡å»å·²å–å¾— lastReturned</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>unseen <span class=\"token operator\">-=</span> lastReturned<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// è¿”å›åœ¨æŒ‡å®š long å€¼çš„äºŒè¿›åˆ¶è¡¥ç è¡¨ç¤ºå½¢å¼ä¸­æœ€ä½ä½ (æœ€å³è¾¹) çš„ 1 ä½ä¹‹åçš„é›¶ä½çš„æ•°é‡</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">)</span> universe<span class=\"token punctuation\">[</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">.</span><span class=\"token function\">numberOfTrailingZeros</span><span class=\"token punctuation\">(</span>lastReturned<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>æˆ‘ä»¬é€šè¿‡åŸç†å›¾æ¥å¸®åŠ©ç†è§£ï¼Œç°åœ¨å‡è®¾é›†åˆä¸­å·²ä¿å­˜æ‰€æœ‰å¯èƒ½çš„æšä¸¾å®ä¾‹å˜é‡ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒä»¬éå†å‡ºæ¥ï¼Œä¸‹é¢çš„ç¬¬ä¸€ä¸ªæšä¸¾å…ƒç´ çš„è·å–è¿‡ç¨‹ï¼Œæ˜¾ç„¶é€šè¿‡ <code>unseen &amp; -unseen</code>  æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°äºŒè¿›åˆ¶ä½ä½å¼€å§‹çš„ç¬¬ä¸€ä¸ª <code>1</code>  çš„æ•°å€¼ï¼Œè¯¥è®¡ç®—çš„ç»“æœæ˜¯è¦ä¹ˆå…¨éƒ¨éƒ½æ˜¯ <code>0</code>  è¦ä¹ˆå°±åªæœ‰ä¸€ä¸ª <code>1</code> ï¼Œç„¶åèµ‹å€¼ç»™ <code>lastReturned</code>  é€šè¿‡ <code>Long.numberOfTrailingZeros(lastReturned)</code>  è·å–åˆ°è¯¥ <code>bit</code>  ä¸º <code>1</code>  åœ¨ <code>64</code>  ä½çš„ <code>long</code>  ç±»å‹ä¸­çš„ä½ç½®ï¼Œå³ï¼šä»ä½ä½ç®—èµ·çš„ç¬¬å‡ ä¸ª <code>bit</code> ã€‚<br />\nè¯¦ç»†çœ‹ä¸‹å›¾ï¼šè¯¥ <code>bit</code>  çš„ä½ç½®æ°å¥½æ˜¯ä½ä½çš„ç¬¬ <code>1</code>  ä¸ª <code>bit</code>  ä½ç½®ï¼Œä¹Ÿå°±æŒ‡æ˜äº† <code>universe</code>  æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯è¦è·å–çš„æšä¸¾å˜é‡ã€‚æ‰§è¡Œ <code>unseen -= lastReturned</code>  åç»§ç»­è¿›è¡Œç¬¬ <code>2</code>  ä¸ªå…ƒç´ çš„éå†ï¼Œä»¥æ­¤ç±»æ¨éå†å‡ºæ‰€æœ‰å€¼ï¼Œè¿™å°±æ˜¯ <code>EnumSet</code>  çš„å–å€¼è¿‡ç¨‹ï¼ŒçœŸæ­£å­˜å‚¨æšä¸¾å˜é‡çš„æ˜¯ <code>universe</code>  æ•°ç»„ï¼Œè€Œé€šè¿‡ <code>long</code>  ç±»å‹å˜é‡çš„ <code>bit</code>  ä½çš„ <code>0</code>  æˆ– <code>1</code>  è¡¨ç¤ºå­˜å‚¨è¯¥æšä¸¾å˜é‡åœ¨ <code>universe</code>  æ•°ç»„çš„é‚£ä¸ªä½ç½®ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ä»»ä½•æ“ä½œéƒ½æ˜¯æ‰§è¡Œ <code>long</code>  ç±»å‹å˜é‡çš„ <code>bit</code>  ä½æ“ä½œï¼Œè¿™æ ·æ‰§è¡Œæ•ˆç‡å°†ä¼šç‰¹åˆ«é«˜ï¼Œæ¯•ç«Ÿæ˜¯äºŒè¿›åˆ¶ç›´æ¥æ‰§è¡Œï¼Œåªæœ‰æœ€ç»ˆè·å–å€¼æ—¶æ‰ä¼šæ“ä½œåˆ°æ•°ç»„ <code>universe</code> ã€‚</p>\n</blockquote>\n<p><img data-src=\"https://z1.ax1x.com/2023/12/13/pifmjPA.png\" alt=\"pifmjPA.png\" /></p>\n<blockquote>\n<p>ä»¥ä¸Šè¿™äº›å°±æ˜¯å…³äº <code>EnumSet</code>  çš„å®ç°åŸç†çš„ä¸»è¦éƒ¨åˆ†ï¼Œå…¶å†…éƒ¨ä½¿ç”¨ <code>ä½å‘é‡</code> æ¥æ‰§è¡Œï¼Œå­˜å‚¨ç»“æ„ç®€æ´ï¼ŒèŠ‚çœç©ºé—´ï¼Œè€Œå¤§éƒ¨åˆ†æ“ä½œéƒ½æ˜¯æŒ‰ä½è¿ç®—æ¥æ‰§è¡Œï¼Œç›´æ¥æ“ä½œäºŒè¿›åˆ¶æ•°æ®æ•ˆç‡æé«˜ï¼Œè¿™å°±æ˜¯æœ¬æœŸçš„æšä¸¾å…¨éƒ¨å†…å®¹ã€‚</p>\n</blockquote>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaæ·±å…¥ç†è§£",
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaé«˜çº§ç‰¹æ€§",
                "Javaæšä¸¾ç±»å‹"
            ]
        },
        {
            "id": "https://rainrem.top/%E6%95%A3%E7%AB%A0/%E7%A1%AC%E4%BB%B6%E5%BD%92%E7%BA%B3/",
            "url": "https://rainrem.top/%E6%95%A3%E7%AB%A0/%E7%A1%AC%E4%BB%B6%E5%BD%92%E7%BA%B3/",
            "title": "ç¡¬ä»¶å½’çº³",
            "date_published": "2023-11-29T16:06:00.000Z",
            "content_html": "<h1 id=\"ç”µé˜»æ¬§å§†å…¬å¼\"><a class=\"anchor\" href=\"#ç”µé˜»æ¬§å§†å…¬å¼\">#</a> ç”µé˜»æ¬§å§†å…¬å¼</h1>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">é¢œè‰²</th>\n<th style=\"text-align:center\">å•ä½ Î©</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">æ£•</td>\n<td style=\"text-align:center\">1Î©</td>\n</tr>\n<tr>\n<td style=\"text-align:center\" class=\"red\">çº¢</td>\n<td style=\"text-align:center\">2Î©</td>\n</tr>\n<tr>\n<td style=\"text-align:center\" class=\"orange\">æ©™</td>\n<td style=\"text-align:center\">3Î©</td>\n</tr>\n<tr>\n<td style=\"text-align:center\" class=\"yellow\">é»„</td>\n<td style=\"text-align:center\">4Î©</td>\n</tr>\n<tr>\n<td style=\"text-align:center\" class=\"green\">ç»¿</td>\n<td style=\"text-align:center\">5Î©</td>\n</tr>\n<tr>\n<td style=\"text-align:center\" class=\"blue\">è“</td>\n<td style=\"text-align:center\">6Î©</td>\n</tr>\n<tr>\n<td style=\"text-align:center\" class=\"purple\">ç´«</td>\n<td style=\"text-align:center\">7Î©</td>\n</tr>\n<tr>\n<td style=\"text-align:center\" class=\"grey\">ç°</td>\n<td style=\"text-align:center\">8Î©</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ç™½</td>\n<td style=\"text-align:center\">9Î©</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">é»‘</td>\n<td style=\"text-align:center\">0Î©</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">é‡‘è‰²</td>\n<td style=\"text-align:center\">è¯¯å·® Â± 5%(95%~105%)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">é“¶è‰²</td>\n<td style=\"text-align:center\">è¯¯å·® Â± 10%(90%~110%)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">æ— è‰²</td>\n<td style=\"text-align:center\">è¯¯å·® Â± 20%(80%~120%)</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>æ™®é€šç”µé˜»è®¡ç®—å…¬å¼æ˜¯æ ¹æ®ç”µé˜»ä¸Šé¢çš„è‰²ç¯æ¥è®¡ç®—å‡ºæ˜¯å¤šå°‘ <code>Î©</code>  çš„ç”µé˜»ã€‚</li>\n<li><code>å››è‰²ç¯ç”µé˜»</code> ï¼šå‰ä¸¤ä½ä»£è¡¨æ­£å¸¸å€¼ç¬¬ä¸‰ä½ä»£è¡¨éœ€è¦åœ¨åé¢è¡¥å‡ ä¸ª <code>0</code>  çš„ä¸ªæ•°ï¼Œç¬¬å››ä½åˆ™æ˜¯ä»£è¡¨è¯¯å·®æ­£è´Ÿå€¼ã€‚\n<ul>\n<li>å¦‚ï¼š<span class=\"orange\">æ©™</span><span class=\"red\">çº¢</span><span class=\"red\">çº¢</span>ï¼Œæ©™è‰²ä»£è¡¨ <code>3</code> ï¼Œçº¢è‰²ä»£è¡¨ <code>2</code> ï¼Œæ‹¼åœ¨ä¸€èµ·å°±æ˜¯ <code>32</code>  ä½†æ˜¯ç¬¬ä¸‰ä½ä¹Ÿæ˜¯ä¸€ä¸ª <code>2</code> ï¼Œä¹Ÿå°±æ˜¯ä»£è¡¨éœ€è¦åœ¨æœ«å°¾å¤„è¡¥ä¸¤ä¸ª <code>0</code> ï¼Œæœ€åå°±æ˜¯ <code>3200Î©</code>  â¡ï¸  <code>3.2KÎ©</code> ã€‚</li>\n<li>å¦‚ï¼š<span class=\"purple\">ç´«</span><span class=\"grey\">ç°</span><span class=\"orange\">æ©™</span> â¡ï¸  <code>78000Î©</code>  â¡ï¸ æ¯ä¸‰ä½è¿›ä¸€åˆ™ä¸ºåƒ <code>78.000</code>  â¡ï¸  <code>78KÎ©</code> ã€‚</li>\n<li>å¦‚ï¼š<span class=\"blue\">è“</span><span class=\"green\">ç»¿</span><span class=\"yellow\">é»„</span> â¡ï¸  <code>650000Î©</code>  â¡ï¸ æ¯ä¸‰ä½è¿›ä¸€åˆ™ä¸ºåƒ <code>650.000</code>  â¡ï¸ <code>650KÎ©</code> â¡ï¸ æ¯ä¸‰ä½è¿›ä¸€åˆ™ä¸ºä¸‡ <code>65MÎ©</code> ã€‚</li>\n<li>å¦‚ï¼š<span class=\"grey\">ç°</span><span class=\"red\">çº¢</span>é»‘ â¡ï¸ ç¬¬ä¸‰ä½é»‘è‰²ä»£è¡¨ <code>0</code>  åˆ™ä¸éœ€è¦åœ¨åé¢è¡¥ä»»ä½•æ•°ï¼Œæ¯•ç«Ÿ <code>0</code>  ä»£è¡¨ <code>0</code>  ä¸ªæ•°ï¼Œâ¡ï¸  <code>82Î©</code> â¡ï¸  <code>0.82KÎ©</code> ã€‚</li>\n<li>ä¾‹ï¼š<span class=\"orange\">â–‹</span><span class=\"red\">â–‹</span>â–‹ â¡ï¸ <span class=\"orange\">æ©™è‰² = 3</span><span class=\"red\"> çº¢è‰² = 2</span> é»‘è‰² = 0 â¡ï¸ 32<s>0</s> â¡ï¸ 32Î© â¡ï¸ 0.32KÎ©ã€‚</li>\n</ul>\n</li>\n<li><code>äº”è‰²ç¯ç”µé˜»</code> ï¼š äº”è‰²ç¯å’Œå››è‰²ç¯ä¸€æ ·ï¼Œåªä¸è¿‡æ˜¯äº”è‰²ç¯å‰ä¸‰ä½ä»£è¡¨æ­£å¸¸å€¼ï¼Œç¬¬å››ä½ä»£è¡¨éœ€è¦åœ¨åé¢è¡¥å‡ ä¸ª <code>0</code>  çš„ä¸ªæ•°ï¼Œç¬¬äº”ä½åˆ™æ˜¯ä»£è¡¨è¯¯å·®æ­£è´Ÿå€¼ã€‚\n<ul>\n<li>å¦‚ï¼š<span class=\"orange\">æ©™</span><span class=\"red\">çº¢</span><span class=\"red\">çº¢</span><span class=\"orange\">æ©™</span> â¡ï¸  <code>322000</code>  â¡ï¸  <code>322KÎ©</code> â¡ï¸  <code>32.2MÎ©</code> ã€‚</li>\n<li>å¦‚ï¼š<span class=\"yellow\">é»„</span><span class=\"green\">ç»¿</span><span class=\"blue\">è“</span><span class=\"red\">çº¢</span> â¡ï¸  <code>45600</code>  â¡ï¸  <code>45.6KÎ©</code> ã€‚</li>\n<li>å¦‚ï¼š<span class=\"yellow\">é»„</span><span class=\"green\">ç»¿</span><span class=\"blue\">è“</span>é»‘ â¡ï¸  <code>456</code>  â¡ï¸  <code>0.456KÎ©</code> ã€‚</li>\n<li>ä¾‹ï¼š<span class=\"yellow\">â–‹</span><span class=\"green\">â–‹</span><span class=\"blue\">â–‹</span>â–‹ â¡ï¸ <span class=\"yellow\">æ©™è‰² = 4</span><span class=\"green\"> ç»¿è‰² = 5</span><span class=\"blue\"> è“è‰² = 6</span> é»‘è‰² = 0 â¡ï¸ 456<s>0</s> â¡ï¸ 456Î© â¡ï¸ 0.456KÎ©ã€‚</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"è´´ç‰‡ç”µé˜»å…¬å¼\"><a class=\"anchor\" href=\"#è´´ç‰‡ç”µé˜»å…¬å¼\">#</a> è´´ç‰‡ç”µé˜»å…¬å¼</h1>\n<h1 id=\"æ·±å…¥ç†è§£ç”µå®¹\"><a class=\"anchor\" href=\"#æ·±å…¥ç†è§£ç”µå®¹\">#</a> æ·±å…¥ç†è§£ç”µå®¹</h1>\n<h1 id=\"æ´—è¡£æœºå·¥ä½œåŸç†\"><a class=\"anchor\" href=\"#æ´—è¡£æœºå·¥ä½œåŸç†\">#</a> æ´—è¡£æœºå·¥ä½œåŸç†</h1>\n<h1 id=\"å†°ç®±å·¥ä½œåŸç†\"><a class=\"anchor\" href=\"#å†°ç®±å·¥ä½œåŸç†\">#</a> å†°ç®±å·¥ä½œåŸç†</h1>\n<h1 id=\"ç©ºè°ƒå·¥ä½œåŸç†\"><a class=\"anchor\" href=\"#ç©ºè°ƒå·¥ä½œåŸç†\">#</a> ç©ºè°ƒå·¥ä½œåŸç†</h1>\n<h1 id=\"å‹ç¼©æœºå·¥ä½œåŸç†\"><a class=\"anchor\" href=\"#å‹ç¼©æœºå·¥ä½œåŸç†\">#</a> å‹ç¼©æœºå·¥ä½œåŸç†</h1>\n<h1 id=\"äº¤æµç”µç›´æµç”µ\"><a class=\"anchor\" href=\"#äº¤æµç”µç›´æµç”µ\">#</a> äº¤æµç”µ &amp; ç›´æµç”µ</h1>\n<h1 id=\"ä¸‡ç”¨è¡¨æµ‹é‡æ–¹æ³•\"><a class=\"anchor\" href=\"#ä¸‡ç”¨è¡¨æµ‹é‡æ–¹æ³•\">#</a> ä¸‡ç”¨è¡¨æµ‹é‡æ–¹æ³•</h1>\n<h1 id=\"ç„Šæ¥æ³¨æ„äº‹é¡¹\"><a class=\"anchor\" href=\"#ç„Šæ¥æ³¨æ„äº‹é¡¹\">#</a> ç„Šæ¥æ³¨æ„äº‹é¡¹</h1>\n<h1 id=\"ç†è§£ä»€ä¹ˆæ˜¯é”¡ç„Š\"><a class=\"anchor\" href=\"#ç†è§£ä»€ä¹ˆæ˜¯é”¡ç„Š\">#</a> ç†è§£ä»€ä¹ˆæ˜¯é”¡ç„Š</h1>\n",
            "tags": [
                "ç¡¬ä»¶",
                "ç¡¬ä»¶"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "title": "Javaç±»åŠ è½½å™¨æ·±å…¥ç†è§£",
            "date_published": "2023-11-28T13:32:40.000Z",
            "content_html": "<blockquote>\n<p>æœ¬ç¯‡ç« æºç åŸºäº <code>Java 8</code>  ç‰ˆæœ¬ï¼Œä¸åŒç‰ˆæœ¬å¯èƒ½å­˜åœ¨å·®å¼‚ã€‚<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRlZS5jb20vUmFpblNhdWNlL2phdmEtY2xhc3MtbG9hZGVyLWRlbW8=\">ğŸš€æœ¬ç¯‡ç« ä»£ç  Demo</span></p>\n</blockquote>\n<h1 id=\"ç±»åŠ è½½æ‰§è¡Œæµç¨‹\"><a class=\"anchor\" href=\"#ç±»åŠ è½½æ‰§è¡Œæµç¨‹\">#</a> ç±»åŠ è½½æ‰§è¡Œæµç¨‹</h1>\n<ul>\n<li>æˆ‘ä»¬æ¯ç¼–å†™ä¸€ä¸ª <code>.java</code>  æ–‡ä»¶çš„æ—¶å€™éƒ½å‚¨è“„ç€éœ€è¦æ‰§è¡Œçš„ç¨‹åºä¸é€»è¾‘ã€‚</li>\n<li>è¿™äº› <code>.java</code>  æ–‡ä»¶ç»è¿‡ <code>Java</code>  ç¼–è¯‘å™¨åä¼šç”Ÿæˆå®ƒå¯¹åº”çš„ç±»åŠ è½½æ–‡ä»¶ä¹Ÿå°±æ˜¯ <code>.class</code>  æ–‡ä»¶ã€‚</li>\n<li>æ­¤æ—¶ <code>.class</code>  æ–‡ä»¶ä¸­ä¿å­˜ç€ <code>Java</code>  ä»£ç è½¬æ¢åçš„è™šæ‹ŸæœºæŒ‡ä»¤ã€‚</li>\n<li>å½“éœ€è¦ä½¿ç”¨æŸä¸ªç±»æ—¶ï¼Œè™šæ‹Ÿæœºå°†ä¼šåŠ è½½å®ƒçš„ <code>.class</code>  æ–‡ä»¶ï¼Œå¹¶åˆ›å»ºå¯¹åº”çš„ <code>class</code>  å¯¹è±¡ã€‚</li>\n<li>å¹¶å°† <code>class</code>  æ–‡ä»¶åŠ è½½åˆ°è™šæ‹Ÿæœºçš„å†…å­˜ä¸­ï¼Œè¿™ä¾¿æ˜¯ç±»åŠ è½½çš„æ‰§è¡Œæµç¨‹ï¼Œæµç¨‹å›¾å¦‚ä¸‹ï¼Œå…¶ä¸­éªŒè¯ã€å‡†å¤‡ã€è§£æç»Ÿä¸€å½’å±äºé“¾æ¥ã€‚<br />\n<img data-src=\"https://z1.ax1x.com/2023/11/13/piGHWl9.jpg\" alt=\"piGHWl9.jpg\" /></li>\n<li>åŠ è½½ï¼šé€šè¿‡ä¸€ä¸ªç±»çš„å®Œå…¨é™å®šåæŸ¥æ‰¾æ­¤ç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼Œå¹¶åˆ©ç”¨å­—èŠ‚ç æ–‡ä»¶åˆ›å»ºä¸€ä¸ª <code>Class</code>  å¯¹è±¡</li>\n<li>éªŒè¯ï¼šç¡®ä¿ <code>Class</code>  æ–‡ä»¶çš„å­—èŠ‚æµä¸­åŒ…å«ä¿¡æ¯ç¬¦åˆå½“å‰è™šæ‹Ÿæœºçš„è¦æ±‚ï¼Œå¹¶æ£€æµ‹ä¼šä¸ä¼šå¯¹è™šæ‹Ÿæœºäº§ç”Ÿå±å®³ï¼Œä¸»è¦åŒ…æ‹¬å››ç§éªŒè¯ï¼š\n<ul>\n<li>æ–‡ä»¶æ ¼å¼éªŒè¯</li>\n<li>å…ƒæ•°æ®éªŒè¯</li>\n<li>å­—èŠ‚ç éªŒè¯</li>\n<li>ç¬¦å·å¼•ç”¨éªŒè¯</li>\n</ul>\n</li>\n<li>å‡†å¤‡ï¼šä¸ºç±»å˜é‡ (æ—¢ <code>static</code>  ä¿®é¥°çš„å­—æ®µå˜é‡) åˆ†é…å†…å­˜å¹¶è®¾ç½®è¯¥ç±»å˜é‡çš„åˆå§‹å€¼ä¸º <code>0</code>  (å¦‚ï¼š <code>private static int num = 5</code>  è¿™é‡Œåªæ˜¯å°† <code>num</code>  åˆå§‹åŒ–ä¸º <code>0</code> ï¼Œè‡³äº <code>5</code>  çš„å€¼å°†ä¼šåœ¨åˆå§‹åŒ–æ—¶èµ‹å€¼)ï¼Œè¿™é‡Œä¸åŒ…å« <code>final</code>  ä¿®é¥°çš„ <code>static</code> ï¼Œå› ä¸º <code>final</code>  åœ¨ç¼–è¯‘çš„æ—¶å€™å°±ä¼šåˆ†é…äº†ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼šè¿™é‡Œä¸ä¼šå®ä¾‹å˜é‡åˆ†é…åˆå§‹åŒ–ï¼Œç±»å˜é‡ä¼šåˆ†é…åœ¨æ–¹æ³•åŒºä¸­ï¼Œè€Œå®ä¾‹å˜é‡æ˜¯ä¼šéšç€å¯¹è±¡ä¸€èµ·åˆ†é…åˆ° <code>Java</code>  å †ä¸­ã€‚</li>\n<li>è§£æï¼šå°†å¸¸é‡æ± ä¸­çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ï¼Œç¬¦å·å¼•ç”¨å°±æ˜¯ä¸€ç»„ç¬¦å·æ¥æè¿°ç›®æ ‡ï¼Œå¯ä»¥æ˜¯ä»»ä½•å­—é¢é‡ï¼Œè€Œç›´æ¥å¼•ç”¨å°±æ˜¯ç›´æ¥æŒ‡å‘ç›®æ ‡åœ°å€ï¼Œç›¸å¯¹åç§»é‡æˆ–ä¸€ä¸ªé—´æ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„ï¼Œå¦‚ï¼š\n<ul>\n<li>ç±»è§£æ</li>\n<li>æ¥å£è§£æ</li>\n<li>å­—æ®µè§£æ</li>\n<li>ç±»æ–¹æ³•è§£æ</li>\n<li>æ¥å£æ–¹æ³•è§£æ</li>\n</ul>\n</li>\n<li>åˆå§‹åŒ–ï¼šç±»åŠ è½½çš„æœ€åé˜¶æ®µï¼Œè‹¥è¯¥ç±»å…·æœ‰è¶…ç±»ï¼Œåˆ™å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œæ‰§è¡Œé™æ€åˆå§‹åŒ–å™¨å’Œé™æ€åˆå§‹åŒ–æˆå‘˜å˜é‡ï¼Œå¦‚ï¼šå‰é¢åªåˆå§‹åŒ–äº†é»˜è®¤å€¼çš„ <code>static</code> ï¼Œå˜é‡å°†ä¼šåœ¨è¿™ä¸ªé˜¶æ®µè¿›è¡Œèµ‹å€¼ï¼Œæˆå‘˜å˜é‡ä¹Ÿå°†ä¼šè¢«åˆå§‹åŒ–ã€‚</li>\n<li>è¿™ä¾¿æ˜¯ç±»åŠ è½½çš„å…¨éƒ¨è¿‡ç¨‹ï¼Œè€Œç±»åŠ è½½å™¨çš„ä»»åŠ¡æ˜¯æ ¹æ®ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è¯»å–æ­¤ç±»äºŒè¿›åˆ¶å­—èŠ‚æµåˆ° <code>JVM</code>  ä¸­çš„ï¼Œç„¶åè½¬æ¢ä¸ºä¸€ä¸ªä¸ç›®æ ‡ç±»å¯¹åº”çš„ <code>java.lang.Class</code>  å¯¹è±¡å®ä¾‹ã€‚</li>\n<li>è™šæ‹Ÿæœºæä¾›äº†ä¸‰ç§æ–¹å¼çš„ç±»åŠ è½½å™¨ï¼Œå¦‚ä¸‹ï¼š\n<ul>\n<li><a href=\"#%E5%BC%95%E5%AF%BCbootstrap%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8\">å¼•å¯¼ (Bootstrap) ç±»åŠ è½½å™¨</a></li>\n<li><a href=\"#%E6%89%A9%E5%B1%95extension%E5%B9%B3%E5%8F%B0platform%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8\">æ‰©å±• (Extension)&amp; å¹³å° (Platform) ç±»åŠ è½½å™¨</a></li>\n<li><a href=\"#%E7%B3%BB%E7%BB%9Fsystem%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%BA%94%E7%94%A8app%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8\">ç³»ç»Ÿ (System) ç±»åŠ è½½å™¨</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"ä¸‰ç§æ–¹å¼ç±»åŠ è½½å™¨\"><a class=\"anchor\" href=\"#ä¸‰ç§æ–¹å¼ç±»åŠ è½½å™¨\">#</a> ä¸‰ç§æ–¹å¼ç±»åŠ è½½å™¨</h1>\n<h2 id=\"å¼•å¯¼bootstrapç±»åŠ è½½å™¨\"><a class=\"anchor\" href=\"#å¼•å¯¼bootstrapç±»åŠ è½½å™¨\">#</a> å¼•å¯¼ (Bootstrap) ç±»åŠ è½½å™¨</h2>\n<blockquote>\n<p>ç”± <code>C/C++</code>  è¯­è¨€å®ç°ï¼Œå¯åŠ¨ç±»åŠ è½½å™¨ï¼Œå±äºæœ€é«˜å±‚ï¼Œ <code>JVM</code>  å¯åŠ¨æ—¶åˆ›å»ºï¼Œé€šå¸¸ç”±äº os ç›¸å…³çš„æœ¬åœ°ä»£ç å®ç°ï¼Œæ˜¯æœ€æ ¹åŸºçš„ç±»åŠ è½½å™¨ï¼Œæ²¡æœ‰å¯¹åº”çš„ <code>Java</code>  å¯¹è±¡ï¼Œå› æ­¤åœ¨ <code>Java</code>  ä¸­åªèƒ½ç”¨ <code>null</code>  æ¥æŒ‡ä»£ã€‚</p>\n</blockquote>\n<h3 id=\"java8\"><a class=\"anchor\" href=\"#java8\">#</a> Java8</h3>\n<ul>\n<li>å¯åŠ¨ç±»åŠ è½½å™¨ä¸»è¦åŠ è½½çš„æ˜¯ <code>JVM</code>  è‡ªèº«éœ€è¦çš„ç±»ï¼Œè¿™ä¸ªç±»åŠ è½½ä½¿ç”¨ <code>C++</code>  æ¥å®ç°çš„ï¼Œæ˜¯è™šæ‹Ÿæœºè‡ªèº«çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒè´Ÿè´£å°† <code>&lt;JAVA_HOME&gt;/lib</code>  è·¯å¾„ä¸‹çš„æ ¸å¿ƒç±»åº“æˆ– <code>-Xbootclasspath</code>  å‚æ•°æŒ‡å®šçš„è·¯å¾„ä¸‹çš„ <code>jar</code>  åŒ…åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œæ³¨æ„ç”±äºè™šæ‹Ÿæœºæ˜¯æŒ‰ç…§æ–‡ä»¶åè¯†åˆ«åŠ è½½ <code>jar</code>  åŒ…çš„ï¼Œå¦‚æœæ–‡ä»¶åä¸è¢«è™šæ‹Ÿæœºè¯†åˆ«ï¼Œå³ä½¿å°† <code>jar</code>  åŒ…æ”¾åœ¨ <code>lib</code>  ç›®å½•ä¸‹ä¹Ÿæ²¡æœ‰ä»»ä½•ä½œç”¨ï¼Œå‡ºäºå®‰å…¨è€ƒè™‘ <code>Bootstrap</code>  å¯åŠ¨ç±»åŠ è½½å™¨åªåŠ è½½åŒ…åä¸º <code>java</code> ã€ <code>javax</code> ã€ <code>sun</code>  ç­‰å¼€å¤´çš„ç±»ã€‚</li>\n<li>æ€»ç»“ï¼š\n<ul>\n<li>å¼•å¯¼ç±»åŠ è½½å™¨ä½¿ç”¨ <code>C/C++</code>  è¯­è¨€å®ç°ï¼ŒåµŒå¥—åœ¨ <code>JVM</code>  å†…éƒ¨ã€‚</li>\n<li>ç”¨äºåŠ è½½ <code>Java</code>  æ ¸å¿ƒç±»åº“ã€‚</li>\n<li><code>JVM</code>  å¯åŠ¨æ—¶åˆ›å»ºï¼Œé€šå¸¸ç”±äº os ç›¸å…³çš„æœ¬åœ°ä»£ç å®ç°ï¼Œæ˜¯æœ€æ ¹åŸºçš„ç±»åŠ è½½å™¨ã€‚</li>\n<li>æ²¡æœ‰å¯¹åº”çš„ <code>Java</code>  å¯¹è±¡ï¼Œå› æ­¤åœ¨ <code>Java</code>  ä¸­åªèƒ½ç”¨ <code>null</code>  æ¥æŒ‡ä»£ã€‚</li>\n<li>ä¸ç»§æ‰¿è‡ª <code>java.lang.ClassLoader</code> ï¼Œæ²¡æœ‰çˆ¶åŠ è½½å™¨ã€‚</li>\n<li>è¿˜å¯ç”¨äºåŠ è½½æ‰©å±•ç±»åŠ è½½å™¨å’Œåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼Œå¹¶æŒ‡å®šä¸ºå®ƒä»¬çš„çˆ¶ç±»åŠ è½½å™¨ã€‚</li>\n<li>åªåŠ è½½åŒ…åä¸º <code>java</code>   <code>javax</code>   <code>sun</code>  å¼€å¤´çš„ç±»æ–‡ä»¶ã€‚</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>åœ¨ <code>JVM</code>  å¯åŠ¨æ—¶é€šè¿‡ <code>Bootstrap ClassLoader</code>  åŠ è½½ <code>rt.jar</code> , å¹¶åˆå§‹åŒ– <code>sun.misc.Launcher</code>  ä»è€Œåˆ›å»º <code>Extension ClassLoader</code>  å’Œ <code>Application ClassLoader</code>  çš„å®ä¾‹ï¼Œä¸‹é¢ä»£ç æ˜¯æŸ¥çœ‹ <code>Bootstrap ClassLoader</code>  åˆå§‹åŒ–äº†é‚£äº›ç±»åº“ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>GetBootstrapClassLoader.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>misc<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Launcher</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>net<span class=\"token punctuation\">.</span></span>URL<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: æŸ¥çœ‹å¼•å¯¼ç±»åŠ è½½å™¨åˆ°åº•åŠ è½½äº†é‚£äº›æ ¸å¿ƒç±»åº“</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2023-12-03 00:21</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GetBootstrapClassLoader</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    URL<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> urLs <span class=\"token operator\">=</span> <span class=\"token class-name\">Launcher</span><span class=\"token punctuation\">.</span><span class=\"token function\">getBootstrapClassPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getURLs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>URL urL <span class=\"token operator\">:</span> urLs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>urL<span class=\"token punctuation\">.</span><span class=\"token function\">toExternalForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  æ‰“å°ç»“æœï¼š</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  file:/C:/LightRainData/IDEA/JDK/JDK-1.8/jre/lib/resources.jar</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  file:/C:/LightRainData/IDEA/JDK/JDK-1.8/jre/lib/rt.jar</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  file:/C:/LightRainData/IDEA/JDK/JDK-1.8/jre/lib/sunrsasign.jar</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  file:/C:/LightRainData/IDEA/JDK/JDK-1.8/jre/lib/jsse.jar</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  file:/C:/LightRainData/IDEA/JDK/JDK-1.8/jre/lib/jce.jar</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  file:/C:/LightRainData/IDEA/JDK/JDK-1.8/jre/lib/charsets.jar</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  file:/C:/LightRainData/IDEA/JDK/JDK-1.8/jre/lib/jfr.jar</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  file:/C:/LightRainData/IDEA/JDK/JDK-1.8/jre/classes</pre></td></tr><tr><td data-num=\"31\"></td><td><pre> */</span></pre></td></tr></table></figure><h3 id=\"java9\"><a class=\"anchor\" href=\"#java9\">#</a> Java9</h3>\n<ul>\n<li>è‡ªä» <code>Java 9</code>  å¼•å…¥äº†æ¨¡å—ç‰¹æ€§åï¼Œè´Ÿè´£åŠ è½½å¯åŠ¨æ—¶çš„åŸºç¡€æ¨¡å—ç±»æœ‰ä»¥ä¸‹å‡ ç§ï¼š\n<ul>\n<li><code>java.base</code></li>\n<li><code>java.management</code></li>\n<li><code>java.xml</code></li>\n</ul>\n</li>\n<li>é™¤äº†å¯åŠ¨ç±»åŠ è½½å™¨ä¹‹å¤–ï¼Œå…¶å®ƒçš„ç±»åŠ è½½å™¨éƒ½æ˜¯ <code>java.lang.ClassLoader</code>  çš„å­ç±»ï¼Œå› æ­¤æœ‰å¯¹åº”çš„ <code>Java</code>  å¯¹è±¡ã€‚</li>\n<li>è¿™äº›ç±»åŠ è½½å™¨éœ€è¦å…ˆç”±å¦ä¸€ä¸ªç±»åŠ è½½å™¨ï¼Œæ¯”å¦‚è¯´å¯åŠ¨ç±»åŠ è½½å™¨ï¼ŒåŠ è½½è‡³ <code>Java</code>  è™šæ‹Ÿæœºä¸­æ–¹èƒ½æ‰§è¡Œç±»åŠ è½½ã€‚</li>\n</ul>\n<h2 id=\"æ‰©å±•extensionå¹³å°platformç±»åŠ è½½å™¨\"><a class=\"anchor\" href=\"#æ‰©å±•extensionå¹³å°platformç±»åŠ è½½å™¨\">#</a> æ‰©å±• (Extension)&amp; å¹³å° (Platform) ç±»åŠ è½½å™¨</h2>\n<h3 id=\"java8-æ‰©å±•extension\"><a class=\"anchor\" href=\"#java8-æ‰©å±•extension\">#</a> Java8 - æ‰©å±• (Extension)</h3>\n<ul>\n<li>æ‰©å±•ç±»åŠ è½½å™¨æ˜¯ <code>Sun</code>  å…¬å¸å®ç°çš„ï¼Œç°å·²è¢« <code>Oracle</code>  æ”¶è´­ï¼Œ <code>sun.misc.Launcher$ExtClassLoader</code>  ç±»ç”± <code>Java</code>  è¯­è¨€å®ç°ã€‚</li>\n<li>å®ƒæ˜¯ <code>Launcher</code>  çš„é™æ€å†…éƒ¨ç±»ï¼Œå®ƒè´Ÿè´£åŠ è½½ <code>&lt;JAVA_HOME&gt;/lib/ext</code>  ç›®å½•ä¸‹æˆ–è€…ç”±ç³»ç»Ÿå˜é‡ <code>-Djava.ext.dirs</code>  è·¯å¾„ä¸­çš„ç±»åº“ã€‚</li>\n<li>è´Ÿè´£åŠ è½½ä¸€äº›æ‰©å±•çš„ç³»ç»Ÿç±»ï¼Œå¦‚ï¼š <code>Xml</code>   <code>åŠ å¯†</code>   <code>å‹ç¼©</code> ç›¸å…³çš„åŠŸèƒ½ç±»ç­‰ã€‚</li>\n<li>å¯ä»¥ä¾›å¼€å‘è€…ç›´æ¥ä½¿ç”¨æ ‡å‡†æ‰©å±•ç±»åŠ è½½å™¨æ¥åŠ è½½ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Launcher.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UvamF2YXNlOHUyMTEtbGF0ZXItYXJjaGl2ZS1kb3dubG9hZHMuaHRtbA==\">å‚è€ƒJAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>misc</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * This class is used by the system to launch the main application.</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Launcher</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ExtClassLoader</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">URLClassLoader</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">//ExtClassLoader ç±»ä¸­è·å–è·¯å¾„çš„ä»£ç </span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getExtDirs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token comment\">// åŠ è½½ & lt;JAVA_HOME>/lib/ext ç›®å½•ä¸­çš„ç±»åº“</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token class-name\">String</span> s <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"java.ext.dirs\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token class-name\">File</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> dirs<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">StringTokenizer</span> st <span class=\"token operator\">=</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                <span class=\"token keyword\">new</span> <span class=\"token class-name\">StringTokenizer</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">.</span>pathSeparator<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">int</span> count <span class=\"token operator\">=</span> st<span class=\"token punctuation\">.</span><span class=\"token function\">countTokens</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        dirs <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>          dirs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span>st<span class=\"token punctuation\">.</span><span class=\"token function\">nextToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        dirs <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>      <span class=\"token keyword\">return</span> dirs<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"java9-å¹³å°platform\"><a class=\"anchor\" href=\"#java9-å¹³å°platform\">#</a> Java9 - å¹³å° (Platform)</h3>\n<blockquote>\n<p>ä» <code>Java 9</code>  æ›¿æ¢ä¸ºäº†å¹³å°ç±»åŠ è½½å™¨ï¼Œä¸ºä½•è¦æ›¿æ¢ï¼Ÿ <code>Java 8</code>  ä¸»è¦åŠ è½½ <code>jre/lib</code>  ä¸‹çš„ <code>ext</code>  æ‰©å±• <code>jar</code>  åŒ…æ—¶ä½¿ç”¨ï¼Œè¿™æ ·çš„æ“ä½œå¹¶ä¸æ¨èï¼Œè€Œ <code>Java 9</code>  æ›´æ–°äº†æ¨¡å—åŒ–å°±æ›´æ— éœ€è¿™æ ·æ‰©å±•çš„ç±»åŠ è½½å™¨äº†ã€‚</p>\n</blockquote>\n<ul>\n<li>åªè¦è´Ÿè´£åŠ è½½ä¸€äº›ç›¸å¯¹æ¬¡è¦ï¼Œä½†åˆé€šç”¨çš„ç±»ã€‚</li>\n<li>åŠ è½½ä¸€äº›å¹³å°ç›¸å…³æ¨¡å—å¦‚ï¼š\n<ul>\n<li><code>java.scripting</code></li>\n<li><code>java.compiler.*</code></li>\n<li><code>java.corba.*</code></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ç³»ç»Ÿsystemç±»åŠ è½½å™¨åº”ç”¨appç±»åŠ è½½å™¨\"><a class=\"anchor\" href=\"#ç³»ç»Ÿsystemç±»åŠ è½½å™¨åº”ç”¨appç±»åŠ è½½å™¨\">#</a> ç³»ç»Ÿ (System) ç±»åŠ è½½å™¨ &amp; åº”ç”¨ (App) ç±»åŠ è½½å™¨</h2>\n<ul>\n<li><code>ç³»ç»Ÿç±»åŠ è½½å™¨</code> ä¹Ÿè¢«ç§°ä¸º <code>åº”ç”¨ç¨‹åºåŠ è½½å™¨</code> æ˜¯ <code>Sun</code>  å…¬å¸å®ç°çš„ <code>sun.misc.Launcher$AppClassLoader</code> ã€‚</li>\n<li>å®ƒè´Ÿè´£åŠ è½½ç³»ç»Ÿç±»è·¯å¾„ <code>java -classpath</code>  æˆ– <code>-D java.class.path</code>  æŒ‡å®šè·¯å¾„ä¸‹çš„ç±»åº“ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„ <code>classpath</code>  è·¯å¾„ã€‚</li>\n<li>å¼€å‘è€…å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>ç³»ç»Ÿç±»åŠ è½½å™¨</code> ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¯¥ç±»åŠ è½½æ˜¯ç¨‹åºä¸­é»˜è®¤çš„ç±»åŠ è½½å™¨ï¼Œé€šè¿‡ <code>ClassLoader.getSystemClassLoader()</code>  æ–¹æ³•å¯ä»¥è·å–åˆ°è¯¥ç±»åŠ è½½å™¨ã€‚</li>\n<li>åœ¨ <code>Java</code>  æ—¥å¸¸åº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œç±»çš„åŠ è½½å‡ ä¹ç”±ä¸Šè¿° <code>3</code>  ç§ç±»åŠ è½½å™¨ç›¸äº’é…åˆæ‰§è¡Œçš„ï¼Œåœ¨å¿…è¦æ—¶æˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ <code>Java</code>  è™šæ‹Ÿæœºå¯¹ <code>class</code>  æ–‡ä»¶é‡‡ç”¨çš„æ˜¯æŒ‰éœ€åŠ è½½çš„æ–¹å¼ã€‚</li>\n<li>å°±æ˜¯è¯´å½“éœ€è¦ä½¿ç”¨è¯¥ç±»æ—¶æ‰ä¼šå°†å®ƒçš„ <code>class</code>  æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ç”Ÿæˆä¸»è¦åˆ†ä¸ºä»¥ä¸‹ <code>class</code>  å¯¹è±¡ï¼Œè€Œä¸”åŠ è½½æŸä¸ªç±»çš„ <code>class</code>  æ–‡ä»¶æ—¶ï¼Œ <code>Java</code>  è™šæ‹Ÿæœºé‡‡ç”¨çš„æ˜¯<a href=\"#%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%A8%A1%E5%BC%8F\"> <code>åŒäº²å§”æ´¾æ¨¡å¼</code> </a>ï¼Œå³æŠŠå½“å‰è¯·æ±‚äº¤ç”±çˆ¶ç±»å¤„ç†ï¼Œå®ƒæ˜¯ä¸€ç§ä»»åŠ¡å§”æ´¾æ¨¡å¼ã€‚</li>\n</ul>\n<h1 id=\"åŒäº²å§”æ´¾æ¨¡å¼\"><a class=\"anchor\" href=\"#åŒäº²å§”æ´¾æ¨¡å¼\">#</a> åŒäº²å§”æ´¾æ¨¡å¼</h1>\n<h2 id=\"åŒäº²å§”æ´¾å·¥ä½œåŸç†\"><a class=\"anchor\" href=\"#åŒäº²å§”æ´¾å·¥ä½œåŸç†\">#</a> åŒäº²å§”æ´¾å·¥ä½œåŸç†</h2>\n<div class=\"note danger no-icon\">\n<p>åŒäº²å§”æ´¾æ¨¡å¼è¦æ±‚é™¤äº†é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨å¤–ï¼Œå…¶ä½™çš„ç±»åŠ è½½å™¨éƒ½åº”å½“æœ‰è‡ªå·±çš„çˆ¶ç±»åŠ è½½å™¨ï¼Œ <code>æ³¨æ„</code> ï¼šåŒäº²å§”æ´¾æ¨¡å¼ä¸­çš„çˆ¶å­å…³ç³»å¹¶éé€šå¸¸çš„ç±»ç»§æ‰¿å…³ç³»ï¼Œè€Œæ˜¯é‡‡ç”¨ç»„åˆå…³ç³»æ¥å¤ç”¨çˆ¶ç±»åŠ è½½å™¨çš„ç›¸å…³ä»£ç ã€‚</p>\n</div>\n<p><img data-src=\"https://z1.ax1x.com/2023/12/03/piyddVf.jpg\" alt=\"piyddVf.jpg\" /></p>\n<ul>\n<li>åŒäº²å§”æ´¾æ¨¡å¼æ˜¯ <code>Java 1.2</code>  åå¼•å…¥çš„ï¼Œå…¶å·¥ä½œåŸç†å°±æ˜¯å¦‚æœï¼šä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°äº†ç±»åŠ è½½è¯·æ±‚ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªå·±å…ˆå»åŠ è½½ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™çˆ¶ç±»çš„åŠ è½½å™¨å»æ‰§è¡Œã€‚</li>\n<li>å¦‚æœçˆ¶ç±»åŠ è½½å™¨è¿˜å­˜åœ¨å…¶çˆ¶ç±»åŠ è½½å™¨ï¼Œåˆ™è¿›ä¸€æ­¥å‘ä¸Šå§”æ‰˜ï¼Œä»¥æ­¤ç±»æ¨ï¼Œè¯·æ±‚æœ€ç»ˆå°†åˆ°è¾¾é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨å¯ä»¥å®Œæˆç±»åŠ è½½ä»»åŠ¡ï¼Œå°±æˆåŠŸè¿”å›ã€‚</li>\n<li>å€˜è‹¥çˆ¶ç±»åŠ è½½å™¨æ— æ³•å®Œæˆæ­¤åŠ è½½ä»»åŠ¡ï¼Œå­åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½ï¼Œè¿™å°±æ˜¯åŒäº²å§”æ´¾æ¨¡å¼ã€‚</li>\n<li>ä¿—è¯è¯´å°±æ˜¯æ¯ä¸ªå„¿å­éƒ½å¾ˆæ‡’ï¼Œæœ‰æ´»å°±å…ˆç»™çˆ¶äº²å¹²ï¼Œç›´åˆ°çˆ¶äº²è¯´è¿™äº‹æˆ‘ä¹Ÿå¹²ä¸äº†æ—¶ï¼Œå„¿å­æ‰ä¼šè‡ªå·±æƒ³åŠæ³•å»åšã€‚</li>\n</ul>\n<h2 id=\"åŒäº²å§”æ´¾ä¸»è¦ç”¨é€”\"><a class=\"anchor\" href=\"#åŒäº²å§”æ´¾ä¸»è¦ç”¨é€”\">#</a> åŒäº²å§”æ´¾ä¸»è¦ç”¨é€”</h2>\n<ul>\n<li>åŒäº²å§”æ´¾çš„å¥½å¤„å°±æ˜¯ <code>Java</code>  ç±»éšç€å®ƒçš„ç±»åŠ è½½å™¨ä¸€èµ·å…·å¤‡äº†ä¸€ç§å¸¦æœ‰ä¼˜å…ˆçº§çš„å±‚çº§å…³ç³»ï¼Œé€šè¿‡è¿™ç§å±‚çº§å…³ç³»å¯ä»¥é¿å…ç±»çš„é‡å¤åŠ è½½ã€‚</li>\n<li>å½“çˆ¶ç±»åŠ è½½äº†è¯¥ç±»æ—¶ï¼Œå…¶å­ç±»å°±æ²¡å¿…è¦å†åŠ è½½äº†ï¼Œå…¶æ¬¡è€ƒè™‘åˆ°å®‰å…¨å› ç´  <code>Java</code>  æ ¸å¿ƒ <code>API</code>  ä¸­å®šä¹‰ç±»å‹ä¸ä¼šè¢«éšæ„æ›¿æ¢ã€‚</li>\n<li>å‡è®¾é€šè¿‡ç½‘ç»œä¼ é€’äº†ä¸€ä¸ªåä¸º <code>java.lang.Integer</code>  ç±»ï¼Œé€šè¿‡åŒäº²å§”æ´¾æ¨¡å¼ä¼ é€’åˆ°å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œè€Œå¯åŠ¨ç±»åŠ è½½å™¨åœ¨æ ¸å¿ƒ <code>Java API</code>  ä¸­å‘ç°è¿™ä¸ªåç§°çš„ç±»å·²è¢«åŠ è½½ï¼Œä¹‹åå¹¶ä¸ä¼šé‡æ–°åŠ è½½ä¼ é€’è¿‡æ¥çš„ <code>java.lang.Integer</code>  ç±»ï¼Œè€Œæ˜¯ç›´æ¥è¿”å›å·²åŠ è½½è¿‡çš„ <code>Integer.class</code>  å¯¹è±¡ã€‚</li>\n<li>è¿™æ ·åšçš„åŸå› è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯é˜²æ­¢æ ¸å¿ƒ <code>API</code>  è¢«éšæ„ç¯¡æ”¹ï¼Œå¦‚æœï¼šæˆ‘ä»¬åœ¨ <code>classpath</code>  è·¯å¾„ä¸‹è‡ªå®šä¹‰ä¸€ä¸ªåä¸º <code>java.lang.Student</code>  ç±»å‘¢ï¼Ÿè¯¥ç±»åœ¨ <code>java.lang</code>  åŒ…ä¸‹å¹¶ä¸å­˜åœ¨ï¼Œç»è¿‡åŒäº²å§”æ´¾æ¨¡å¼ä¼ é€’åˆ°å¯åŠ¨ç±»åŠ è½½å™¨ä¸­ï¼Œç”±äºçˆ¶ç±»åŠ è½½å™¨è·¯å¾„ä¸‹å¹¶æ²¡æœ‰è¯¥ç±»ï¼Œæ‰€ä»¥ä¸ä¼šè¢«åŠ è½½ã€‚</li>\n<li>è¿™å°†ä¼šåå‘å§”æ‰˜ç»™å­ç±»åŠ è½½å™¨æ¥åŠ è½½ï¼Œæœ€ç»ˆä¼šé€šè¿‡ç³»ç»Ÿç±»åŠ è½½å™¨åŠ è½½è¯¥ç±»ï¼Œä½†è¿™æ ·åšæ˜¯ä¸è¢«å…è®¸çš„ï¼Œå› ä¸º <code>java.lang</code>  æ˜¯æ ¸å¿ƒ <code>API</code> ï¼Œæ˜¯éœ€è¦è®¿é—®æƒé™çš„ï¼Œå¼ºåˆ¶åŠ è½½å°†ä¼šæŠ›å‡º <code>java.lang.SecurityException: Prohibited package name: java.lang</code>  çš„å¼‚å¸¸ã€‚</li>\n</ul>\n<blockquote>\n<p>æ‰€ä»¥æ˜¯æ— è®ºå¦‚ä½•éƒ½æ— æ³•åŠ è½½æˆåŠŸçš„ï¼Œä¸‹é¢æ˜¯ç”¨ä»£ç åœ¨ <code>Java</code>  ä¸­å®šä¹‰çš„ç±»åŠ è½½å™¨å’Œ <code>åŒäº²å§”æ´¾æ¨¡å¼</code> çš„å®ç°ã€‚</p>\n</blockquote>\n<h2 id=\"åŒäº²å§”æ´¾å…³ç³»å›¾\"><a class=\"anchor\" href=\"#åŒäº²å§”æ´¾å…³ç³»å›¾\">#</a> åŒäº²å§”æ´¾å…³ç³»å›¾</h2>\n<p><img data-src=\"https://z1.ax1x.com/2023/12/04/piyBUq1.png\" alt=\"piyBUq1.png\" /></p>\n<ul>\n<li>ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºé¡¶å±‚ç±»åŠ è½½å™¨æ˜¯ <code>ClassLoader</code>  ç±»ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæ‰€æœ‰çš„ç±»åŠ è½½å™¨éƒ½ç»§æ‰¿è‡ª <code>ClassLoader</code>  (ä¸åŒ…æ‹¬å¯åŠ¨ç±»åŠ è½½å™¨)ã€‚</li>\n<li><code>ClassLoader</code>  ä¸­çš„å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„æ–¹æ³•å¦‚ä¸‹æœ‰ï¼š\n<ul>\n<li><a href=\"#loadclasssting\">loadClass(String)</a></li>\n<li><a href=\"#findclasssting\">findClass(String)</a></li>\n<li><a href=\"#defineclassbyte-b-int-off-int-len\">defineClass(byte[], int off, int len)</a></li>\n<li><a href=\"#resolveclassclass-c\">resolveClass(Class&lt;?&gt; c)</a></li>\n</ul>\n</li>\n<li>ä¸Šè¿° 4 ä¸ªæ–¹æ³•éƒ½ <code>ClassLoader</code>  ç±»ä¸­çš„æ¯”è¾ƒé‡è¦çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å¯èƒ½ä¼šç»å¸¸ç”¨åˆ°çš„æ–¹æ³•ã€‚</li>\n</ul>\n<h2 id=\"classloaderå¸¸ç”¨æ–¹æ³•\"><a class=\"anchor\" href=\"#classloaderå¸¸ç”¨æ–¹æ³•\">#</a> ClassLoader å¸¸ç”¨æ–¹æ³•</h2>\n<h3 id=\"loadclasssting\"><a class=\"anchor\" href=\"#loadclasssting\">#</a> loadClass(Sting)</h3>\n<ul>\n<li>è¯¥æ–¹æ³•åŠ è½½æŒ‡å®šåç§° (åŒ…æ‹¬åŒ…å) çš„äºŒè¿›åˆ¶ç±»å‹ï¼Œè¯¥æ–¹æ³•åœ¨ <code>JDK 1.2</code>  ä¹‹åä¸åœ¨å»ºè®®å¼€å‘è€…é‡å†™ä½†å¼€å‘è€…å¯ä»¥ç›´æ¥è°ƒç”¨è¯¥æ–¹æ³•ã€‚</li>\n<li><code>loadClass()</code>  æ–¹æ³•æ˜¯ <code>ClassLoader</code>  ç±»è‡ªå·±å®ç°çš„ï¼Œè¯¥æ–¹æ³•ä¸­çš„é€»è¾‘å°±æ˜¯ <code>åŒäº²å§”æ´¾æ¨¡å¼</code> çš„å®ç°ã€‚</li>\n<li>ä¸‹é¢æ˜¯ <code>loadClass(String name, boolean resolve)</code>  æ–¹æ³•çš„æºç ï¼Œå®ƒæ˜¯ä¸€ä¸ªé‡è½½æ–¹æ³•ï¼Œ <code>resolve</code>  å‚æ•°ä»£è¡¨æ˜¯å¦ç”Ÿæˆ <code>class</code>  å¯¹è±¡çš„åŒæ—¶è¿›è¡Œè§£æç›¸å…³æ“ä½œã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ClassLoader.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UvamF2YXNlOHUyMTEtbGF0ZXItYXJjaGl2ZS1kb3dubG9hZHMuaHRtbA==\">å‚è€ƒJAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassLoader</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">boolean</span> resolve<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">synchronized</span> <span class=\"token punctuation\">(</span><span class=\"token function\">getClassLoadingLock</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token comment\">// é¦–å…ˆä»ç¼“å­˜ä¸­æŸ¥æ‰¾ç±»æ˜¯å¦å·²è¢«åŠ è½½</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token comment\">// First, check if the class has already been loaded -> é¦–å…ˆæ£€æŸ¥ç±»æ˜¯å¦å·²ç»åŠ è½½</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> c <span class=\"token operator\">=</span> <span class=\"token function\">findLoadedClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                <span class=\"token keyword\">long</span> t0 <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">nanoTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                    <span class=\"token comment\">// å¦‚æœå­˜åœ¨çˆ¶ç±»åŠ è½½å™¨ä¼˜å…ˆç”±çˆ¶ç±»åŠ è½½å™¨åŠ è½½ç±»</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parent <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                        <span class=\"token comment\">// è°ƒç”¨çˆ¶ç±»åŠ è½½å™¨çš„ loadClass æ–¹æ³•åŠ è½½ç±»</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                        c <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">.</span><span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                        <span class=\"token comment\">// å¦‚æœæ²¡æœ‰çˆ¶ç±»åˆ™å§”æ‰˜ç»™å¼•å¯¼ç±»åŠ è½½å™¨å»åŠ è½½</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                        c <span class=\"token operator\">=</span> <span class=\"token function\">findBootstrapClassOrNull</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>                    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassNotFoundException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                    <span class=\"token comment\">// å¦‚æœæŠ›å‡ºè¯¥å¼‚å¸¸è¯´æ˜çˆ¶ç±»åŠ è½½å™¨æ— æ³•åŠ è½½ç±»</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>                    <span class=\"token comment\">// ClassNotFoundException thrown if class not found -> å¦‚æœæ‰¾ä¸åˆ°ç±»åˆ™æŠ›å‡º ClassNotFoundException</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>                    <span class=\"token comment\">//from the non-null parent class loader -> ä»é null çˆ¶ç±»åŠ è½½å™¨</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                    <span class=\"token comment\">// If still not found, then invoke findClass in order -> å¦‚æœä»æœªæ‰¾åˆ°ï¼Œåˆ™æŒ‰é¡ºåºè°ƒç”¨ findClass</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                    <span class=\"token comment\">//to find the class -> æ‰¾åˆ° class</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>                    <span class=\"token keyword\">long</span> t1 <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">nanoTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>                    <span class=\"token comment\">// å¦‚æœéƒ½æ²¡æœ‰æ‰¾åˆ°åˆ™é€šè¿‡è‡ªå®šä¹‰å®ç°çš„ findClass å»æŸ¥æ‰¾å¹¶åŠ è½½</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>                    c <span class=\"token operator\">=</span> <span class=\"token function\">findClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>                    <span class=\"token comment\">//this is the defining class loader; record the stats -> è¿™æ˜¯å®šä¹‰ç±»åŠ è½½å™¨è®°å½•ç»Ÿè®¡ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>                    <span class=\"token class-name\"><span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>misc<span class=\"token punctuation\">.</span></span>PerfCounter</span><span class=\"token punctuation\">.</span><span class=\"token function\">getParentDelegationTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addTime</span><span class=\"token punctuation\">(</span>t1 <span class=\"token operator\">-</span> t0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>                    <span class=\"token class-name\"><span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>misc<span class=\"token punctuation\">.</span></span>PerfCounter</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFindClassTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addElapsedTimeFrom</span><span class=\"token punctuation\">(</span>t1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>                    <span class=\"token class-name\"><span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>misc<span class=\"token punctuation\">.</span></span>PerfCounter</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFindClasses</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">increment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            <span class=\"token comment\">// æ˜¯å¦éœ€è¦åœ¨åŠ è½½æ—¶è¿›è¡Œè§£æ</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>                <span class=\"token function\">resolveClass</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>            <span class=\"token keyword\">return</span> c<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>å½“ç±»åŠ è½½è¯·æ±‚åˆ°æ¥æ—¶ï¼Œå…ˆä»ç¼“å­˜ä¸­æŸ¥æ‰¾è¯¥ç±»å¯¹è±¡ï¼Œå¦‚æœå­˜åœ¨ç›´æ¥è¿”å›ï¼Œä¸å­˜åœ¨åˆ™äº¤ç»™è¯¥ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨å»åŠ è½½ã€‚</li>\n<li>è‹¥æ²¡æœ‰çˆ¶ç±»åŠ è½½å™¨åˆ™äº¤ç»™é¡¶çº§å¯åŠ¨ç±»åŠ è½½å™¨å»åŠ è½½ï¼Œæœ€åå€˜è‹¥æ‰”æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä½¿ç”¨ <code>findClass()</code>  æ–¹æ³•å»åŠ è½½ã€‚</li>\n</ul>\n<blockquote>\n<p>ä» <code>loadClass</code>  å®ç°ä¹Ÿå¯ä»¥çŸ¥é“å¦‚æœä¸æƒ³é‡æ–°å®šä¹‰åŠ è½½ç±»çš„è§„åˆ™ï¼Œä¹Ÿæ²¡æœ‰å¤æ‚çš„é€»è¾‘ï¼Œåªæƒ³åœ¨è¿è¡Œæ—¶åŠ è½½è‡ªå·±æŒ‡å®šçš„ç±»ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>this.getClass().getClassLoader().loadClass('className')</code>  è¿™æ ·å°±å¯ä»¥ç›´æ¥è°ƒç”¨ <code>ClassLoader</code>  çš„ <code>loadClass</code>  æ–¹æ³•è·å–åˆ° <code>class</code>  å¯¹è±¡äº†ã€‚</p>\n</blockquote>\n<h3 id=\"findclasssting\"><a class=\"anchor\" href=\"#findclasssting\">#</a> findClass(Sting)</h3>\n<ul>\n<li><code>JDK 1.2</code>  ä¹‹å‰ï¼Œåœ¨è‡ªå®šä¹‰ç±»åŠ è½½æ—¶ï¼Œæ€»ä¼šå»ç»§æ‰¿ <code>ClassLoader</code>  ç±»å¹¶é‡å†™ <code>loadClass</code>  æ–¹æ³•ï¼Œä»è€Œå®ç°è‡ªå®šä¹‰çš„ç±»åŠ è½½ã€‚</li>\n<li><code>JDK 1.2</code>  ä¹‹åä¸å†å»ºè®®è°ƒç”¨è€…å»è¦†ç›– <code>loadClass()</code>  æ–¹æ³•ï¼Œè€Œæ˜¯å»ºè®®æŠŠè‡ªå®šä¹‰çš„ç±»åŠ è½½é€»è¾‘å†™åœ¨ <code>findClass()</code>  æ–¹æ³•ä¸­ã€‚</li>\n<li><code>findClass()</code>  æ–¹æ³•æ˜¯åœ¨ <code>loadClass()</code>  æ–¹æ³•ä¸­è¢«è°ƒç”¨çš„ï¼Œå½“ <code>loadClass()</code>  æ–¹æ³•ä¸­çˆ¶ç±»åŠ è½½å™¨åŠ è½½å¤±è´¥åï¼Œåˆ™ä¼šè°ƒç”¨è‡ªå·±çš„ <code>findClass()</code>  æ–¹æ³•æ¥å®Œæˆç±»åŠ è½½ã€‚</li>\n<li>è¿™æ ·å°±å¯ä»¥ä¿è¯è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨ä¹Ÿç¬¦åˆ <code>åŒäº²å§”æ´¾æ¨¡å¼</code> äº†ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ <code>ClassLoader</code>  ç±»ä¸­å¹¶æ²¡æœ‰å®ç° <code>findClass()</code>  æ–¹æ³•çš„å…·ä½“é€»è¾‘ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯æŠ›å‡º <code>ClassNotFoundException</code>  å¼‚å¸¸ã€‚</li>\n<li>åŒæ—¶åº”è¯¥çŸ¥é“çš„æ˜¯ <code>findClass()</code>  æ–¹æ³•é€šå¸¸æ˜¯å’Œ <code>defineClass()</code>  æ–¹æ³•ä¸€èµ·ä½¿ç”¨çš„ã€‚</li>\n<li><code>ClassLoader</code>  ç±»ä¸­çš„ <code>findClass()</code>  æ–¹æ³•æºç å¦‚ä¸‹ï¼š</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ClassLoader.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UvamF2YXNlOHUyMTEtbGF0ZXItYXJjaGl2ZS1kb3dubG9hZHMuaHRtbA==\">å‚è€ƒJAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassLoader</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>   * å®ç°è‡ªå®šä¹‰ç±»çš„åŠ è½½å™¨éœ€è¦å­ç±»é‡å†™æ­¤æ–¹æ³•</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>   * é»˜è®¤æŠ›å‡º ClassNotFoundException</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"defineclassbyte-b-int-off-int-len\"><a class=\"anchor\" href=\"#defineclassbyte-b-int-off-int-len\">#</a> defineClass(byte[] b, int off, int len)</h3>\n<ul>\n<li><code>defineClass()</code>  æ–¹æ³•æ˜¯ç”¨æ¥å°† <code>byte</code>  å­—èŠ‚æµè§£ææˆ <code>JVM</code>  èƒ½å¤Ÿè¯†åˆ«çš„ <code>Class</code>  å¯¹è±¡ ( <code>ClassLoader</code>  ä¸­å·²å®ç°è¯¥æ–¹æ³•é€»è¾‘)</li>\n<li>é€šè¿‡è¿™ä¸ªæ–¹æ³•ä¸ä»…èƒ½å¤Ÿé€šè¿‡ <code>class</code>  æ–‡ä»¶å®ä¾‹åŒ– <code>class</code>  å¯¹è±¡ï¼Œè¿˜å¯ä»¥é€šè¿‡å…¶å®ƒæ–¹å¼å®ä¾‹åŒ– <code>class</code>  å¯¹è±¡ï¼Œå¦‚ï¼šé€šè¿‡ç½‘ç»œæ¥æ”¶ä¸€ä¸ªç±»çš„å­—èŠ‚ç ï¼Œç„¶åè½¬æ¢ä¸º <code>byte</code>  å­—èŠ‚æµåˆ›å»ºå¯¹åº”çš„ <code>class</code>  å¯¹è±¡ã€‚</li>\n<li><code>defineClass()</code>  æ–¹æ³•é€šå¸¸ä¸ <code>findClass()</code>  æ–¹æ³•ä¸€èµ·ä½¿ç”¨ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨è‡ªå®šä¹‰ç±»åŠ è½½å™¨æ—¶ä¼šç›´æ¥è¦†ç›– <code>ClassLoader</code>  çš„ <code>findClass()</code>  æ–¹æ³•å¹¶ç¼–å†™åŠ è½½è§„åˆ™ã€‚</li>\n<li>æœ€åå–å¾—è¦åŠ è½½ç±»çš„å­—èŠ‚ç åè½¬æ¢æˆæµï¼Œç„¶åè°ƒç”¨ <code>defineClass()</code>  æ–¹æ³•ç”Ÿæˆç±»çš„ <code>class</code>  å¯¹è±¡ï¼Œä¸‹é¢æ˜¯ç®€å•æ¡ˆä¾‹ä»£ç ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>OverrideFindClass.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ByteArrayOutputStream</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">File</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IOException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">InputStream</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>nio<span class=\"token punctuation\">.</span>file<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Files</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Description: é‡å†™ FindClass æ–¹æ³•ç¤ºä¾‹ä»£ç </pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @DateTime: 2023-12-03 00:13</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OverrideFindClass</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ClassLoader</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>   * æ–‡ä»¶æ‰©å±•å</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">String</span> FILE_EXTENSION <span class=\"token operator\">=</span> <span class=\"token string\">\".class\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>   * .class æ–‡ä»¶è·¯å¾„</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> filePath<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>   * æ„é€ æ–¹æ³•</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>   *</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>   * @param filePath .class æ–‡ä»¶è·¯å¾„</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">OverrideFindClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> filePath<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>filePath <span class=\"token operator\">=</span> filePath<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>   * é‡å†™è·å–ç±»çš„å­—èŠ‚ç å¹¶åˆ›å»º class å¯¹è±¡çš„é€»è¾‘</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>   *</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>   * @param className å…¨é™å®šç±»åç§°</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>   * @return Class&lt;?> ä»»æ„ class ç±»å‹å¯¹è±¡</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>  <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>  <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> className<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token comment\">// è·å–å­—èŠ‚ç çš„å­—èŠ‚æ•°ç»„</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getClassData</span><span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token comment\">// è°ƒç”¨çˆ¶ç±»ä¸­çš„ defineClass æ–¹æ³•å°†å­—èŠ‚æµè§£ææˆ JVM èƒ½å¤Ÿè¯†åˆ«çš„ Class å¯¹è±¡å¹¶è¿”å›</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>   * è¯»å–å­—èŠ‚ç æµçš„æ–¹æ³•</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>   *</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>   * @param className å¯¹è±¡å…¨é™å®šåç§°</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>   * @return byte [] å­—èŠ‚æ•°ç»„</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getClassData</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> className<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token comment\">// åˆ›å»º InputStream å¯¹è±¡è·å–å­—èŠ‚è¾“å…¥æµ</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token class-name\">InputStream</span> inputStream <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token comment\">// å®šä¹‰ä¸€ä¸ªå­—èŠ‚æ•°ç»„</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    <span class=\"token comment\">// åˆ›å»º ByteArrayOutputStream è·å–å­—èŠ‚è¾“å‡ºæµ</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>    <span class=\"token class-name\">ByteArrayOutputStream</span> byteArrayOutputStream <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>      <span class=\"token comment\">// å°†å­—ç¬¦ä¸²ä¸­çš„ \".\" å…¨éƒ¨æ›¿æ¢ä¸º â€œ\\\\â€</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>      <span class=\"token comment\">// è·å–å…¨é™å®šåç§°ç±»è·¯å¾„å¦‚ï¼štop.rem.rain.NotEqualClassTest -> top\\rem\\rain\\NotEqualClassTest</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>      className <span class=\"token operator\">=</span> className<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\\\'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>      <span class=\"token comment\">// è¯»å–.class æ–‡ä»¶åˆ° InputStream æµä¸­</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>      inputStream <span class=\"token operator\">=</span> <span class=\"token class-name\">Files</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInputStream</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span>filePath <span class=\"token operator\">+</span> className <span class=\"token operator\">+</span> FILE_EXTENSION<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>      <span class=\"token comment\">//new ByteArrayOutputStream è·å–å­—èŠ‚è¾“å‡ºæµå¯¹è±¡</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>      byteArrayOutputStream <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ByteArrayOutputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>      <span class=\"token keyword\">int</span> ch <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>      <span class=\"token comment\">//inputStream å­—èŠ‚æµè¯»å–åˆ° - 1 ä¸ºç»“æŸ</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>      <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">!=</span> <span class=\"token punctuation\">(</span>ch <span class=\"token operator\">=</span> inputStream<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        <span class=\"token comment\">// å°†å­—èŠ‚æµä¸­çš„æ•°æ®å†™å…¥åˆ°å­—èŠ‚è¾“å‡ºæµä¸­ inputStream -> byteArrayOutputStream</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        byteArrayOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>ch<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>      <span class=\"token comment\">// å°†å­—èŠ‚è¾“å‡ºæµè½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„å¹¶èµ‹å€¼åˆ° data ä¸­</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>      data <span class=\"token operator\">=</span> byteArrayOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>      e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>      <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        <span class=\"token keyword\">assert</span> inputStream <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        inputStream<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token keyword\">assert</span> byteArrayOutputStream <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>        byteArrayOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>        e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æ³¨æ„ï¼šå¦‚æœç›´æ¥è°ƒç”¨ <code>defineClass()</code>  æ–¹æ³•ç”Ÿæˆç±»çš„ <code>class</code>  å¯¹è±¡ï¼Œè¿™ä¸ªç±»çš„ <code>class</code>  å¯¹è±¡å¹¶æ²¡æœ‰è§£æ (å¯ä»¥ç†è§£ä¸ºé“¾æ¥é˜¶æ®µï¼Œè§£ææ˜¯é“¾æ¥çš„æœ€åä¸€æ­¥)ï¼Œå…¶è§£ææ“ä½œéœ€è¦ç­‰å¾…åˆå§‹åŒ–é˜¶æ®µè¿›è¡Œã€‚</p>\n</blockquote>\n<h3 id=\"resolveclassclass-c\"><a class=\"anchor\" href=\"#resolveclassclass-c\">#</a> resolveClass(Class&lt;?&gt; c)</h3>\n<blockquote>\n<p>ä½¿ç”¨è¯¥æ–¹æ³•å¯ä»¥ä½¿ç”¨ç±»çš„ <code>Class</code>  å¯¹è±¡åˆ›å»ºå®Œæˆå¹¶åŒæ—¶è¢«è§£æï¼Œå‰é¢æˆ‘ä»¬è¯´é“¾æ¥é˜¶æ®µä¸»è¦æ˜¯å¯¹å­—èŠ‚ç è¿›è¡ŒéªŒè¯ï¼Œä¸ºç±»å˜é‡åˆ†é…å†…å­˜å¹¶è®¾ç½®åˆå§‹å€¼ï¼ŒåŒæ—¶å°†å­—èŠ‚ç æ–‡ä»¶ä¸­çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨ã€‚</p>\n</blockquote>\n<div class=\"note danger no-icon\">\n<p>ä¸Šè¿° 4 ä¸ªæ–¹æ³•éƒ½ <code>ClassLoader</code>  ç±»ä¸­çš„æ¯”è¾ƒé‡è¦çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å¯èƒ½ä¼šç»å¸¸ç”¨åˆ°çš„æ–¹æ³•ã€‚</p>\n</div>\n<h2 id=\"sercureclassloaderæ‰©å±•-classloader\"><a class=\"anchor\" href=\"#sercureclassloaderæ‰©å±•-classloader\">#</a> SercureClassLoader æ‰©å±• - ClassLoader</h2>\n<h3 id=\"urlclassloaderurlclasspath\"><a class=\"anchor\" href=\"#urlclassloaderurlclasspath\">#</a> URLClassLoader&amp;URLClassPath</h3>\n<ul>\n<li>æ¥çœ‹ <code>SercureClassLoader</code>  æ‰©å±•äº† <code>ClassLoader</code>  æ–°å¢äº†å‡ ä¸ªä¸ä½¿ç”¨ç›¸å…³çš„ä»£ç æº (å¯¹ä»£ç æºçš„çš„ä½ç½®åŠè¯ä¹¦çš„éªŒè¯) å’Œæƒé™å®šä¹‰ç±»éªŒè¯ (ä¸»è¦æŒ‡å¯¹ <code>class</code>  æºç çš„è®¿é—®æƒé™) çš„æ–¹æ³•ã€‚</li>\n<li>æˆ‘ä»¬æ›´å¤šæ˜¯ä¸å®ƒçš„å­ç±» <code>URLClassLoader</code>  æœ‰æ‰€å…³è”ï¼Œ <code>ClassLoader</code>  æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå¾ˆå¤šæ–¹æ³•æ˜¯ç©ºæ–¹æ³•å¹¶æ²¡æœ‰å®ç°ï¼Œå¦‚ï¼š <code>findClass()</code>   <code>findResource()</code>  ç­‰æ–¹æ³•ã€‚</li>\n<li>è€Œ <code>URLClassLoader</code>  ç±»ä¸ºè¿™äº›æ–¹æ³•æä¾›äº†å…·ä½“å®ç°ï¼Œæ–°å¢äº† <code>URLClassPath</code>  ç±»ååŠ©å–å¾— <code>Class</code>  å­—èŠ‚ç æµç­‰åŠŸèƒ½ã€‚</li>\n<li>åœ¨ç¼–å†™è‡ªå®šä¹‰ç±»åŠ è½½å™¨æ—¶å¦‚æœæ²¡æœ‰è¿‡äºå¤æ‚çš„éœ€æ±‚ï¼Œå¯ä»¥ç›´æ¥ç»§æ‰¿ <code>URLClassLoader</code>  ç±»ï¼Œå°±å¯ä»¥é¿å…è‡ªå·±ç¼–å†™ <code>findClass()</code>  æ–¹æ³•åŠå…¶è·å–å­—èŠ‚ç æµçš„æ–¹æ³•äº†ã€‚<br />\n<img data-src=\"https://z1.ax1x.com/2023/12/01/pisGWin.png\" alt=\"pisGWin.png\" /></li>\n<li>ä»ç±»å›¾ç»“æ„æ¥çœ‹ <code>URLClassLoader</code>  ä¸­å­˜åœ¨ä¸€ä¸ª <code>URLClassPath</code>  ç±»ï¼Œé€šè¿‡è¿™ä¸ªç±»å°±å¯ä»¥æ‰¾åˆ°è¦åŠ è½½çš„å­—èŠ‚ç æµã€‚</li>\n<li>å°±æ˜¯è¯´ <code>URLCLassPath</code>  ç±»è´Ÿè´£æ‰¾åˆ°è¦åŠ è½½çš„å­—èŠ‚ç åå†è¯»å–å­—èŠ‚æµï¼Œæœ€åé€šè¿‡ <code>defineClass()</code>  æ–¹æ³•åˆ›å»ºç±»çš„ <code>class</code>  å¯¹è±¡ã€‚</li>\n<li>ä» <code>URLClassLoader</code>  ç±»çš„ç»“æ„å›¾å¯ä»¥çœ‹å‡ºå…¶æ„é€ æ–¹æ³•éƒ½æœ‰ä¸€ä¸ªå¿…é¡»ä¼ é€’çš„å‚æ•° <code>URL[]</code> ï¼Œè¯¥å‚æ•°çš„å…ƒç´ æ˜¯ä»£è¡¨å­—èŠ‚ç æ–‡ä»¶çš„è·¯å¾„ã€‚</li>\n<li>åœ¨åˆ›å»º <code>URLClassLoader</code>  å¯¹è±¡æ—¶å¿…é¡»è¦æŒ‡å®šè¿™ä¸ªç±»åŠ è½½å™¨è¦åˆ°å“ªä¸ªç›®å½•ä¸‹å¯»æ‰¾è¦åŠ è½½çš„ <code>class</code>  æ–‡åŒ–ã€‚</li>\n<li>åŒæ—¶åº”è¯¥<span class=\"red\">æ³¨æ„ï¼š</span> <code>URL[]</code>  æ˜¯ <code>URLCLassPath</code>  ç±»çš„å¿…ä¼ å‚æ•°ï¼Œåœ¨åˆ›å»º <code>URLClassPath</code>  å¯¹è±¡æ—¶ï¼Œä¼šæ ¹æ®ä¼ é€’çš„ <code>URL</code>  æ•°ç»„ä¸­çš„è·¯å¾„åˆ¤æ–­æ˜¯æ–‡ä»¶è¿˜æ˜¯ <code>jar</code>  åŒ…ã€‚</li>\n<li>æ ¹æ®ä¸åŒçš„è·¯å¾„åˆ›å»º <code>FileLoader</code>  æˆ–è€… <code>JarLoader</code>  æˆ–é»˜è®¤ <code>Loader</code>  ç±»å»åŠ è½½ç›¸åº”è·¯å¾„ä¸‹çš„ <code>class</code>  æ–‡ä»¶ã€‚</li>\n<li>è€Œå½“ <code>JVM</code>  è°ƒç”¨ <code>findClass()</code>  æ–¹æ³•æ—¶å°±ç”± <code>Loader</code>   <code>FileLoader</code>   <code>JarLoader</code>  è¿™ä¸‰ä¸ªåŠ è½½å™¨ä¸­çš„ä¸€ä¸ªå°† <code>class</code>  å­—èŠ‚ç æµæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œæœ€ååˆ©ç”¨å­—èŠ‚ç æµåˆ›å»ºç±»çš„ <code>class</code>  å¯¹è±¡ã€‚</li>\n<li><span class=\"label danger\">æ³¨æ„äº‹é¡¹:</span> å¦‚æœæˆ‘ä»¬åœ¨å®šä¹‰ç±»åŠ è½½å™¨æ—¶é€‰æ‹©ç»§æ‰¿ <code>ClassLoader</code>  ç±»è€Œé <code>URLClassLoader</code>  æ—¶ï¼Œå¿…é¡»è‡ªå·±å®ç° <code>findClass()</code>  æ–¹æ³•çš„å…·ä½“åŠ è½½é€»è¾‘ä»¥åŠè·å–å­—èŠ‚ç æµçš„é€»è¾‘ã€‚</li>\n</ul>\n<div class=\"note danger no-icon\">\n<p>äº†è§£å®Œ <code>URLClassLoader</code>  åä¸‹é¢æ¥çœ‹å‰©ä½™çš„ä¸¤ä¸ªç±»åŠ è½½å™¨ï¼š <code>SystemClassLoader(ç³»ç»Ÿç±»åŠ è½½å™¨)</code>  ä¹Ÿè¢«ç§°ä¸º <code>AppClassLoader(åº”ç”¨ç¨‹åºåŠ è½½å™¨)</code>  å’Œ <code>ExtClassLoader(æ‰©å±•ç±»åŠ è½½å™¨)</code>  æ‰©å±•ç±»åŠ è½½å™¨æ˜¯ <code>Java 8</code>  ä¸­çš„ï¼Œ <code>Java 9</code>  ä¹‹åå°†æ‰©å±•æ”¹ä¸ºäº†å¹³å° <code>PlatformClassLoader(å¹³å°ç±»åŠ è½½å™¨)</code> ï¼Œæ­¤å¤„ä½¿ç”¨ <code>Java 8</code>  ç‰ˆæœ¬</p>\n</div>\n<h3 id=\"appsystemclassloaderextclassloader\"><a class=\"anchor\" href=\"#appsystemclassloaderextclassloader\">#</a> App(System)ClassLoader&amp;ExtClassLoader</h3>\n<ul>\n<li>è¿™ä¸¤ä¸ªç±»éƒ½ç»§æ‰¿è‡ª <code>URLClassLoader</code>  ç±»ï¼Œ <code>ExtClassLoader</code>  å’Œ <code>AppClassLoader</code>  æ˜¯ <code>sun.misc.Launcher</code>  ä¸­çš„é™æ€å†…éƒ¨ç±»ã€‚</li>\n<li><code>sun.misc.Launcher</code>  ä¸»è¦è¢«ç³»ç»Ÿç”¨äºå¯åŠ¨ä¸»åº”ç”¨ç¨‹åºï¼Œ <code>ExtClassLoader</code>  å’Œ <code>AppClassLoader</code>  éƒ½æ˜¯ç”± <code>sun.misc.Launcher</code>  åˆ›å»ºçš„ï¼Œæ¥çœ‹ç»“æ„å›¾å¦‚ä¸‹ã€‚<br />\n<img data-src=\"https://z1.ax1x.com/2023/12/02/pisNypn.png\" alt=\"pisNypn.png\" /><br />\n<img data-src=\"https://z1.ax1x.com/2023/12/02/pisNRmT.png\" alt=\"pisNRmT.png\" /></li>\n<li>æˆ‘ä»¬å‘ç° <code>ExtClassLoader</code>  å¹¶æ²¡æœ‰é‡å†™ <code>loadClass()</code>  æ–¹æ³•ï¼Œè¿™è¶³çŸ£è¯æ˜å…¶éµå¾ª <code>åŒäº²å§”æ´¾æ¨¡å¼</code> ã€‚</li>\n<li>è€Œ <code>AppClassLoader</code>  é‡å†™äº† <code>loadClass()</code>  æ–¹æ³•ï¼Œä½†æœ€ç»ˆè°ƒç”¨çš„è¿˜æ˜¯çˆ¶ç±»çš„ <code>loadClass()</code>  æ–¹æ³•ï¼Œå› æ­¤ä¹Ÿéµå¾ª <code>åŒäº²å§”æ´¾æ¨¡å¼</code> ï¼Œé‡å†™æ–¹æ³•æºç å¦‚ä¸‹ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Launcher.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UvamF2YXNlOHUyMTEtbGF0ZXItYXJjaGl2ZS1kb3dubG9hZHMuaHRtbA==\">å‚è€ƒJAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>misc</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Launcher</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>     * The class loader used for loading from java.class.path.</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     * runs in a restricted security context.</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppClassLoader</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">URLClassLoader</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>         * Override loadClass so we can checkPackageAccess.</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">boolean</span> resolve<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> name<span class=\"token punctuation\">.</span><span class=\"token function\">lastIndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">!=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                <span class=\"token class-name\">SecurityManager</span> sm <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSecurityManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sm <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                    sm<span class=\"token punctuation\">.</span><span class=\"token function\">checkPackageAccess</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ucp<span class=\"token punctuation\">.</span><span class=\"token function\">knownToNotExist</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                <span class=\"token comment\">// The class of the given name is not found in the parent</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>                <span class=\"token comment\">// class loader as well as its local URLClassPath.</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>                <span class=\"token comment\">// Check if this class has already been defined dynamically;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>                <span class=\"token comment\">// if so, return the loaded class; otherwise, skip the parent</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>                <span class=\"token comment\">// delegation and findClass.</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> c <span class=\"token operator\">=</span> <span class=\"token function\">findLoadedClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>                        <span class=\"token function\">resolveClass</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>                    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>                    <span class=\"token keyword\">return</span> c<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>                <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            <span class=\"token comment\">// æ­¤å¤„è¿”å›ä¾æ—§è°ƒç”¨çš„æ˜¯çˆ¶ç±»ä¸­çš„ loadClass æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> resolve<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>æ— è®ºæ˜¯ <code>ExtClassLoader</code>  è¿˜æ˜¯ <code>AppClassLoader</code>  éƒ½ç»§æ‰¿è‡ª <code>URLClassLoader</code>  ç±»ï¼Œå› æ­¤å®ƒä»¬éƒ½éµå®ˆ <code>åŒäº²å§”æ´¾æ¨¡å¼</code> ã€‚</li>\n<li>åˆ°æ­¤å¤„æˆ‘ä»¬å¯¹ <code>CLassLoader</code>   <code>URLClassLoader</code>   <code>ExtClassLoader</code>   <code>AppClassLoader</code>  åŠ <code>Launcher</code>  ç±»ä¹‹é—´çš„å…³ç³»æœ‰äº†æ¯”è¾ƒæ¸…æ™°åœ°äº†è§£ã€‚</li>\n</ul>\n<blockquote>\n<p>ä¸‹é¢æˆ‘ä»¬å°†é€šè¿‡ä»£ç æ¥é˜æ˜ï¼Œä¸Šé¢çš„æ¯ä¸ªç±»åŠ è½½å™¨çš„çˆ¶ç±»åˆ°åº•æ˜¯è°ã€‚</p>\n</blockquote>\n<h1 id=\"ç±»åŠ è½½å™¨ä¹‹é—´çš„å…³ç³»\"><a class=\"anchor\" href=\"#ç±»åŠ è½½å™¨ä¹‹é—´çš„å…³ç³»\">#</a> ç±»åŠ è½½å™¨ä¹‹é—´çš„å…³ç³»</h1>\n<ul>\n<li>ç±»åŠ è½½å™¨é—´çš„å…³ç³»å¹¶éæŒ‡ç»§æ‰¿å…³ç³»ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹ <code>4</code>  ç‚¹ï¼š\n<ul>\n<li><a href=\"#%E5%BC%95%E5%AF%BCbootstrap%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8\"> <code>BootstrapClassLoader(å¼•å¯¼ç±»åŠ è½½å™¨)</code> </a> ä¹Ÿè¢«ç§°ä¸ºå¯åŠ¨ç±»åŠ è½½å™¨ï¼Œç”± <code>C++</code>  å®ç°ï¼Œæ²¡æœ‰çˆ¶ç±»ã€‚</li>\n<li><a href=\"#java8-%E6%89%A9%E5%B1%95extension\"> <code>ExtClassLoader(æ‰©å±•ç±»åŠ è½½å™¨)</code> </a> åœ¨ <code>Java 9</code>  ä¹‹åæ›¿æ¢ä¸ºäº†<a href=\"#java9-%E5%B9%B3%E5%8F%B0platform\"> <code>PlatformClassLoader(å¹³å°ç±»åŠ è½½å™¨)</code> </a>ï¼Œç”± <code>Java</code>  å®ç°å…¶çˆ¶ç±»åŠ è½½å™¨ä¸º <code>null</code> ã€‚</li>\n<li><a href=\"#%E7%B3%BB%E7%BB%9Fsystem%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%BA%94%E7%94%A8app%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8\"> <code>SystemClassLoader(ç³»ç»Ÿç±»åŠ è½½å™¨)</code> </a> æˆ–è€…ç§°ä¸º<a href=\"#%E7%B3%BB%E7%BB%9Fsystem%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%BA%94%E7%94%A8app%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8\"> <code>AppClassLoader(åº”ç”¨ç±»åŠ è½½å™¨)</code> </a>ï¼Œç”± <code>Java</code>  å®ç°å…¶çˆ¶ç±»åŠ è½½å™¨ä¸º <code>ExtClassLoader</code> ã€‚</li>\n<li>è‡ªå®šä¹‰ç±»åŠ è½½å™¨å…¶çˆ¶ç±»åŠ è½½å™¨ä¸º <code>AppClassLoader</code> ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ä»£ç æ¥éªŒè¯ä¸Šè¿°çš„è§‚ç‚¹ã€‚</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>CustomClassLoader.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>nio<span class=\"token punctuation\">.</span>file<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Files</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Description: è‡ªå®šä¹‰ç±»åŠ è½½å™¨</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @DateTime: 2023-12-02 15:22</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomClassLoader</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ClassLoader</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>   * æ–‡ä»¶æ‰©å±•å</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">String</span> FILE_EXTENSION <span class=\"token operator\">=</span> <span class=\"token string\">\".class\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>   * .class æ–‡ä»¶è·¯å¾„</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> filePath<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>   * æ„é€ æ–¹æ³•</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>   *</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>   * @param filePath .class æ–‡ä»¶è·¯å¾„</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">CustomClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> filePath<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>filePath <span class=\"token operator\">=</span> filePath<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>   * é‡å†™è·å–ç±»çš„å­—èŠ‚ç å¹¶åˆ›å»º class å¯¹è±¡çš„é€»è¾‘</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>   *</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>   * @param className å…¨é™å®šç±»åç§°</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>   * @return Class&lt;?> ä»»æ„ class ç±»å‹å¯¹è±¡</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> className<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token comment\">// è·å–å­—èŠ‚ç çš„å­—èŠ‚æ•°ç»„</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getClassData</span><span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token comment\">// è°ƒç”¨çˆ¶ç±»ä¸­çš„ defineClass æ–¹æ³•å°†å­—èŠ‚æµè§£ææˆ JVM èƒ½å¤Ÿè¯†åˆ«çš„ Class å¯¹è±¡å¹¶è¿”å›</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>   * è¯»å–å­—èŠ‚ç æµçš„æ–¹æ³•</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>   *</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>   * @param className å¯¹è±¡å…¨é™å®šåç§°</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>   * @return byte [] å­—èŠ‚æ•°ç»„</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getClassData</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> className<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token comment\">// åˆ›å»º InputStream å¯¹è±¡è·å–å­—èŠ‚è¾“å…¥æµ</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token class-name\">InputStream</span> inputStream <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token comment\">// å®šä¹‰ä¸€ä¸ªå­—èŠ‚æ•°ç»„</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token comment\">// åˆ›å»º ByteArrayOutputStream è·å–å­—èŠ‚è¾“å‡ºæµ</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token class-name\">ByteArrayOutputStream</span> byteArrayOutputStream <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>      <span class=\"token comment\">// å°†å­—ç¬¦ä¸²ä¸­çš„ \".\" å…¨éƒ¨æ›¿æ¢ä¸º â€œ\\\\â€</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>      <span class=\"token comment\">// è·å–å…¨é™å®šåç§°ç±»è·¯å¾„å¦‚ï¼štop.rem.rain.NotEqualClassTest -> top\\rem\\rain\\NotEqualClassTest</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>      className <span class=\"token operator\">=</span> className<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\\\'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>      <span class=\"token comment\">// è¯»å–.class æ–‡ä»¶åˆ° InputStream æµä¸­</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>      inputStream <span class=\"token operator\">=</span> <span class=\"token class-name\">Files</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInputStream</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span>filePath <span class=\"token operator\">+</span> className <span class=\"token operator\">+</span> FILE_EXTENSION<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>      <span class=\"token comment\">//new ByteArrayOutputStream è·å–å­—èŠ‚è¾“å‡ºæµå¯¹è±¡</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>      byteArrayOutputStream <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ByteArrayOutputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>      <span class=\"token keyword\">int</span> ch <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>      <span class=\"token comment\">//inputStream å­—èŠ‚æµè¯»å–åˆ° - 1 ä¸ºç»“æŸ</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>      <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">!=</span> <span class=\"token punctuation\">(</span>ch <span class=\"token operator\">=</span> inputStream<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token comment\">// å°†å­—èŠ‚ä¹³æµä¸­çš„æ•°æ®å†™å…¥åˆ°å­—èŠ‚è¾“å‡ºæµä¸­ inputStream -> byteArrayOutputStream</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        byteArrayOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>ch<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>      <span class=\"token comment\">// å°†å­—èŠ‚è¾“å‡ºæµè½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„å¹¶èµ‹å€¼åˆ° data ä¸­</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>      data <span class=\"token operator\">=</span> byteArrayOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>      e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>      <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token keyword\">assert</span> inputStream <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        inputStream<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token keyword\">assert</span> byteArrayOutputStream <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        byteArrayOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>CustomClassLoaderTest.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: è‡ªå®šä¹‰åŠ è½½å™¨æµ‹è¯•ç±»</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-02 15:32</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomClassLoaderTest</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token class-name\">CustomClassLoader</span> loader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CustomClassLoaderTest</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„çˆ¶åŠ è½½å™¨: \"</span><span class=\"token operator\">+</span>loader<span class=\"token punctuation\">.</span><span class=\"token function\">getParent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç³»ç»Ÿé»˜è®¤çš„AppClassLoader: \"</span><span class=\"token operator\">+</span><span class=\"token class-name\">ClassLoader</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSystemClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"AppClassLoaderçš„çˆ¶ç±»åŠ è½½å™¨: \"</span><span class=\"token operator\">+</span><span class=\"token class-name\">ClassLoader</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSystemClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getParent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ExtClassLoaderçš„çˆ¶ç±»åŠ è½½å™¨: \"</span><span class=\"token operator\">+</span><span class=\"token class-name\">ClassLoader</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSystemClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getParent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getParent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„çˆ¶åŠ è½½å™¨: sun.misc.Launcher$AppClassLoader@18b4aac2</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            ç³»ç»Ÿé»˜è®¤çš„ AppClassLoader: sun.misc.Launcher$AppClassLoader@18b4aac2</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            AppClassLoader çš„çˆ¶ç±»åŠ è½½å™¨: sun.misc.Launcher$ExtClassLoader@4554617c</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            ExtClassLoader çš„çˆ¶ç±»åŠ è½½å™¨: null</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>åœ¨ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬è‡ªå®šä¹‰äº†ä¸€ä¸ª <code>CustomClassLoader</code>  å¹¶ç»§æ‰¿äº† <code>ClassLoader</code>  ç±»ï¼Œè€Œéç»§æ‰¿è‡ª <code>URLClassLoader</code> ã€‚</li>\n<li>å› æ­¤éœ€è¦è‡ªå·±ç¼–å†™ <code>findClass()</code>  æ–¹æ³•çš„é€»è¾‘ä»¥åŠåŠ è½½å­—èŠ‚ç é€»è¾‘ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä»…éœ€è¦çŸ¥é“ <code>CustomClassLoader</code>  æ˜¯è‡ªå®šä¹‰åŠ è½½å™¨å³å¯ã€‚</li>\n<li>æ¥ç€åœ¨ <code>main</code>  æ–¹æ³•ä¹‹åé€šè¿‡ <code>ClassLoader.getSystemClassLoader()</code>  æ–¹æ³•è·å–åˆ°ç³»ç»Ÿé»˜è®¤ç±»åŠ è½½å™¨ï¼Œé€šè¿‡è·å–å…¶çˆ¶ç±»åŠ è½½å™¨åŠçˆ¶ç±»çš„çˆ¶ç±»åŠ è½½å™¨ï¼ŒåŒæ—¶è¿˜è·å–äº†è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨ï¼Œæ‰“å°ç»“æœæ­£å¦‚æˆ‘ä»¬æ‰€é¢„æ–™çš„ã€‚</li>\n<li><code>AppClassLoader</code>  çš„çˆ¶ç±»åŠ è½½å™¨ä¸º <code>ExtClassLoader</code> ï¼Œè€Œ <code>ExtClassLoader</code>  å¹¶æ²¡æœ‰çˆ¶ç±»åŠ è½½å™¨ã€‚</li>\n<li>è‡ªå®šä¹‰ç±»åŠ è½½å™¨é»˜è®¤æƒ…å†µä¸‹å®ƒçš„çˆ¶ç±»åŠ è½½å™¨éƒ½æ˜¯ <code>AppClassLoader</code> ï¼Œæˆ‘ä»¬æ¥çœ‹ <code>Lancher</code>  æ„é€ å™¨çš„æºç ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Launcher.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UvamF2YXNlOHUyMTEtbGF0ZXItYXJjaGl2ZS1kb3dubG9hZHMuaHRtbA==\">å‚è€ƒJAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>misc</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Launcher</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Launcher</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\">// Create the extension class loader -> åˆ›å»ºæ‰©å±•ç±»åŠ è½½å™¨</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token class-name\">ClassLoader</span> extcl<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            extcl <span class=\"token operator\">=</span> <span class=\"token class-name\">ExtClassLoader</span><span class=\"token punctuation\">.</span><span class=\"token function\">getExtClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token comment\">// æ— æ³•åˆ›å»ºæ‰©å±•ç±»åŠ è½½å™¨å°†æŠ›å‡ºæ­¤å¼‚å¸¸</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalError</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                <span class=\"token string\">\"Could not create extension class loader\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">// Now create the class loader to use to launch the application -> ç°åœ¨åˆ›å»ºç”¨äºå¯åŠ¨åº”ç”¨ç¨‹åºçš„ç±»åŠ è½½å™¨</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token comment\">// åœ¨åˆ›å»º AppClassLoader æ—¶å¹¶æŠŠ extcl ä½œä¸ºçˆ¶ç±»åŠ è½½å™¨ä¼ é€’ç»™ AppClassLoader</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            loader <span class=\"token operator\">=</span> <span class=\"token class-name\">AppClassLoader</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAppClassLoader</span><span class=\"token punctuation\">(</span>extcl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalError</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>                <span class=\"token string\">\"Could not create application class loader\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">// è®¾ç½®çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ï¼Œåé¢åˆ†æ</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token comment\">// Also set the context class loader for the primordial thread -> è¿˜è¦ä¸ºåŸå§‹çº¿ç¨‹è®¾ç½®ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setContextClassLoader</span><span class=\"token punctuation\">(</span>loader<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token comment\">// Finally, install a security manager if requested -> æœ€åå¦‚æœéœ€è¦å®‰è£…å®‰å…¨ç®¡ç†å™¨</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token class-name\">String</span> s <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"java.security.manager\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token comment\">//init FileSystem machinery before SecurityManager installation -> å®‰è£… SecurityManager ä¹‹å‰çš„ init æ–‡ä»¶ç³»ç»Ÿæœºåˆ¶</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token class-name\"><span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>nio<span class=\"token punctuation\">.</span>fs<span class=\"token punctuation\">.</span></span>DefaultFileSystemProvider</span><span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token class-name\">SecurityManager</span> sm <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"default\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>                sm <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span>SecurityManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>                <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>                    sm <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SecurityManager</span><span class=\"token punctuation\">)</span>loader<span class=\"token punctuation\">.</span><span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IllegalAccessException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InstantiationException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassNotFoundException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassCastException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sm <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">setSecurityManager</span><span class=\"token punctuation\">(</span>sm<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>                <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalError</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>                    <span class=\"token string\">\"Could not create SecurityManager: \"</span> <span class=\"token operator\">+</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>åœ¨ <code>Lancher</code>  åˆå§‹åŒ–æ—¶é¦–å…ˆä¼šåˆ›å»º <code>ExtClassLoader</code>  ç±»åŠ è½½å™¨ï¼Œç„¶åå†åˆ›å»º <code>AppClassLoader</code>  å¹¶æŠŠ <code>ExtClassLoader</code>  ä¼ é€’ç»™ <code>AppClassLoader</code>  ä½œä¸ºçˆ¶ç±»åŠ è½½å™¨ã€‚</li>\n<li>åé¢è¿˜æŠŠ <code>AppClassLoader</code>  é»˜è®¤è®¾ç½®ä¸ºçº¿ç¨‹ä¸Šä¸‹æ–‡åŠ è½½å™¨ï¼Œå…³äºçº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨åé¢åˆ†æã€‚</li>\n<li>æœ€åå°±æ˜¯ <code>ExtClassLoader</code>  ç±»åŠ è½½å™¨ä¸ºä»€ä¹ˆæ˜¯ <code>null</code> ??? æ¥çœ‹ä¸‹é¢çš„æºç ä¸­çš„åˆ›å»ºè¿‡ç¨‹å°±ä¼šæ˜ç™½äº†ã€‚</li>\n<li>åœ¨åˆ›å»º <code>ExtClassLoader</code>  æ—¶å¼ºåˆ¶è®¾ç½®äº†å…¶çˆ¶ç±»åŠ è½½å™¨ä¸º <code>null</code> ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Launcher.java </span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UvamF2YXNlOHUyMTEtbGF0ZXItYXJjaGl2ZS1kb3dubG9hZHMuaHRtbA==\">å‚è€ƒJAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>misc</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Launcher</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Launcher</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token class-name\">ClassLoader</span> extcl<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token comment\">// 1. åˆ›å»º ExtClassLoader</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            extcl <span class=\"token operator\">=</span> <span class=\"token class-name\">ExtClassLoader</span><span class=\"token punctuation\">.</span><span class=\"token function\">getExtClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InternalError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Could not create extension class loader\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">// çœç•¥æ­¤å¤„å…¶å®ƒæ²¡å¿…è¦çš„ä»£ç ...</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * ExtClassLoader ç»§æ‰¿è‡ª URLClassLoader</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     * ç”¨äºåŠ è½½å·²å®‰è£…æ‰©å±•çš„ç±»åŠ è½½å™¨</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     * The class loader used for loading installed extensions.</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ExtClassLoader</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">URLClassLoader</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">// çœç•¥æ­¤å¤„å…¶å®ƒæ²¡å¿…è¦çš„ä»£ç ...</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">ExtClassLoader</span> <span class=\"token function\">getExtClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>instance <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>                <span class=\"token keyword\">synchronized</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ExtClassLoader</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>instance <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                        <span class=\"token comment\">// 2. ç»§ç»­è·Ÿè¸ª createExtClassLoader æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                        instance <span class=\"token operator\">=</span> <span class=\"token function\">createExtClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>                    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token comment\">// 5. ç„¶åè¿”å›å‡ºæ¥çš„ ExtClassLoader ç±»ä¸­çš„çˆ¶åŠ è½½å™¨å°±æ˜¯ null</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            <span class=\"token keyword\">return</span> instance<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">ExtClassLoader</span> <span class=\"token function\">createExtClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>                <span class=\"token keyword\">return</span> <span class=\"token class-name\">AccessController</span><span class=\"token punctuation\">.</span><span class=\"token function\">doPrivileged</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>                        <span class=\"token keyword\">new</span> <span class=\"token class-name\">PrivilegedExceptionAction</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ExtClassLoader</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>                            <span class=\"token keyword\">public</span> <span class=\"token class-name\">ExtClassLoader</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>                                <span class=\"token keyword\">final</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> dirs <span class=\"token operator\">=</span> <span class=\"token function\">getExtDirs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>                                <span class=\"token keyword\">int</span> len <span class=\"token operator\">=</span> dirs<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>                                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>                                    <span class=\"token class-name\">MetaIndex</span><span class=\"token punctuation\">.</span><span class=\"token function\">registerDirectory</span><span class=\"token punctuation\">(</span>dirs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>                                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>                                <span class=\"token comment\">// 3. æ­¤å¤„è¿”å›åˆ›å»ºäº†ä¸€ä¸ª ExtClassLoader å¯¹è±¡ï¼Œç»§ç»­è·Ÿè¸ª</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>                                <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ExtClassLoader</span><span class=\"token punctuation\">(</span>dirs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>                            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>                        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>security<span class=\"token punctuation\">.</span></span>PrivilegedActionException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>                <span class=\"token keyword\">throw</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span><span class=\"token punctuation\">)</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>         * ä¸ºæŒ‡å®šçš„ç›®å½•åˆ›å»ºä¸€ä¸ªæ–°çš„ ExtClassLoaderã€‚</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>         * Creates a new ExtClassLoader for the specified directories.</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">ExtClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">File</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> dirs<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>            <span class=\"token comment\">// 4. æ­¤å¤„è°ƒç”¨çˆ¶ç±»æ„é€  URLClassLoader ä¼ é€’ null ä½œä¸º parent</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token function\">getExtURLs</span><span class=\"token punctuation\">(</span>dirs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> factory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>            <span class=\"token class-name\">SharedSecrets</span><span class=\"token punctuation\">.</span><span class=\"token function\">getJavaNetAccess</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>                    <span class=\"token function\">getURLClassPath</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">initLookupCache</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸Šè¿° <code>super</code>  è·Ÿå…¥è¿›å»åä¾¿æ˜¯ä¸‹é¢çš„ <code>URLClassLoader</code>  æ„é€ å™¨æºç ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>URLClassLoader.java </span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UvamF2YXNlOHUyMTEtbGF0ZXItYXJjaGl2ZS1kb3dubG9hZHMuaHRtbA==\">å‚è€ƒJAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>net</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">URLClassLoader</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">SecureClassLoader</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Closeable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">URLClassLoader</span><span class=\"token punctuation\">(</span>URL<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> urls<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ClassLoader</span> parent<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                          <span class=\"token class-name\">URLStreamHandlerFactory</span> factory<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token comment\">// this is to make the stack depth consistent with 1.1</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token class-name\">SecurityManager</span> security <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSecurityManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>security <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            security<span class=\"token punctuation\">.</span><span class=\"token function\">checkCreateClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        acc <span class=\"token operator\">=</span> <span class=\"token class-name\">AccessController</span><span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        ucp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">URLClassPath</span><span class=\"token punctuation\">(</span>urls<span class=\"token punctuation\">,</span> factory<span class=\"token punctuation\">,</span> acc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>ä»”ç»†åˆ†æåå¾ˆæ˜¾ç„¶ <code>ExtClassLoaer</code>  çš„çˆ¶ç±»ä¸º <code>null</code> ï¼Œè€Œ <code>AppClassLoader</code>  çš„çˆ¶åŠ è½½å™¨ä¸º <code>ExtClassLoader</code> ã€‚</li>\n<li>æ‰€æœ‰è‡ªå®šä¹‰ç±»åŠ è½½å™¨é»˜è®¤æƒ…å†µä¸‹å…¶çˆ¶åŠ è½½å™¨éƒ½æ˜¯ <code>AppClassLoader</code> ï¼Œ<span class=\"red\">æ³¨æ„ï¼š</span>è¿™é‡Œæ‰€æŒ‡çš„çˆ¶ç±»åŠ è½½å™¨å¹¶ä¸æ˜¯ <code>Java</code>  ç»§æ‰¿å…³ç³»ä¸­çš„é‚£ç§çˆ¶å­å…³ç³»ã€‚</li>\n</ul>\n<h1 id=\"ç±»ä¸ç±»åŠ è½½å™¨\"><a class=\"anchor\" href=\"#ç±»ä¸ç±»åŠ è½½å™¨\">#</a> ç±»ä¸ç±»åŠ è½½å™¨</h1>\n<ul>\n<li>åœ¨ <code>JVM</code>  ä¸­è¡¨ç¤ºä¸¤ä¸ª <code>class</code>  å¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€ä¸ªç±»å¯¹è±¡æ—¶ï¼Œå­˜åœ¨ä¸¤ä¸ªå¿…è¦æ¡ä»¶ï¼š\n<ul>\n<li>ç±»çš„å…¨é™å®šåç§°éœ€è¦ä¿æŒä¸€è‡´ã€‚</li>\n<li>åŠ è½½è¿™ä¸ªç±»çš„ <code>ClassLoader</code>  å®ä¾‹å¯¹è±¡å¿…é¡»ç›¸åŒã€‚</li>\n</ul>\n</li>\n<li>å°±æ˜¯è¯´åœ¨ <code>JVM</code>  ä¸­å³ä½¿è¿™ä¸¤ä¸ªç±»å¯¹è±¡ ( <code>class</code>  å¯¹è±¡) æ¥æºäºåŒä¸€ä¸ª <code>Class</code>  æ–‡ä»¶ï¼Œè¢«åŒä¸€ä¸ªè™šæ‹Ÿæœºæ‰€åŠ è½½ï¼Œä½†åªè¦åŠ è½½å®ƒä»¬çš„ <code>ClassLoader</code>  å®ä¾‹å¯¹è±¡ä¸åŒï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªç±»å¯¹è±¡ä¹Ÿæ˜¯ä¸ç›¸ç­‰çš„ã€‚</li>\n<li>è¿™æ˜¯å› ä¸ºä¸åŒçš„ <code>ClassLoader</code>  å®ä¾‹å¯¹è±¡éƒ½æ‹¥æœ‰ä¸åŒçš„ç‹¬ç«‹ç±»åç©ºé—´ï¼Œæ‰€ä»¥åŠ è½½çš„ <code>class</code>  å¯¹è±¡ä¹Ÿä¼šå­˜åœ¨ä¸åŒçš„ç±»åç©ºé—´ä¸­ï¼Œ<span class=\"red\">æ³¨æ„ï¼šå‰ææ˜¯éœ€è¦é‡å†™ <code>loadClass()</code>  æ–¹æ³•</span>ã€‚</li>\n<li>å°±ä»å‰é¢çš„ <code>åŒäº²å§”æ´¾æ¨¡å¼</code> å¯¹ <code>loadClass()</code>  æ–¹æ³•æºç åˆ†æä¸­å¯å¾—çŸ¥ï¼Œåœ¨æ–¹æ³•ç¬¬ä¸€æ­¥ä¼šé€šè¿‡ <code>Class&lt;?&gt; c = findLoadedClass(name)</code>  ä»ç¼“å­˜ä¸­æŸ¥æ‰¾ï¼Œç±»çš„å®Œå…¨é™å®šåç›¸åŒåˆ™ä¸ä¼šå†ä¸€æ¬¡è¢«åŠ è½½ã€‚</li>\n<li>å› æ­¤æˆ‘ä»¬å¿…é¡»ç»•è¿‡ç¼“å­˜æŸ¥è¯¢æ‰èƒ½é‡æ–°åŠ è½½ <code>class</code>  å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨ <code>findClass()</code>  æ–¹æ³•ï¼Œä¸‹é¢æ˜¯é¿å…ä»ç¼“å­˜ä¸­æŸ¥æ‰¾çš„ä»£ç ç¤ºä¾‹å¦‚ä¸‹ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>NotEqualClassTest.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ä¸ç›¸ç­‰å¯¹è±¡æµ‹è¯•</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-02 22:11</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NotEqualClassTest</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">// æ­¤å¤„æ˜¯.class æ–‡ä»¶å­˜åœ¨çš„é¡¹ç›®çš„é¡¶çº§ç›®å½•è·¯å¾„</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">String</span> classPath <span class=\"token operator\">=</span> <span class=\"token string\">\"D:\\\\é¡¹ç›®\\\\gitee\\\\untitled\\\\out\\\\production\\\\untitled\\\\\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºä¸¤ä¸ªä¸åŒçš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">CustomClassLoader</span> classLoader1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomClassLoader</span><span class=\"token punctuation\">(</span>classPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">CustomClassLoader</span> classLoader2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomClassLoader</span><span class=\"token punctuation\">(</span>classPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡ findClass åˆ›å»ºç±»çš„ Class å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> aClass1 <span class=\"token operator\">=</span> classLoader1<span class=\"token punctuation\">.</span><span class=\"token function\">findClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"top.rem.rain.NotEqualClassTest\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> aClass2 <span class=\"token operator\">=</span> classLoader2<span class=\"token punctuation\">.</span><span class=\"token function\">findClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"top.rem.rain.NotEqualClassTest\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"findClass -> aClass1:\"</span><span class=\"token operator\">+</span>aClass1<span class=\"token punctuation\">.</span><span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"findClass -> aClass2:\"</span><span class=\"token operator\">+</span>aClass2<span class=\"token punctuation\">.</span><span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            findClass -> aClass1:1836019240</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            findClass -> aClass2:325040804</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            ç”Ÿæˆä¸åŒå®ä¾‹å¯¹è±¡</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å¦‚æœè°ƒç”¨çˆ¶ç±»çš„ <code>loadClass()</code>  æ–¹æ³•ï¼Œç»“æœå¦‚ä¸‹ï¼Œé™¤éé‡å†™ <code>loadClass()</code>  æ–¹æ³•å»æ‰ç¼“å­˜æŸ¥æ‰¾æ­¥éª¤ï¼Œä¸è¿‡ç°åœ¨ä¸€èˆ¬éƒ½ä¸å»ºè®®é‡å†™ <code>loadClass()</code>  æ–¹æ³•ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>EqualClassTest.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: ç›¸ç­‰å¯¹è±¡æµ‹è¯•</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-03 00:55</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EqualClassTest</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">// æ­¤å¤„æ˜¯.class æ–‡ä»¶å­˜åœ¨çš„é¡¹ç›®çš„é¡¶çº§ç›®å½•è·¯å¾„</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token class-name\">String</span> classPath <span class=\"token operator\">=</span> <span class=\"token string\">\"D:\\\\é¡¹ç›®\\\\gitee\\\\untitled\\\\out\\\\production\\\\untitled\\\\\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">// åˆ›å»ºä¸¤ä¸ªä¸åŒçš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token class-name\">CustomClassLoader</span> classLoader1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomClassLoader</span><span class=\"token punctuation\">(</span>classPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token class-name\">CustomClassLoader</span> classLoader2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomClassLoader</span><span class=\"token punctuation\">(</span>classPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">// ç›´æ¥è°ƒç”¨ loadClass æ–¹æ³•çš„è¾“å‡ºç»“æœï¼Œæ³¨æ„å¹¶æ²¡æœ‰é‡å†™ loadClass æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> aClass1 <span class=\"token operator\">=</span> classLoader1<span class=\"token punctuation\">.</span><span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"top.rem.rain.EqualClassTest\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> aClass2 <span class=\"token operator\">=</span> classLoader2<span class=\"token punctuation\">.</span><span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"top.rem.rain.EqualClassTest\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"findClass -> aClass1:\"</span> <span class=\"token operator\">+</span> aClass1<span class=\"token punctuation\">.</span><span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"findClass -> aClass2:\"</span> <span class=\"token operator\">+</span> aClass2<span class=\"token punctuation\">.</span><span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Class -> aClass3:\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">EqualClassTest</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>          ç›´æ¥è°ƒç”¨ loadClass æ–¹æ³•çš„è¾“å‡ºç»“æœï¼Œæ³¨æ„å¹¶æ²¡æœ‰é‡å†™ loadClass æ–¹æ³•</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>          findClass -> aClass1:685325104</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>          findClass -> aClass2:685325104</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>          Class -> aClass3:685325104</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>          ç”Ÿæˆçš„éƒ½æ˜¯åŒä¸€ä¸ªå®ä¾‹å¯¹è±¡</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æ‰€ä»¥å¦‚æœä¸æƒ³ä»ç¼“å­˜æŸ¥è¯¢ç›¸åŒå®Œå…¨ç±»åçš„ <code>class</code>  å¯¹è±¡ï¼Œé‚£ä¹ˆåªæœ‰ <code>ClassLoader</code>  çš„å®ä¾‹å¯¹è±¡ä¸åŒï¼ŒåŒä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶åˆ›å»ºçš„ <code>class</code>  å¯¹è±¡è‡ªç„¶ä¹Ÿä¸ä¼šç›¸åŒã€‚</p>\n</blockquote>\n<h1 id=\"classæ–‡ä»¶æ˜¾ç¤ºéšå¼åŠ è½½æ¦‚å¿µ\"><a class=\"anchor\" href=\"#classæ–‡ä»¶æ˜¾ç¤ºéšå¼åŠ è½½æ¦‚å¿µ\">#</a> class æ–‡ä»¶æ˜¾ç¤º &amp; éšå¼åŠ è½½æ¦‚å¿µ</h1>\n<p><span class=\"label\">äº†è§£</span></p>\n<ul>\n<li>æ‰€è°“çš„ <code>class</code>  æ–‡ä»¶çš„æ˜¾ç¤ºåŠ è½½ä¸éšå¼åŠ è½½çš„æ–¹å¼æ˜¯æŒ‡ <code>JVM</code>  åŠ è½½ <code>class</code>  æ–‡ä»¶åˆ°å†…å­˜ä¸­çš„æ–¹å¼ã€‚</li>\n<li>æ˜¾ç¤ºåŠ è½½æŒ‡çš„æ˜¯åœ¨ä»£ç ä¸­é€šè¿‡è°ƒç”¨ <code>ClassLoader</code>  åŠ è½½ <code>class</code>  å¯¹è±¡ï¼Œå¦‚ç›´æ¥è°ƒç”¨ <code>Class.forName(name)</code>  æˆ– <code>this.getClass().getClassLoader().loadClass()</code>  åŠ è½½ <code>class</code>  å¯¹è±¡ã€‚</li>\n<li>éšå¼åŠ è½½æŒ‡çš„æ˜¯ä¸ç›´æ¥åœ¨ä»£ç ä¸­è°ƒç”¨ <code>ClassLoader</code>  æ–¹æ³•åŠ è½½ <code>class</code>  å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡è™šæ‹Ÿæœºè‡ªåŠ¨åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¦‚åœ¨åŠ è½½æŸä¸ªç±»çš„ <code>class</code>  æ–‡ä»¶æ—¶ï¼Œè¯¥ç±»çš„ <code>class</code>  æ–‡ä»¶ä¸­å¼•ç”¨äº†å¦å¤–ä¸€ä¸ªç±»å¯¹è±¡ï¼Œæ­¤æ—¶é¢å¤–å¼•ç”¨çš„ç±»å°†é€šè¿‡ <code>JVM</code>  è‡ªåŠ¨åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</li>\n<li>ä»¥ä¸Šä¸¤ç§æ–¹å¼ä¸€èˆ¬ä¼šæ··åˆä½¿ç”¨ã€‚</li>\n</ul>\n<h1 id=\"å®ç°è‡ªå®šä¹‰ç±»åŠ è½½å™¨\"><a class=\"anchor\" href=\"#å®ç°è‡ªå®šä¹‰ç±»åŠ è½½å™¨\">#</a> å®ç°è‡ªå®šä¹‰ç±»åŠ è½½å™¨</h1>\n<ul>\n<li>æƒ³å®ç°è‡ªå®šä¹‰ç±»åŠ è½½å™¨éœ€è¦ç»§æ‰¿ <code>ClassLoader</code>  æˆ–è€… <code>URLClassLoader</code>  ç±»ã€‚</li>\n<li>ç»§æ‰¿ <code>ClassLoader</code>  åˆ™éœ€è¦è‡ªå·±é‡å†™ <code>findClass()</code>  æ–¹æ³•å¹¶ç¼–å†™åŠ è½½é€»è¾‘ã€‚</li>\n<li>ç»§æ‰¿ <code>URLClassLoader</code>  åˆ™ä¸ç”¨è‡ªå·±ç¼–å†™ <code>findClass()</code>  æ–¹æ³•çš„åŠ è½½é€»è¾‘ä»¥åŠ <code>class</code>  æ–‡ä»¶åŠ è½½è½¬æ¢æˆå­—èŠ‚ç æµçš„ä»£ç ã€‚</li>\n<li><span class=\"red\">ä¸ºä»€ä¹ˆè¦ç¼–å†™è‡ªå®šä¹‰ç±»åŠ è½½å™¨å…¶æ„ä¹‰ä½•åœ¨ï¼Ÿ</span>\n<ul>\n<li>å½“ <code>class</code>  æ–‡ä»¶ä¸åœ¨ <code>ClassPath</code>  è·¯å¾„ä¸‹ï¼Œé»˜è®¤ç³»ç»Ÿç±»åŠ è½½å™¨ (åº”ç”¨ç±»åŠ è½½å™¨) æ— æ³•æ‰¾åˆ°è¯¥ <code>class</code>  æ–‡ä»¶ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦è‡ªå·±å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>ClassLoader</code>  æ¥åŠ è½½ç‰¹å®šè·¯å¾„ä¸‹çš„ <code>class</code>  æ–‡ä»¶ç”Ÿæˆ <code>class</code>  å¯¹è±¡ã€‚</li>\n<li>å½“ä¸€ä¸ª <code>class</code>  æ–‡ä»¶æ˜¯é€šè¿‡ç½‘ç»œä¼ è¾“å¹¶ä¸”å¯èƒ½ä¼šè¿›è¡Œç›¸åº”åŠ å¯†æ“ä½œæ—¶ï¼Œéœ€è¦å…ˆå¯¹ <code>class</code>  æ–‡ä»¶è¿›è¡Œç›¸åº”çš„è§£å¯†åå†åŠ è½½åˆ° <code>JVM</code>  å†…å­˜ä¸­ï¼Œè¿™ç§æƒ…å†µä¸‹ä¹Ÿéœ€è¦è‡ªå·±ç¼–å†™è‡ªå®šä¹‰çš„ <code>ClassLoader</code>  å¹¶å®ç°ç›¸åº”çš„é€»è¾‘ã€‚</li>\n<li>å½“éœ€è¦å®ç°çƒ­éƒ¨ç½²åŠŸèƒ½æ—¶ (ä¸€ä¸ª <code>class</code>  æ–‡ä»¶é€šè¿‡ä¸åŒçš„ç±»åŠ è½½å™¨äº§ç”Ÿä¸åŒ <code>class</code>  å¯¹è±¡ä»è€Œå®ç°çƒ­éƒ¨ç½²åŠŸèƒ½) ä¹Ÿæƒ³è¦è‡ªå·±å®ç°è‡ªå®šä¹‰ <code>ClassLoader</code>  çš„é€»è¾‘ã€‚</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"è‡ªå®šä¹‰fileç±»åŠ è½½å™¨\"><a class=\"anchor\" href=\"#è‡ªå®šä¹‰fileç±»åŠ è½½å™¨\">#</a> è‡ªå®šä¹‰ File ç±»åŠ è½½å™¨</h1>\n<div class=\"note info no-icon\">\n<p>æˆ‘ä»¬ç»§æ‰¿ <code>ClassLoader</code>  å®ç°è‡ªå®šä¹‰çš„ç‰¹å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶ç±»åŠ è½½å™¨å¹¶åŠ è½½ç¼–è¯‘åçš„ <code>Student.class</code>  æºç å¦‚ä¸‹ã€‚</p>\n</div>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Student.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: å­¦ç”Ÿç±»å¯¹è±¡</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-03 12:42</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token string\">\"top.rem.rain.Student&#123; \"</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token string\">\"name=\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"LightRain\"</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token string\">\" age=\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"17\"</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token string\">\" sex=\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"woman \"</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token string\">'&#125;'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FileClassLoader.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ByteArrayOutputStream</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">File</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IOException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">InputStream</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>nio<span class=\"token punctuation\">.</span>file<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Files</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Description: è‡ªå®šä¹‰ FileClassLoader</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @DateTime: 2023-12-03 12:50</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FileClassLoader</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ClassLoader</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * æ–‡ä»¶æ‰©å±•å</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">String</span> FILE_EXTENSION <span class=\"token operator\">=</span> <span class=\"token string\">\".class\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     * .class æ–‡ä»¶è·¯å¾„</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> filePath<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">FileClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> filePath<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>filePath <span class=\"token operator\">=</span> filePath<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> className<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">// è·å–å­—èŠ‚ç çš„å­—èŠ‚æ•°ç»„</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getClassData</span><span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">// è°ƒç”¨çˆ¶ç±»ä¸­çš„ defineClass æ–¹æ³•å°†å­—èŠ‚æµè§£ææˆ JVM èƒ½å¤Ÿè¯†åˆ«çš„ Class å¯¹è±¡å¹¶è¿”å›</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>     * è¯»å–å­—èŠ‚ç æµçš„æ–¹æ³•</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>     * @param className å¯¹è±¡å…¨é™å®šåç§°</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>     * @return byte [] å­—èŠ‚æ•°ç»„</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getClassData</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> className<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»º InputStream å¯¹è±¡è·å–å­—èŠ‚è¾“å…¥æµ</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token class-name\">InputStream</span> inputStream <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token comment\">// å®šä¹‰ä¸€ä¸ªå­—èŠ‚æ•°ç»„</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»º ByteArrayOutputStream è·å–å­—èŠ‚è¾“å‡ºæµ</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token class-name\">ByteArrayOutputStream</span> byteArrayOutputStream <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            <span class=\"token comment\">// å°†å­—ç¬¦ä¸²ä¸­çš„ \".\" å…¨éƒ¨æ›¿æ¢ä¸º â€œ\\\\â€</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            <span class=\"token comment\">// è·å–å…¨é™å®šåç§°ç±»è·¯å¾„å¦‚ï¼štop.rem.rain.NotEqualClassTest -> top\\rem\\rain\\NotEqualClassTest</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>            className <span class=\"token operator\">=</span> className<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\\\\'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            <span class=\"token comment\">// è¯»å–.class æ–‡ä»¶åˆ° InputStream æµä¸­</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            inputStream <span class=\"token operator\">=</span> <span class=\"token class-name\">Files</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInputStream</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span>filePath <span class=\"token operator\">+</span> className <span class=\"token operator\">+</span> FILE_EXTENSION<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            <span class=\"token comment\">//new ByteArrayOutputStream è·å–å­—èŠ‚è¾“å‡ºæµå¯¹è±¡</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            byteArrayOutputStream <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ByteArrayOutputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>            <span class=\"token keyword\">int</span> ch <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>            <span class=\"token comment\">//inputStream å­—èŠ‚æµè¯»å–åˆ° - 1 ä¸ºç»“æŸ</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">!=</span> <span class=\"token punctuation\">(</span>ch <span class=\"token operator\">=</span> inputStream<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>                <span class=\"token comment\">// å°†å­—èŠ‚ä¹³æµä¸­çš„æ•°æ®å†™å…¥åˆ°å­—èŠ‚è¾“å‡ºæµä¸­ inputStream -> byteArrayOutputStream</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>                byteArrayOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>ch<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>            <span class=\"token comment\">// å°†å­—èŠ‚è¾“å‡ºæµè½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„å¹¶èµ‹å€¼åˆ° data ä¸­</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>            data <span class=\"token operator\">=</span> byteArrayOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>                <span class=\"token keyword\">assert</span> inputStream <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>                inputStream<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>                <span class=\"token keyword\">assert</span> byteArrayOutputStream <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>                byteArrayOutputStream<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IOException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>                e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre></pre></td></tr><tr><td data-num=\"81\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FileClassLoaderTest.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: FileClassLoader æµ‹è¯•</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-03 12:56</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FileClassLoaderTest</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InstantiationException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IllegalAccessException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ClassNotFoundException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token class-name\">String</span> filePath  <span class=\"token operator\">=</span> <span class=\"token string\">\"D:\\\\é¡¹ç›®\\\\gitee\\\\untitled\\\\out\\\\production\\\\untitled\\\\\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºè‡ªå®šä¹‰æ–‡ä»¶ç±»åŠ è½½å™¨</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">FileClassLoader</span> fileClassLoader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileClassLoader</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\">// åŠ è½½æŒ‡å®šçš„ class æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> aClass <span class=\"token operator\">=</span> fileClassLoader<span class=\"token punctuation\">.</span><span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"top.rem.rain.Student\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"aClass.newInstance().toString() = \"</span> <span class=\"token operator\">+</span> aClass<span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>          æ‰§è¡Œç»“æœï¼šaClass.newInstance ().toString () = top.rem.rain.Student &#123; name=LightRain age=17 sex=woman &#125;</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>æˆ‘ä»¬é€šè¿‡ <code>getClassData()</code>  æ–¹æ³•æ‰¾åˆ°äº† <code>class</code>  æ–‡ä»¶å¹¶è½¬æ¢ä¸ºå­—èŠ‚æµé‡å†™äº† <code>findClass()</code>  æ–¹æ³•ï¼Œåˆ©ç”¨ <code>defineClass()</code>  æ–¹æ³•åˆ›å»ºäº†ç±»çš„ <code>class</code>  å¯¹è±¡ã€‚</li>\n<li>åœ¨ <code>main</code>  æ–¹æ³•ä¸­è°ƒç”¨ <code>loadClass()</code>  æ–¹æ³•åŠ è½½æŒ‡å®šè·¯å¾„ä¸‹çš„ <code>class</code>  æ–‡ä»¶ï¼Œç”±äºå¯åŠ¨ç±»åŠ è½½å™¨ã€æ‰©å±•ç±»åŠ è½½å™¨ä»¥åŠç³»ç»Ÿç±»åŠ è½½å™¨éƒ½æ— æ³•åœ¨å…¶è·¯å¾„ä¸‹æ‰¾åˆ°è¯¥ç±»ï¼Œå› æ­¤æœ€ç»ˆå°†ç”±è‡ªå®šä¹‰ç±»åŠ è½½å™¨åŠ è½½ï¼Œå³è°ƒç”¨ <code>findClass()</code>  æ–¹æ³•è¿›è¡ŒåŠ è½½ã€‚</li>\n</ul>\n<div class=\"note info no-icon\">\n<p>å¦‚æœç»§æ‰¿ <code>URLClassLoader</code>  ç±»æ¥å®ç°è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œä»£ç å°†ä¼šæ›´åŠ ç®€æ´ï¼Œä»£ç å¦‚ä¸‹ã€‚</p>\n</div>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FileUrlClassLoader.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>net<span class=\"token punctuation\">.</span></span>URL<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>net<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">URLClassLoader</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>net<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">URLStreamHandlerFactory</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: ç»§æ‰¿è‡ª URLClassLoader çš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2023-12-03 14:37</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FileUrlClassLoader</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">URLClassLoader</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">FileUrlClassLoader</span><span class=\"token punctuation\">(</span>URL<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> urls<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ClassLoader</span> parent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>urls<span class=\"token punctuation\">,</span> parent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">FileUrlClassLoader</span><span class=\"token punctuation\">(</span>URL<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> urls<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>urls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">FileUrlClassLoader</span><span class=\"token punctuation\">(</span>URL<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> urls<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ClassLoader</span> parent<span class=\"token punctuation\">,</span> <span class=\"token class-name\">URLStreamHandlerFactory</span> factory<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>urls<span class=\"token punctuation\">,</span> parent<span class=\"token punctuation\">,</span> factory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FileUrlClassLoaderTest.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">File</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>net<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">MalformedURLException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>net<span class=\"token punctuation\">.</span></span>URL<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: FileUrlClassLoader æµ‹è¯•</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2023-12-03 14:38</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FileUrlClassLoaderTest</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">MalformedURLException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InstantiationException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IllegalAccessException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">String</span> filePath  <span class=\"token operator\">=</span> <span class=\"token string\">\"D:\\\\é¡¹ç›®\\\\gitee\\\\untitled\\\\out\\\\production\\\\untitled\\\\\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºè‡ªå®šä¹‰æ–‡ä»¶ç±»åŠ è½½å™¨</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">File</span> file <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">FileUrlClassLoader</span> fileUrlClassLoader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileUrlClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> URL<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span>file<span class=\"token punctuation\">.</span><span class=\"token function\">toURI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toURL</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token comment\">// åŠ è½½æŒ‡å®šçš„ class æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> aClass <span class=\"token operator\">=</span> fileUrlClassLoader<span class=\"token punctuation\">.</span><span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"top.rem.rain.Student\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"aClass.newInstance().toString() = \"</span> <span class=\"token operator\">+</span> aClass<span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"24\"></td><td><pre>         <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>          æ‰§è¡Œç»“æœï¼šaClass.newInstance ().toString () = top.rem.rain.Student &#123; name=LightRain age=17 sex=woman &#125;</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>é™¤äº†éœ€è¦é‡å†™æ„é€ å™¨å¤–æ— éœ€ç¼–å†™ <code>findClass()</code>  æ–¹æ³•åŠå…¶ <code>class</code>  æ–‡ä»¶å­—èŠ‚ç æµçš„è½¬æ¢é€»è¾‘ã€‚</p>\n</blockquote>\n<h1 id=\"è‡ªå®šä¹‰ç½‘ç»œç±»åŠ è½½å™¨\"><a class=\"anchor\" href=\"#è‡ªå®šä¹‰ç½‘ç»œç±»åŠ è½½å™¨\">#</a> è‡ªå®šä¹‰ç½‘ç»œç±»åŠ è½½å™¨</h1>\n<div class=\"note info no-icon\">\n<p>è‡ªå®šä¹‰ç½‘ç»œç±»åŠ è½½å™¨ï¼Œä¸»è¦ç”¨äºè¯»å–é€šè¿‡ç½‘ç»œä¼ é€’çš„ <code>class</code>  æ–‡ä»¶</p>\n</div>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>NetClassLoader.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ByteArrayOutputStream</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">InputStream</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>net<span class=\"token punctuation\">.</span></span>URL<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: è‡ªå®šä¹‰ç½‘ç»œç±»åŠ è½½å™¨</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2023-12-03 15:43</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NetClassLoader</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ClassLoader</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> url<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">NetClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> url<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>url <span class=\"token operator\">=</span> url<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> classData <span class=\"token operator\">=</span> <span class=\"token function\">getClassDataFromNet</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>classData <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token function\">defineClass</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> classData<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> classData<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     * ä»ç½‘ç»œè·å– class æ–‡ä»¶</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     * @param className</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>     * @return</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getClassDataFromNet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> className<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token class-name\">String</span> path <span class=\"token operator\">=</span> <span class=\"token function\">classNameToPath</span><span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            <span class=\"token class-name\">URL</span> url <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">URL</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>            <span class=\"token class-name\">ByteArrayOutputStream</span> baos<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InputStream</span> ins <span class=\"token operator\">=</span> url<span class=\"token punctuation\">.</span><span class=\"token function\">openStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>                baos <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ByteArrayOutputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>                <span class=\"token keyword\">int</span> bufferSize <span class=\"token operator\">=</span> <span class=\"token number\">4096</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>                <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> buffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span>bufferSize<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>                <span class=\"token keyword\">int</span> bytesNumRead <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>                <span class=\"token comment\">// è¯»å–ç±»æ–‡ä»¶çš„å­—èŠ‚</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>                <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>bytesNumRead <span class=\"token operator\">=</span> ins<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>                    baos<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> bytesNumRead<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            <span class=\"token comment\">// å¦‚æœæœ‰åŠ å¯†æ“ä½œéœ€è¦åœ¨è¿™é‡Œå…ˆè¿›è¡Œè§£å¯†</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            <span class=\"token keyword\">return</span> baos<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> <span class=\"token function\">classNameToPath</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> className<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token comment\">// å¾—åˆ°ç±»æ–‡ä»¶çš„ URL</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        <span class=\"token keyword\">return</span> url <span class=\"token operator\">+</span> <span class=\"token string\">\"/\"</span> <span class=\"token operator\">+</span> className<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".class\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>ä¸»è¦æ˜¯åœ¨è·å–å­—èŠ‚ç æµæ—¶çš„åŒºåˆ«ï¼Œä»ç½‘ç»œç›´æ¥è·å–åˆ°å­—èŠ‚æµå†è½¬æˆå­—èŠ‚æ•°ç»„ç„¶ååˆ©ç”¨ <code>defineClass()</code>  æ–¹æ³•åˆ›å»º <code>class</code>  å¯¹è±¡ã€‚</li>\n<li>å¦‚æœç»§æ‰¿è‡ª <code>URLClassLoader</code>  ç±»åˆ™å’Œå‰é¢æ–‡ä»¶è·¯å¾„çš„å®ç°æ˜¯ç±»ä¼¼çš„ï¼Œæ— éœ€æ‹…å¿ƒè·¯å¾„æ˜¯ <code>filePath</code>  è¿˜æ˜¯ <code>url</code> ï¼Œå› ä¸º <code>URLClassLoader</code>  å†…çš„ <code>URLClassPath</code>  å¯¹è±¡ä¼šæ ¹æ®ä¼ é€’è¿‡æ¥çš„ <code>URL</code>  æ•°ç»„ä¸­çš„è·¯å¾„å»åˆ¤æ–­æ˜¯æ–‡ä»¶è¿˜æ˜¯ <code>jar</code>  åŒ…ï¼Œç„¶åæ ¹æ®ä¸åŒçš„è·¯å¾„åˆ›å»º <code>FileLoader</code>  æˆ– <code>JarLoader</code>  æˆ–é»˜è®¤ç±» <code>Loader</code>  å»è¯»å–å¯¹åº”çš„è·¯å¾„æˆ– <code>url</code>  ä¸‹çš„ <code>class</code>  æ–‡ä»¶ã€‚</li>\n</ul>\n<h1 id=\"å®ç°çƒ­éƒ¨ç½²ç±»åŠ è½½å™¨\"><a class=\"anchor\" href=\"#å®ç°çƒ­éƒ¨ç½²ç±»åŠ è½½å™¨\">#</a> å®ç°çƒ­éƒ¨ç½²ç±»åŠ è½½å™¨</h1>\n<ul>\n<li>çƒ­éƒ¨ç½²å°±æ˜¯åˆ©ç”¨åŒä¸€ä¸ª <code>class</code>  æ–‡ä»¶ï¼Œä½¿ç”¨ä¸åŒçš„ç±»åŠ è½½å™¨åœ¨å†…å­˜ä¸­åˆ›å»ºå‡ºä¸¤ä¸ªä¸åŒçš„ <code>class</code>  å¯¹è±¡ (å³ä½¿ç”¨ä¸åŒçš„ç±»åŠ è½½å™¨åŠ è½½å®ä¾‹)ï¼Œç”±äº <code>JVM</code>  åœ¨åŠ è½½ç±»ä¹‹å‰ä¼šæ£€æµ‹è¯·æ±‚çš„ç±»æ˜¯å¦å·²è¢«åŠ è½½è¿‡ (å³åœ¨ <code>loadClass()</code>  æ–¹æ³•ä¸­è°ƒç”¨ <code>findLoadedClass()</code>  æ–¹æ³•)ã€‚</li>\n<li>å¦‚æœè¢«åŠ è½½è¿‡åˆ™ç›´æ¥ä»ç¼“å­˜è·å–ï¼Œä¸ä¼šé‡æ–°å†åŠ è½½ï¼Œ <code>æ³¨æ„ï¼š</code> åŒä¸€ä¸ªç±»åŠ è½½å™¨çš„å®ä¾‹å’ŒåŒä¸€ä¸ª <code>class</code>  æ–‡ä»¶åªèƒ½è¢«åŠ è½½å™¨åŠ è½½ä¸€æ¬¡ï¼Œå¤šæ¬¡åŠ è½½å°†ä¼šæŠ¥é”™ã€‚</li>\n<li>å› æ­¤æˆ‘ä»¬å®ç°çƒ­éƒ¨ç½²å¿…é¡»è®©åŒä¸€ä¸ª <code>class</code>  æ–‡ä»¶ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„ç±»åŠ è½½å™¨é‡å¤åŠ è½½ï¼Œä»¥å®ç°æ‰€è°“çš„çƒ­éƒ¨ç½²ã€‚</li>\n<li>å®é™…ä¸Šå‰é¢å®ç°çš„ <code>FileClassLoader</code>  å’Œ <code>FileUrlClassLoader</code>  å·²å…·å¤‡è¿™ä¸ªåŠŸèƒ½äº†ï¼Œä½†å‰ææ˜¯ç›´æ¥è°ƒç”¨ <code>findClass()</code>  æ–¹æ³•ï¼Œè€Œä¸æ˜¯è°ƒç”¨ <code>loadClass()</code>  æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬é‡å†™äº† <code>findClass()</code>  æ–¹æ³•ï¼Œåœ¨æ–¹æ³•ä¸­æˆ‘ä»¬å¹¶æ²¡æœ‰å»æŸ¥è¯¢ç¼“å­˜ä¸­æ˜¯å¦å·²è¢«åŠ è½½ã€‚</li>\n<li>å› æ­¤åœ¨ <code>ClassLoader</code>  ä¸­çš„ <code>loadClass()</code>  æ–¹æ³•ä½“ä¸­è°ƒç”¨çš„ <code>findLoadedClass()</code>  æ–¹æ³•è¿›è¡Œäº†æ£€æµ‹æ˜¯å¦å·²è¢«åŠ è½½ã€‚</li>\n<li>å› æ­¤æˆ‘ä»¬ç›´æ¥è°ƒç”¨ <code>findClass()</code>  æ–¹æ³•å°±å¯ä»¥ç»•è¿‡è¿™ä¸ªé—®é¢˜ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é‡å†™ <code>loadClass()</code> ï¼Œåªä¸è¿‡æ˜¯ä¸æ¨èè¿™ä¹ˆå¹²ä»…æ­¤è€Œå·²ã€‚</li>\n<li>åˆ©ç”¨ <code>FileClassLoader</code>  ç±»æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FileClassLoaderTest2.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: FileClassLoader æµ‹è¯• -- çƒ­éƒ¨ç½²</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-12-03 12:56</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FileClassLoaderTest2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InstantiationException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IllegalAccessException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ClassNotFoundException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token class-name\">String</span> filePath  <span class=\"token operator\">=</span> <span class=\"token string\">\"D:\\\\é¡¹ç›®\\\\gitee\\\\untitled\\\\out\\\\production\\\\untitled\\\\\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºè‡ªå®šä¹‰æ–‡ä»¶ç±»åŠ è½½å™¨</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">FileClassLoader</span> fileClassLoader1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileClassLoader</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">FileClassLoader</span> fileClassLoader2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileClassLoader</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">// åŠ è½½æŒ‡å®šçš„ class æ–‡ä»¶ï¼Œè°ƒç”¨ loadClass ()</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> aClass1 <span class=\"token operator\">=</span> fileClassLoader1<span class=\"token punctuation\">.</span><span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"top.rem.rain.Student\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> aClass2 <span class=\"token operator\">=</span> fileClassLoader2<span class=\"token punctuation\">.</span><span class=\"token function\">loadClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"top.rem.rain.Student\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"loadClass -> aClass1:\"</span><span class=\"token operator\">+</span>aClass1<span class=\"token punctuation\">.</span><span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"loadClass -> aClass2:\"</span><span class=\"token operator\">+</span>aClass2<span class=\"token punctuation\">.</span><span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">// åŠ è½½æŒ‡å®šçš„ class æ–‡ä»¶ï¼Œç›´æ¥è°ƒç”¨ findClass (), ç»•è¿‡æ£€æµ‹æœºåˆ¶ï¼Œåˆ›å»ºä¸åŒ class å¯¹è±¡ã€‚</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> aClass3 <span class=\"token operator\">=</span> fileClassLoader1<span class=\"token punctuation\">.</span><span class=\"token function\">findClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"top.rem.rain.Student\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> aClass4 <span class=\"token operator\">=</span> fileClassLoader2<span class=\"token punctuation\">.</span><span class=\"token function\">findClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"top.rem.rain.Student\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"findClass -> aClass3:\"</span><span class=\"token operator\">+</span>aClass3<span class=\"token punctuation\">.</span><span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"findClass -> aClass4:\"</span><span class=\"token operator\">+</span>aClass4<span class=\"token punctuation\">.</span><span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        </pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>          æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            loadClass -> aClass1:1163157884</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            loadClass -> aClass2:1163157884</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            --------------------------------</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            findClass -> aClass3:325040804</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            findClass -> aClass4:1173230247</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨\"><a class=\"anchor\" href=\"#çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨\">#</a> çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨</h1>\n<div class=\"note danger no-icon\">\n<p><span class=\"red\">çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨æ˜¯åŒäº²å§”æ´¾æ¨¡å¼çš„ç ´åè€…</span></p>\n</div>\n<ul>\n<li>åœ¨ <code>Java</code>  åº”ç”¨ä¸­å­˜åœ¨ç€å¾ˆå¤šæœåŠ¡æä¾›è€…æ¥å£ ( <code>Service Provider Interface</code>  ç®€ç§°ï¼š <code>SPI</code> )ï¼Œè¿™äº›æ¥å£å…è®¸ç¬¬ä¸‰æ–¹ä¸ºå®ƒä»¬æä¾›å…·ä½“å®ç°ã€‚</li>\n<li>å¸¸è§çš„ <code>SPI</code>  æœ‰ <code>JDBC</code> ã€ <code>JNDI</code>  ç­‰ï¼Œè¿™äº› <code>SPI</code>  çš„æ¥å£å±äº <code>Java</code>  æ ¸å¿ƒåº“ï¼Œä¸€èˆ¬å­˜åœ¨ <code>rt.jar</code>  åŒ…ä¸­ï¼Œç”± <code>Bootstrap</code>  ç±»åŠ è½½å™¨åŠ è½½ã€‚</li>\n<li>è€Œ <code>SPI</code>  çš„ç¬¬ä¸‰æ–¹å…·ä½“å®ç°çš„ä»£ç åˆ™æ˜¯ä½œä¸º <code>Java</code>  åº”ç”¨æ‰€ä¾èµ–çš„ <code>jar</code>  åŒ…è¢«å­˜æ”¾åœ¨ <code>classpath</code>  è·¯å¾„ä¸‹ã€‚</li>\n<li>ç”±äº <code>SPI</code>  æ¥å£ä¸­çš„ä»£ç ç»å¸¸éœ€è¦åŠ è½½å…·ä½“çš„ç¬¬ä¸‰æ–¹å®ç°ç±»å¹¶è°ƒç”¨å…¶ç›¸å…³æ–¹æ³•ï¼Œä½† <code>SPI</code>  çš„æ ¸å¿ƒæ¥å£ç±»æ˜¯ç”±<a href=\"#%E5%BC%95%E5%AF%BCbootstrap%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8\">å¼•å¯¼ç±»åŠ è½½å™¨</a>æ¥åŠ è½½çš„ã€‚</li>\n<li>è€Œ <code>Bootstrap</code>  ç±»åŠ è½½å™¨æ— æ³•ç›´æ¥åŠ è½½ <code>SPI</code>  çš„å…·ä½“å®ç°ç±»ï¼ŒåŒæ—¶ç”±äº<a href=\"#%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%A8%A1%E5%BC%8F\"> <code>åŒäº²å§”æ´¾æ¨¡å¼</code> </a>çš„å­˜åœ¨ï¼Œ <code>Bootstrap</code>  ç±»åŠ è½½å™¨ä¹Ÿæ— æ³•åå‘å§”æ‰˜ç»™ <code>AppClassLoader</code>  åŠ è½½å™¨æ¥åŠ è½½ <code>SPI</code>  çš„å…·ä½“å®ç°ç±»ã€‚</li>\n<li>è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å°±éœ€è¦ä¸€ç§ç‰¹æ®Šçš„ç±»åŠ è½½å™¨æ¥åŠ è½½ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œè€Œçº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨å°±æ˜¯ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚</li>\n<li>çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ ( <code>ContextClassLoader</code> ) æ˜¯ä» <code>Java 1.2</code>  å¼€å§‹å¼•å…¥çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>java.lang.Thread</code>  ç±»ä¸­çš„ <code>getContextClassLoader()</code>  å’Œ <code>setContextClassLoader(ClassLoader cl)</code>  æ–¹æ³•æ¥è·å–å’Œè®¾ç½®çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ã€‚</li>\n<li>å¦‚æœæ²¡æœ‰æ‰‹åŠ¨è®¾ç½®ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ï¼Œçº¿ç¨‹å°†ç»§æ‰¿å…¶çˆ¶çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ï¼Œåˆå§‹çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨æ˜¯<a href=\"#%E7%B3%BB%E7%BB%9Fsystem%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%BA%94%E7%94%A8app%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8\">åº”ç”¨ç±»åŠ è½½å™¨</a> ( <code>AppClassLoader</code> )ï¼Œåœ¨çº¿ç¨‹ä¸­è¿è¡Œçš„ä»£ç å¯ä»¥é€šè¿‡æ­¤ç±»åŠ è½½å™¨æ¥åŠ è½½ç±»å’Œèµ„æºï¼Œä»¥ <code>jdbc.jar</code>  åŠ è½½ä¸ºä¾‹ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚<br />\n<img data-src=\"https://z1.ax1x.com/2023/12/04/piyBG24.png\" alt=\"piyBG24.png\" /></li>\n<li>ä»å›¾ä¸­å¯ä»¥çœ‹å‡º <code>rt.jar</code>  æ ¸å¿ƒåŒ…æ˜¯ç”± <code>Bootstrap</code>  ç±»åŠ è½½å™¨åŠ è½½çš„ï¼Œå…¶å†…åŒ…å« <code>SPI</code>  æ ¸å¿ƒæ¥å£ç±»ï¼Œç”±äº <code>SPI</code>  ä¸­çš„ç±»ç»å¸¸éœ€è¦è°ƒç”¨å¤–éƒ¨å®ç°ç±»çš„æ–¹æ³•ï¼Œè€Œ <code>jdbc.jar</code>  åŒ…å«å¤–éƒ¨å®ç°ç±» ( <code>jdbc.jar</code>  å­˜åœ¨äº <code>classpath</code>  è·¯å¾„ä¸‹) æ— æ³•é€šè¿‡ <code>Bootstrap</code>  ç±»åŠ è½½å™¨åŠ è½½ï¼Œå› æ­¤åªèƒ½å§”æ‰˜çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨æŠŠ <code>jdbc.jar</code>  ä¸­çš„å®ç°ç±»åŠ è½½åˆ°å†…å­˜ä»¥ä¾¿ <code>SPI</code>  ç›¸å…³ç±»ä½¿ç”¨ã€‚</li>\n<li>æ˜¾ç„¶è¿™ç§çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨çš„åŠ è½½æ–¹å¼ç ´åäº† <code>åŒäº²å§”æ´¾æ¨¡å¼</code> ï¼Œå®ƒåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æŠ›å¼ƒäº† <code>åŒäº²å§”æ´¾æ¨¡å¼</code> ï¼Œä½¿ç¨‹åºå¯ä»¥é€†å‘ä½¿ç”¨ç±»åŠ è½½å™¨ï¼Œå½“ç„¶è¿™ä¹Ÿä½¿å¾— <code>Java</code>  ç±»åŠ è½½å™¨å˜å¾—æ›´åŠ çµæ´»ã€‚</li>\n</ul>\n<blockquote>\n<p>æ¥ä¸‹æ¥çœ‹ <code>DriverManager</code>  ç±»çš„æºç ï¼Œ <code>DriverManager</code>  æ˜¯ <code>Java</code>  æ ¸å¿ƒ <code>rt.jar</code>  åŒ…ä¸­çš„ç±»ï¼Œè¯¥ç±»ç”¨æ¥ç®¡ç†ä¸åŒæ•°æ®åº“çš„å®ç°é©±åŠ¨ (å³ <code>Driver</code> )ï¼Œå®ƒä»¬éƒ½å®ç°äº† <code>Java</code>  æ ¸å¿ƒåŒ…ä¸­çš„ <code>java.sql.Driver</code>  æ¥å£ï¼Œå¦‚ï¼š <code>mysql</code>  é©±åŠ¨åŒ…ä¸­çš„ <code>com.mysql.jdbc.Driver</code> ï¼Œåœ¨è¿™é‡Œåªè¦çœ‹çœ‹å¦‚ä½•åŠ è½½å¤–éƒ¨å®ç°ç±»ï¼Œåœ¨ <code>DriverManager</code>  åˆå§‹åŒ–æ—¶å°†ä¼šæ‰§è¡Œå¦‚ä¸‹ä»£ç ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DriverManager.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UvamF2YXNlOHUyMTEtbGF0ZXItYXJjaGl2ZS1kb3dubG9hZHMuaHRtbA==\">å‚è€ƒJAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>sql</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DriverManager</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     * Load the initial JDBC drivers by checking the System property</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>     * jdbc.properties and then use the &#123;@code ServiceLoader&#125; mechanism</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">// æ‰§è¡Œè¯¥æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token function\">loadInitialDrivers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"JDBC DriverManager initialized\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">//loadInitialDrivers æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">loadInitialDrivers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">String</span> drivers<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            drivers <span class=\"token operator\">=</span> <span class=\"token class-name\">AccessController</span><span class=\"token punctuation\">.</span><span class=\"token function\">doPrivileged</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">PrivilegedAction</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>                    <span class=\"token keyword\">return</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"jdbc.drivers\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> ex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            drivers <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token comment\">// If the driver is packaged as a Service Provider, load it.</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token comment\">// Get all the drivers through the classloader</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">// exposed as a java.sql.Driver.class service.</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token comment\">// ServiceLoader.load() replaces the sun.misc.Providers()</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token class-name\">AccessController</span><span class=\"token punctuation\">.</span><span class=\"token function\">doPrivileged</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">PrivilegedAction</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Void</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token class-name\">Void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>                <span class=\"token comment\">// åŠ è½½å¤–éƒ¨çš„ Driver çš„å®ç°ç±»</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>                <span class=\"token class-name\">ServiceLoader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Driver</span><span class=\"token punctuation\">></span></span> loadedDrivers <span class=\"token operator\">=</span> <span class=\"token class-name\">ServiceLoader</span><span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Driver</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>                <span class=\"token class-name\">Iterator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Driver</span><span class=\"token punctuation\">></span></span> driversIterator <span class=\"token operator\">=</span> loadedDrivers<span class=\"token punctuation\">.</span><span class=\"token function\">iterator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>                <span class=\"token comment\">/* Load these drivers, so that they can be instantiated.</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>                 * It may be the case that the driver class may not be there</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>                 * i.e. there may be a packaged driver with the service class</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>                 * as implementation of java.sql.Driver but the actual class</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>                 * may be missing. In that case a java.util.ServiceConfigurationError</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>                 * will be thrown at runtime by the VM trying to locate</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>                 * and load the service.</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>                 *</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>                 * Adding a try catch block to catch those runtime errors</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>                 * if driver not available in classpath but it's</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>                 * packaged as service and that service is there in classpath.</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>                 */</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>                <span class=\"token keyword\">try</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>                    <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>driversIterator<span class=\"token punctuation\">.</span><span class=\"token function\">hasNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>                        driversIterator<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>                    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Throwable</span> t<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>                <span class=\"token comment\">// Do nothing</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>                <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DriverManager.initialize: jdbc.drivers = \"</span> <span class=\"token operator\">+</span> drivers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>drivers <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> drivers<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> driversList <span class=\"token operator\">=</span> drivers<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"number of Drivers:\"</span> <span class=\"token operator\">+</span> driversList<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> aDriver <span class=\"token operator\">:</span> driversList<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>                <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DriverManager.Initialize: loading \"</span> <span class=\"token operator\">+</span> aDriver<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>                <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span>aDriver<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>                        <span class=\"token class-name\">ClassLoader</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSystemClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> ex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>                <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DriverManager.Initialize: load failed: \"</span> <span class=\"token operator\">+</span> ex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åœ¨ <code>DriverManager</code>  ç±»åˆå§‹åŒ–æ‰§è¡Œäº† <code>loadInitialDrivers()</code>  æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­é€šè¿‡ <code>ServiceLoader.load(Diver.class)</code>  å»åŠ è½½å¤–éƒ¨å®ç°çš„é©±åŠ¨ç±»ï¼Œ <code>ServiceLoader</code>  ç±»ä¼šå»è¯»å– <code>mysql</code>  çš„ <code>jdbc.jar</code>  ä¸‹çš„ <code>META-INF</code>  æ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<p><img data-src=\"https://z1.ax1x.com/2023/12/04/pi6mUXj.png\" alt=\"pi6mUXj.png\" /></p>\n<blockquote>\n<p>è€Œ <code>com.mysql.jdbc.Driver</code>  ç»§æ‰¿ç±»å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Driver.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UvamF2YXNlOHUyMTEtbGF0ZXItYXJjaGl2ZS1kb3dubG9hZHMuaHRtbA==\">å‚è€ƒJAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>mysql<span class=\"token punctuation\">.</span>jdbc</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SQLException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Driver</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>mysql<span class=\"token punctuation\">.</span>cj<span class=\"token punctuation\">.</span>jdbc<span class=\"token punctuation\">.</span></span>Driver</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Driver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">SQLException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä»æ³¨é‡Šä¸­å¯ä»¥çœ‹å‡ºå¹³å¸¸æˆ‘ä»¬ä½¿ç”¨ <code>com.mysql.jdbc.Driver</code>  å·²ç»è¢«ä¸¢å¼ƒäº†ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ <code>com.mysql.cj.jdbc.Driver</code> ï¼Œä¹Ÿå°±æ˜¯è¯´å®˜æ–¹ä¸å†å»ºè®®æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹ä»£ç æ³¨å†Œ <code>mysql</code>  é©±åŠ¨ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>RegisterDriver.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Connection</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SQLException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Description: æ³¨å†Œ MySQL é©±åŠ¨</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @DateTime: 2023-12-04 21:58</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RegisterDriver</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Connection</span> <span class=\"token function\">registerMysql</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">SQLException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ClassNotFoundException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">// ä¸å»ºè®®ä½¿ç”¨è¯¥æ–¹å¼æ³¨å†Œé©±åŠ¨ç±»</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"com.mysql.jdbc.Driver\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token class-name\">String</span> url <span class=\"token operator\">=</span> <span class=\"token string\">\"jdbc:mysql://localhost:3306/cckfs?characterEncoding=UTF-8\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token comment\">// é€šè¿‡ java åº“è·å–æ•°æ®åº“è¿æ¥</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token class-name\">Connection</span> conn <span class=\"token operator\">=</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span></span>DriverManager</span><span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> <span class=\"token string\">\"root\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"123456\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">return</span> conn<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è€Œæ˜¯å»æ‰æ³¨å†Œæ­¥éª¤ï¼Œå¦‚ä¸‹å³å¯ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>RegisterDriver.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9kb3dubG9hZHMvYXJjaGl2ZS8=\">ç‰ˆæœ¬è¯·é€‰æ‹©JAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Connection</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SQLException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Description: æ³¨å†Œ MySQL é©±åŠ¨</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @DateTime: 2023-12-04 21:58</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RegisterDriver</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Connection</span> <span class=\"token function\">registerMysql</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">SQLException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ClassNotFoundException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">// ä¸å»ºè®®ä½¿ç”¨è¯¥æ–¹å¼æ³¨å†Œé©±åŠ¨ç±»</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token class-name\">String</span> url <span class=\"token operator\">=</span> <span class=\"token string\">\"jdbc:mysql://localhost:3306/cckfs?characterEncoding=UTF-8\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">// é€šè¿‡ java åº“è·å–æ•°æ®åº“è¿æ¥</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token class-name\">Connection</span> conn <span class=\"token operator\">=</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span></span>DriverManager</span><span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> <span class=\"token string\">\"root\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"123456\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">return</span> conn<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è¿™æ · <code>ServiceLoader</code>  å°±ä¼šå¸®åŠ©æˆ‘ä»¬å¤„ç†ä¸€åˆ‡ï¼Œå¹¶æœ€ç»ˆé€šè¿‡ <code>load()</code>  æ–¹æ³•åŠ è½½ï¼Œæ¥çœ‹çœ‹å…·ä½“æ–¹æ³•å®ç°ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ServiceLoader.java</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UvamF2YXNlOHUyMTEtbGF0ZXItYXJjaGl2ZS1kb3dubG9hZHMuaHRtbA==\">å‚è€ƒJAVA 8</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ServiceLoader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">S</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Iterable</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">S</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">S</span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">ServiceLoader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">S</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">S</span><span class=\"token punctuation\">></span></span> service<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨æ¥åŠ è½½</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token class-name\">ClassLoader</span> cl <span class=\"token operator\">=</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getContextClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token class-name\">ServiceLoader</span><span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span>service<span class=\"token punctuation\">,</span> cl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>å¾ˆæ˜¾ç„¶ç¡®å®æ˜¯é€šè¿‡çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨åŠ è½½çš„ï¼Œå®é™…ä¸Šæ ¸å¿ƒåŒ…çš„ <code>SPI</code>  ç±»å¯¹å¤–éƒ¨å®ç°ç±»çš„åŠ è½½éƒ½æ˜¯çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨æ‰§è¡Œçš„ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å®ç°äº† <code>Java</code>  æ ¸å¿ƒä»£ç å†…éƒ¨å»è°ƒç”¨å¤–éƒ¨å®ç°ç±»ã€‚</li>\n<li>æˆ‘ä»¬çŸ¥é“çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨é»˜è®¤æƒ…å†µä¸‹å°±æ˜¯ <code>AppClassLoader</code> ï¼Œé‚£ä¸ºä»€ä¹ˆä¸ç›´æ¥é€šè¿‡ <code>getSystemClassLoader()</code>  æ–¹æ³•è·å–ç±»åŠ è½½å™¨æ¥åŠ è½½ <code>classpath</code>  è·¯å¾„ä¸‹çš„ç±»å‘¢ï¼Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†è¿™ç§ç›´æ¥ä½¿ç”¨ <code>getSystemClassLoader()</code>  æ–¹æ³•è·å– <code>AppClassLoader</code>  åŠ è½½ç±»ä¼šæœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œé‚£å°±æ˜¯ä»£ç éƒ¨ç½²åˆ°ä¸åŒæœåŠ¡å™¨ä¸Šæ—¶ä¼šå‡ºç°é—®é¢˜ã€‚</li>\n<li>å¦‚æœä»£ç éƒ¨ç½²åˆ° <code>Java Web</code>  åº”ç”¨æœåŠ¡æˆ–è€… <code>EJB</code>  ä¹‹ç±»çš„æœåŠ¡å°†ä¼šå‡ºç°é—®é¢˜ï¼Œä»¥ä¸ºè¿™äº›æœåŠ¡å™¨ä½¿ç”¨çš„çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨å¹¶é <code>AppClassLoader</code> ï¼Œè€Œæ˜¯ <code>Java Web</code>  åº”ç”¨æœåŠ¡å™¨è‡ªå®¶çš„ç±»åŠ è½½å™¨ï¼Œç±»åŠ è½½å™¨ä¸åŒï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥å°‘ç”¨ <code>getSystemClassLoader()</code> ã€‚</li>\n<li>æ€»ä¹‹ä¸åŒæœåŠ¡ä½¿ç”¨çš„å¯èƒ½é»˜è®¤ <code>ClassLoader</code>  æ˜¯ä¸åŒçš„ï¼Œä½†ä½¿ç”¨çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨æ€»èƒ½è·å–åˆ°å½“å‰ç¨‹åºæ‰§è¡Œç›¸åŒçš„ <code>ClassLoader</code> ï¼Œä»è€Œé¿å…ä¸å¿…è¦çš„é—®é¢˜ã€‚</li>\n</ul>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaæ·±å…¥ç†è§£",
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaé«˜çº§ç‰¹æ€§",
                "Javaç±»åŠ è½½å™¨"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E5%9F%BA%E7%A1%80/Java%E5%85%AB%E7%A7%8D%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E5%9F%BA%E7%A1%80/Java%E5%85%AB%E7%A7%8D%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/",
            "title": "Javaå…«ç§åŸºæœ¬æ•°æ®ç±»å‹",
            "date_published": "2023-11-14T15:55:00.000Z",
            "content_html": "<h1 id=\"javaå…«ç§æ•°æ®ç±»å‹\"><a class=\"anchor\" href=\"#javaå…«ç§æ•°æ®ç±»å‹\">#</a> Java å…«ç§æ•°æ®ç±»å‹</h1>\n<blockquote>\n<p>ç§‘æ™®ä¸€ä¸‹ï¼š1 ä¸ªå­—èŠ‚ = 8 ä½ ç³»ç»Ÿé»˜è®¤ä½¿ç”¨å­—èŠ‚è¡¨ç¤ºå ç”¨ã€‚</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">æ•°æ®ç±»å‹</th>\n<th style=\"text-align:center\">å­—èŠ‚å ç”¨</th>\n<th style=\"text-align:center\">ä½æ•°</th>\n<th style=\"text-align:center\">é»˜è®¤å€¼</th>\n<th style=\"text-align:center\">å–å€¼èŒƒå›´</th>\n<th style=\"text-align:center\">ä¸¾ä¾‹è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">byte (ä½)</td>\n<td style=\"text-align:center\">1 (å­—èŠ‚)</td>\n<td style=\"text-align:center\">8 (ä½)</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">-128 ~ 127</td>\n<td style=\"text-align:center\">byte b = 10</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">short (çŸ­æ•´æ•°)</td>\n<td style=\"text-align:center\">2 (å­—èŠ‚)</td>\n<td style=\"text-align:center\">16 (ä½)</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">-32768 ~ 32767</td>\n<td style=\"text-align:center\">short s = 10</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">int (æ•´æ•°)</td>\n<td style=\"text-align:center\">4 (å­—èŠ‚)</td>\n<td style=\"text-align:center\">32 (ä½)</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">-2^31 ~ 2^31-1</td>\n<td style=\"text-align:center\">int i = 10</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">long (é•¿æ•´æ•°)</td>\n<td style=\"text-align:center\">8 (å­—èŠ‚)</td>\n<td style=\"text-align:center\">64 (ä½)</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">-2^63 ~ 2^63-1</td>\n<td style=\"text-align:center\">long l = 10l</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">float (å•ç²¾åº¦)</td>\n<td style=\"text-align:center\">4 (å­—èŠ‚)</td>\n<td style=\"text-align:center\">32 (ä½)</td>\n<td style=\"text-align:center\">0.0</td>\n<td style=\"text-align:center\">-3.4<em>10^38 ~ 3.4</em>10^38</td>\n<td style=\"text-align:center\">float f = 10.0f</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">double (åŒç²¾åº¦)</td>\n<td style=\"text-align:center\">8 (å­—èŠ‚)</td>\n<td style=\"text-align:center\">64 (ä½)</td>\n<td style=\"text-align:center\">0.0</td>\n<td style=\"text-align:center\">-1.79<em>10^308 ~ 1.79</em>10^308</td>\n<td style=\"text-align:center\">double d = 10.0d</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">char (å­—ç¬¦)</td>\n<td style=\"text-align:center\">2 (å­—èŠ‚)</td>\n<td style=\"text-align:center\">16 (ä½)</td>\n<td style=\"text-align:center\">ç©º</td>\n<td style=\"text-align:center\">0 ~ 65535</td>\n<td style=\"text-align:center\">char c = &quot;c&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">boolean (å¸ƒå°”)</td>\n<td style=\"text-align:center\">1 (å­—èŠ‚)</td>\n<td style=\"text-align:center\">8 (ä½)</td>\n<td style=\"text-align:center\">false</td>\n<td style=\"text-align:center\">trueã€false</td>\n<td style=\"text-align:center\">boolean b = true</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"javaæ•°æ®ç±»å‹åˆ†ç±»\"><a class=\"anchor\" href=\"#javaæ•°æ®ç±»å‹åˆ†ç±»\">#</a> Java æ•°æ®ç±»å‹åˆ†ç±»</h1>\n<blockquote>\n<p>Java ä¸­çš„æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤å¤§ç±»ï¼šåŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹</p>\n</blockquote>\n<p><a href=\"https://imgse.com/i/piYKWbd\"><img data-src=\"https://z1.ax1x.com/2023/11/15/piYKWbd.jpg\" alt=\"piYKWbd.jpg\" /></a></p>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "JavaåŸºç¡€",
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "JavaåŸºç¡€",
                "æ•°æ®ç±»å‹"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "title": "Javaç±»å‹ä¸åå°„æœºåˆ¶æ·±å…¥ç†è§£",
            "date_published": "2023-11-11T16:06:34.000Z",
            "content_html": "<blockquote>\n<p>æœ¬ç¯‡æ·±å…¥åˆ†æå¹¶ç†è§£ Java <code>Class</code>  å¯¹è±¡ï¼Œè¿™å¯¹åç»­æ·±å…¥ç†è§£åå°„æŠ€æœ¯éå¸¸é‡è¦ã€‚<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRlZS5jb20vUmFpblNhdWNlL2phdmEtdHlwZS1pbmZvcm1hdGlvbi1kZW1v\">ğŸš€æœ¬ç¯‡ç« ä»£ç  Demo</span></p>\n</blockquote>\n<h1 id=\"classå¯¹è±¡æ·±å…¥ç†è§£\"><a class=\"anchor\" href=\"#classå¯¹è±¡æ·±å…¥ç†è§£\">#</a> Class å¯¹è±¡æ·±å…¥ç†è§£</h1>\n<h2 id=\"rttiæ¦‚å¿µä»¥åŠclasså¯¹è±¡ä½œç”¨\"><a class=\"anchor\" href=\"#rttiæ¦‚å¿µä»¥åŠclasså¯¹è±¡ä½œç”¨\">#</a> RTTI æ¦‚å¿µä»¥åŠ Class å¯¹è±¡ä½œç”¨</h2>\n<ul>\n<li>æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ <code>RTTI</code>  æ¦‚å¿µï¼Œ <code>RTTI</code>  å…¨ç§°æ˜¯ <code>Run-Time Type Identification</code>  æ˜¯æŒ‡è¿è¡Œæ—¶ç±»å‹è¯†åˆ«ã€‚</li>\n<li>å¯¹äºè¿™ä¸ªè¯ä¸€ç›´æ˜¯ <code>C++</code>  ä¸­çš„æ¦‚å¿µï¼Œè‡³äºä¼šåœ¨ <code>Java</code>  ä¸­å‡ºç° <code>RTTI</code>  çš„è¯´æ³•æ¥æºäº <code>ã€ŠThinking in Javaã€‹</code> ä¸€ä¹¦ä¸­ã€‚</li>\n<li>å…¶ä½œç”¨å°±æ˜¯åœ¨è¿è¡Œæ—¶è¯†åˆ«ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹å’Œç±»çš„ä¿¡æ¯ï¼Œè¿™é‡Œåˆ†ä¸ºä¸¤ç§ï¼š\n<ul>\n<li>ç¬¬ä¸€ç§ï¼šä¼ ç»Ÿçš„ <code>RTTI</code>  å®ƒå‡è®¾æˆ‘ä»¬åœ¨ç¼–è¯‘æœŸå·²çŸ¥é“äº†æ‰€æœ‰ç±»å‹ (åœ¨æ²¡æœ‰åå°„æœºåˆ¶åˆ›å»ºå’Œä½¿ç”¨ç±»å¯¹è±¡æ—¶ï¼Œä¸€èˆ¬éƒ½æ˜¯ç¼–è¯‘æœŸç¡®å®šå…¶ç±»å‹çš„ï¼Œå¦‚ <code>new</code>  å¯¹è±¡æ—¶è¯¥ç±»å¿…é¡»å·²ç»å®šä¹‰å¥½)ã€‚</li>\n<li>ç¬¬äºŒç§ï¼šå¦å¤–ä¸€ç§æ˜¯åå°„æœºåˆ¶ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨è¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»å‹ä¿¡æ¯ï¼Œåœ¨ Java ä¸­ç”¨æ¥è¡¨ç¤ºè¿è¡Œæ—¶ç±»å‹ä¿¡æ¯çš„å¯¹åº”ç±»å°±æ˜¯ <code>Class</code>  ç±»ï¼Œ <code>Class</code>  ç±»ä¹Ÿæ˜¯ä¸€ä¸ªå®å®åœ¨åœ¨çš„ç±»ï¼Œå®ƒå­˜åœ¨äº <code>JDK</code>  ä¸­çš„ <code>java.lang</code>  åŒ…ä¸‹ã€‚</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Class.java | Classéƒ¨åˆ†æºç </span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">GenericDeclaration</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Type</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">AnnotatedElement</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">TypeDescriptor<span class=\"token punctuation\">.</span>OfField</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Class</span><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Constable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> ANNOTATION <span class=\"token operator\">=</span> <span class=\"token number\">0x00002000</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> ENUM <span class=\"token operator\">=</span> <span class=\"token number\">0x00004000</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> SYNTHETIC <span class=\"token operator\">=</span> <span class=\"token number\">0x00001000</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">native</span> <span class=\"token keyword\">void</span> <span class=\"token function\">registerNatives</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token function\">registerNatives</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     * Private constructor. Only the Java Virtual Machine creates Class objects.</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     * This constructor is not used and prevents the default constructor being</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     * generated.</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Class</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassLoader</span> loader<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> arrayComponentType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">// Initialize final field for classLoader.  The initialization value of non-null</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">// prevents future JIT optimizations from assuming this final field is null.</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        classLoader <span class=\"token operator\">=</span> loader<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        componentType <span class=\"token operator\">=</span> arrayComponentType<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li><code>Class</code>  ç±»è¢«åˆ›å»ºåå¯¹è±¡å°±æ˜¯ <code>Class</code>  å¯¹è±¡ï¼Œæ³¨æ„ï¼š <code>Class</code>  å¯¹è±¡è¡¨ç¤ºçš„æ˜¯è‡ªå·±æ‰‹åŠ¨ç¼–å†™çš„ç±»çš„ç±»å‹ä¿¡æ¯ã€‚</li>\n<li>æ¯”å¦‚åˆ›å»ºä¸€ä¸ª <code>Student</code>  ç±»é‚£ä¹ˆ <code>JVM</code>  å°±ä¼šåˆ›å»ºä¸€ä¸ª <code>Student</code>  å¯¹åº”çš„ <code>Class</code>  ç±»çš„ç±»å¯¹è±¡ï¼Œè¯¥ <code>Class</code>  å¯¹è±¡ä¿å­˜äº† <code>Student</code>  ç±»ç›¸å…³çš„ç±»å‹ä¿¡æ¯ã€‚</li>\n<li>å®é™…ä¸Šåœ¨ <code>Java</code>  ä¸­æ¯ä¸ªç±»éƒ½æœ‰ä¸€ä¸ª <code>Class</code>  å¯¹è±¡ï¼Œå½“æˆ‘ä»¬ç¼–å†™å¹¶ç¼–è¯‘ä¸€ä¸ªæ–°åˆ›å»ºçš„ç±»æ—¶å°±ä¼šäº§ç”Ÿä¸€ä¸ªå¯¹åº”çš„ <code>Class</code>  å¯¹è±¡å¹¶ä¸”è¿™ä¸ª <code>Class</code>  å¯¹è±¡ä¼šè¢«ä¿å­˜åœ¨åŒåçš„ <code>.class</code>  æ–‡ä»¶é‡Œã€‚</li>\n<li>ç¼–è¯‘åçš„å­—èŠ‚ç æ–‡ä»¶ä¿å­˜çš„å°±æ˜¯ <code>Class</code>  å¯¹è±¡ä¿¡æ¯ï¼Œä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªè¿™æ ·çš„ <code>Class</code>  å¯¹è±¡å‘¢ï¼Ÿ</li>\n<li>æ¯å½“æˆ‘ä»¬ <code>new</code>  ä¸€ä¸ªæ–°å¯¹è±¡æˆ–è€…å¼•ç”¨é™æ€æˆå‘˜å˜é‡æ—¶ï¼Œ <code>Java</code>  è™šæ‹Ÿæœºä¹Ÿå°±æ˜¯ <code>JVM</code>  ä¸­çš„ç±»åŠ è½½å™¨å­ç³»ç»Ÿä¼šå°†å¯¹åº”çš„ <code>Class</code>  å¯¹è±¡åŠ è½½åˆ° <code>JVM</code>  ä¸­ï¼Œç„¶å <code>JVM</code>  ä¼šå†æ ¹æ®è¿™ä¸ªç±»å‹ä¿¡æ¯ç›¸å…³çš„ <code>Class</code>  å¯¹è±¡åˆ›å»ºæˆ‘ä»¬éœ€è¦çš„å¯¹è±¡å®ä¾‹æˆ–è€…æä¾›é™æ€å˜é‡çš„å¼•ç”¨å€¼ã€‚</li>\n<li>ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯æ‰‹åŠ¨ç¼–å†™çš„æ¯ä¸ª <code>class</code>  ç±»æ— è®ºåˆ›å»ºå¤šå°‘ä¸ªå®ä¾‹å¯¹è±¡ï¼Œåœ¨ <code>JVM</code>  ä¸­éƒ½åªæœ‰ä¸€ä¸ª <code>Class</code>  å¯¹è±¡ï¼Œå³åœ¨å†…å­˜ä¸­æ¯ä¸ªç±»æœ‰ä¸”åªæœ‰ä¸€ä¸ªç›¸å¯¹åº”çš„ <code>Class</code>  å¯¹è±¡ã€‚<br />\n<img data-src=\"https://z1.ax1x.com/2023/11/12/piGnYa6.jpg\" alt=\"piGnYa6.jpg\" /></li>\n<li>æˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹å‡ ç‚¹ä¿¡æ¯ï¼š\n<ul>\n<li><code>Class</code>  ç±»ä¹Ÿæ˜¯ç±»çš„ä¸€ç§ä¸ <code>class</code>  å…³é”®å­—æ˜¯ä¸ä¸€æ ·çš„ã€‚</li>\n<li>æ‰‹åŠ¨ç¼–å†™çš„ç±»ç¼–è¯‘åå°†ä¼šäº§ç”Ÿä¸€ä¸ª <code>Class</code>  å¯¹è±¡ï¼Œè¡¨ç¤ºçš„æ˜¯åˆ›å»ºçš„ç±»çš„ç±»å‹ä¿¡æ¯ï¼Œä¸”è¿™ä¸ª <code>Class</code>  å¯¹è±¡ä¿å­˜åœ¨åŒåçš„ <code>.class</code>  æ–‡ä»¶ä¸­ä¹Ÿå°±æ˜¯å­—èŠ‚ç æ–‡ä»¶ã€‚</li>\n<li>é€šè¿‡å…³é”®å­— <code>class</code>  æ ‡è¯†çš„ç±»ï¼Œåœ¨å†…å­˜ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„ <code>Class</code>  å¯¹è±¡æ¥æè¿°å…¶ç±»å‹ä¿¡æ¯ï¼Œæ— è®ºåˆ›å»ºå¤šå°‘å®ä¾‹å¯¹è±¡å…¶å†…éƒ¨æŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ª <code>Class</code>  å¯¹è±¡ã€‚</li>\n<li><code>Class</code>  ç±»åªå­˜ç§æœ‰æ„é€ å‡½æ•°ï¼Œå› æ­¤å¯¹åº” <code>Class</code>  å¯¹è±¡åªèƒ½ç”± <code>JVM</code>  åˆ›å»ºå’ŒåŠ è½½ã€‚</li>\n<li><code>Class</code>  ç±»çš„å¯¹è±¡ä½œç”¨æ˜¯è¿è¡Œæ—¶æä¾›è·å¾—æŸä¸ªå¯¹è±¡çš„ç±»å‹ä¿¡æ¯ï¼Œè¿™ç‚¹å¯¹äºåå°„æŠ€æœ¯æ˜¯å¾ˆé‡è¦çš„ã€‚</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"classå¯¹è±¡çš„åŠ è½½å’Œè·å–æ–¹å¼\"><a class=\"anchor\" href=\"#classå¯¹è±¡çš„åŠ è½½å’Œè·å–æ–¹å¼\">#</a> Class å¯¹è±¡çš„åŠ è½½å’Œè·å–æ–¹å¼</h1>\n<h2 id=\"classå¯¹è±¡çš„åŠ è½½\"><a class=\"anchor\" href=\"#classå¯¹è±¡çš„åŠ è½½\">#</a> Class å¯¹è±¡çš„åŠ è½½</h2>\n<ul>\n<li><code>Class</code>  å¯¹è±¡æ˜¯ç”± <code>JVM</code>  æ¥åŠ è½½çš„ï¼Œé‚£ä¹ˆå…¶åŠ è½½çš„æ—¶æœºæ˜¯ä»€ä¹ˆæ—¶å€™å‘¢ï¼Ÿå®é™…ä¸Šæ‰€æœ‰çš„ç±»éƒ½æ˜¯åœ¨å¯¹å…¶ç¬¬ä¸€æ¬¡ä½¿ç”¨åŠ¨æ€åŠ è½½åˆ° <code>JVM</code>  çš„ã€‚</li>\n<li>å½“ç¨‹åºåˆ›å»ºç¬¬ä¸€ä¸ªå¯¹ç±»çš„é™æ€æˆå‘˜å¼•ç”¨æ—¶å°±ä¼šåŠ è½½è¿™ä¸ªè¢«ä½¿ç”¨çš„ç±»ï¼Œå®é™…ä¸ŠåŠ è½½çš„å°±æ˜¯è¿™ä¸ªç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼Œæ³¨æ„ï¼šä½¿ç”¨ <code>new</code>  æ“ä½œç¬¦åˆ›å»ºçš„ç±»çš„æ–°å®ä¾‹å¯¹è±¡ä¹Ÿä¼šè¢«å½“ä½œå¯¹ç±»çš„é™æ€æˆå‘˜çš„å¼•ç”¨ (æ„é€ å‡½æ•°ä¹Ÿæ˜¯ç±»çš„é™æ€æ–¹æ³•)ã€‚</li>\n<li>ç”±æ­¤çœ‹æ¥ <code>Java</code>  ç¨‹åºåœ¨å®ƒä»¬å¼€å§‹è¿è¡Œä¹‹å‰å¹¶éè¢«å®Œå…¨åŠ è½½åˆ°å†…å­˜çš„ï¼Œå…¶å„ä¸ªéƒ¨åˆ†æ˜¯æŒ‰éœ€åŠ è½½çš„ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨è¯¥ç±»æ—¶ç±»åŠ è½½å™¨é¦–å…ˆä¼šæ£€æŸ¥è¿™ä¸ªç±»çš„ <code>Class</code>  å¯¹è±¡æ˜¯å¦å·²ç»è¢«åŠ è½½ (ç±»çš„å®ä¾‹å¯¹è±¡åˆ›å»ºæ—¶ä¾æ® <code>Class</code>  å¯¹è±¡ä¸­ç±»å‹ä¿¡æ¯å®Œæˆçš„)ã€‚</li>\n<li>å¦‚æœè¿˜æ²¡æœ‰åŠ è½½ï¼Œé»˜è®¤çš„ç±»åŠ è½½å™¨å°±ä¼šå…ˆæ ¹æ®ç±»åæŸ¥æ‰¾ <code>.class</code>  æ–‡ä»¶ï¼Œç¼–è¯‘å <code>Class</code>  å¯¹è±¡è¢«ä¿å­˜åœ¨åŒåçš„ <code>.class</code>  æ–‡ä»¶ä¸­ï¼Œåœ¨è¿™ä¸ªç±»çš„å­—èŠ‚ç æ–‡ä»¶è¢«åŠ è½½æ—¶ï¼Œå¿…é¡»æ¥å—ç›¸å…³éªŒè¯ï¼Œç¡®ä¿å…¶æ²¡æœ‰è¢«ç ´åä¸”ä¸åŒ…å«ä¸è‰¯ <code>Java</code>  ä»£ç ã€‚</li>\n<li>è¿™å°±æ˜¯ <code>Java</code>  çš„å®‰å…¨æœºåˆ¶æ£€æµ‹ï¼Œåœ¨æ£€æµ‹å®Œåå®Œå…¨æ²¡æœ‰é—®é¢˜æ‰ä¼šè¢«åŠ¨æ€åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œæ­¤æ—¶ç›¸å½“äº <code>Class</code>  å¯¹è±¡ä¹Ÿå°±è¢«è½½å…¥åˆ°äº†å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå°±å¯ä»¥è¢«ç”¨æ¥åˆ›å»ºè¿™ä¸ªç±»çš„æ‰€æœ‰å®ä¾‹å¯¹è±¡äº†ã€‚</li>\n</ul>\n<blockquote>\n<p><code>Class</code>  å¯¹è±¡è¢«åŠ è½½çš„æ—¶æœºé—®é¢˜ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SweetShop.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Candy</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading Candy\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Gum</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading Gum\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Cookie</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading Cookie\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"24\"></td><td><pre> * @Description: ç±»åŠ è½½æ—¶æœºä»£ç ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"25\"></td><td><pre> * @DateTime: 2023-11-12 21:22</pre></td></tr><tr><td data-num=\"26\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"27\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SweetShop</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"inside main\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token keyword\">new</span> <span class=\"token class-name\">Candy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"After creating Candy\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Gum</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassNotFoundException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Couldn't find Gum\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"After Class.forName(\\\"top.rem.rain.demo.Gum\\\")\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token keyword\">new</span> <span class=\"token class-name\">Cookie</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"After creating Cookie\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    ç»“æœå¦‚ä¸‹ï¼š</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    inside main</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    Loading Candy</pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    After creating Candy</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    Loading Gum</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    After Class.forName (\"top.rem.rain.demo.Gum\")</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    Loading Cookie</pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    After creating Cookie</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>ä¸Šè¿°ä»£ç ä¸­ <code>Candy</code> ã€ <code>Gum</code> ã€ <code>Cookie</code>  æ¯ä¸ªç±»ä¸­éƒ½å­˜åœ¨ä¸€ä¸ª <code>static</code>  è¯­å¥ï¼Œè¿™ä¸ªè¯­å¥ä¼šåœ¨ç±»ç¬¬ä¸€æ¬¡è¢«åŠ è½½æ—¶æ‰§è¡Œï¼Œ <code>static</code>  çš„ä½œç”¨å°±æ˜¯å‘Šè¯‰æˆ‘ä»¬è¯¥ç±»åœ¨ä»€ä¹ˆæ—¶å€™è¢«åŠ è½½ã€‚</li>\n<li>ä»ç»“æœæ¥çœ‹ <code>new</code>  ä¸€ä¸ª <code>Candy</code>  å¯¹è±¡å’Œ <code>Cookie</code>  æ„é€ å‡½æ•°å°†ä¼šè¢«è°ƒç”¨ï¼Œå±äºé™æ€æ–¹æ³•çš„å¼•ç”¨ <code>Candy</code>  ç±»çš„ <code>Class</code>  å¯¹è±¡å’Œ <code>Cookie</code>  çš„ <code>Class</code>  å¯¹è±¡è‚¯å®šä¼šè¢«åŠ è½½ã€‚</li>\n<li>æœ‰æ„æ€çš„æ˜¯ <code>Class.forName(&quot;top.rem.rain.demo.Gum&quot;)</code>  å…¶ä¸­ <code>forName()</code>  æ–¹æ³•æ˜¯ <code>Class</code>  ç±»ä¸­çš„ä¸€ä¸ª <code>static</code>  æˆå‘˜æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ° <code>Gum</code>  ç±»å¯¹åº”çš„ <code>Class</code>  å¯¹è±¡å¼•ç”¨ã€‚</li>\n<li>ä»æ‰“å°ç»“æœä¸Šæ¥çœ‹è°ƒç”¨ <code>forName()</code>  æ–¹æ³•å°†ä¼šå¯¼è‡´ <code>Gum</code>  ç±»è¢«åŠ è½½ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ <code>Gum</code>  ç±»ä»æ¥æ²¡æœ‰è¢«åŠ è½½è¿‡ã€‚</li>\n</ul>\n<h2 id=\"classfornameæ–¹æ³•\"><a class=\"anchor\" href=\"#classfornameæ–¹æ³•\">#</a> Class.forName æ–¹æ³•</h2>\n<ul>\n<li>ä¸Šè¿°çš„æ¡ˆä¾‹æˆ‘ä»¬çŸ¥é“äº† <code>Class.forName()</code>  æ–¹æ³•çš„è°ƒç”¨å°†ä¼šè¿”å›ä¸€ä¸ªå¯¹åº”ç±»çš„ <code>Class</code>  å¯¹è±¡ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬æƒ³è·å–ä¸€ä¸ªç±»çš„è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯å¹¶åŠ ä»¥ä½¿ç”¨æ—¶ï¼Œå¯ä»¥è°ƒç”¨ <code>Classã€‚forName()</code>  æ–¹æ³•æ¥è·å– <code>Class</code>  å¯¹è±¡çš„å¼•ç”¨ã€‚</li>\n<li>è¿™æ ·åšçš„å¥½å¤„å°±æ˜¯æ— éœ€é€šè¿‡æŒæœ‰è¯¥ç±»çš„å®ä¾‹å¯¹è±¡å¼•ç”¨è€Œå»è·å– <code>Class</code>  å¯¹è±¡ï¼Œä¸‹é¢æ˜¯ç¬¬äºŒç§è·å–æ–¹å¼ï¼šé€šè¿‡ä¸€ä¸ªå®ä¾‹å¯¹è±¡è·å–ä¸€ä¸ªç±»çš„ <code>Class</code>  å¯¹è±¡ï¼Œå…¶ä¸­çš„ <code>getClass()</code>  æ˜¯ä»é¡¶çº§ç±» <code>Object</code>  ç»§æ‰¿è€Œæ¥çš„ï¼Œå®ƒå°†è¿”å›è¡¨ç¤ºè¯¥å¯¹è±¡çš„å®é™…ç±»å‹çš„ <code>Class</code>  å¯¹è±¡å¼•ç”¨ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>GetClassObject.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Gum2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading Gum2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Description: getClassObject: è·å–ç±»å¯¹è±¡</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @DateTime: 2023-11-12 21:52</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GetClassObject</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token comment\">// é€šè¿‡ Class.forName è·å– Gum2 ç±»çš„ Class å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token class-name\">Class</span> clazz <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Gum2</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"forName clazz:\"</span> <span class=\"token operator\">+</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassNotFoundException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡å®ä¾‹å¯¹è±¡è·å– Gum2 çš„ Class å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token class-name\">Gum2</span> gum <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Gum2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token class-name\">Class</span> cla <span class=\"token operator\">=</span> gum<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"new cla:\"</span> <span class=\"token operator\">+</span> cla<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æ³¨æ„åœ¨è°ƒç”¨ <code>forName</code>  æ–¹æ³•æ—¶éœ€è¦æ•è·ä¸€ä¸ª <code>ClassNotFoundException</code>  çš„å¼‚å¸¸ï¼Œå› ä¸º <code>forName</code>  æ–¹æ³•åœ¨ç¼–è¯‘å™¨æ˜¯æ— æ³•æ£€æµ‹åˆ°å…¶ä¼ é€’å­—ç¬¦ä¸²å¯¹åº”çš„ç±»æ˜¯å¦å­˜åœ¨çš„ï¼Œåªèƒ½åœ¨ç¨‹åºè¿è¡Œæ—¶è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœä¸å­˜åœ¨å°±ä¼šæŠ›å‡º <code>ClassNotFoundException</code>  å¼‚å¸¸ã€‚</p>\n</blockquote>\n<h2 id=\"classå­—é¢å¸¸é‡\"><a class=\"anchor\" href=\"#classå­—é¢å¸¸é‡\">#</a> Class å­—é¢å¸¸é‡</h2>\n<ul>\n<li>åœ¨ <code>Java</code>  ä¸­å¦ä¸€ç§è·å– <code>Class</code>  å¯¹è±¡çš„å¼•ç”¨é‚£å°±æ˜¯ <code>Class</code>  å­—é¢å¸¸é‡æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Gum.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å­—é¢å¸¸é‡çš„æ–¹å¼è·å– Class å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">Class</span> clazz<span class=\"token operator\">=</span><span class=\"token class-name\">Gum</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>è¿™ç§æ–¹å¼è·å–ç›¸å¯¹å‰é¢ä¸¤ç§æ–¹æ³•æ›´åŠ ç®€å•å’Œå®‰å…¨ï¼Œå› ä¸ºå®ƒåœ¨ç¼–è¯‘å™¨å°±ä¼šå—åˆ°ç¼–è¯‘å™¨çš„æ£€æŸ¥åŒæ—¶ç”±äºä¸éœ€è¦è°ƒç”¨ <code>forName</code>  æ–¹æ³•æ•ˆç‡ä¹Ÿä¼šæ›´é«˜ï¼Œå› ä¸ºé€šè¿‡å­—é¢é‡çš„æ–¹æ³•è·å– <code>Class</code>  å¯¹è±¡çš„å¼•ç”¨ä¸ä¼šè‡ªåŠ¨åˆå§‹åŒ–è¯¥ç±»ã€‚</li>\n<li>æœ‰è¶£çš„æ˜¯å­—é¢å¸¸é‡è·å–çš„ <code>Class</code>  å¯¹è±¡å¼•ç”¨æ–¹å¼ä¸ä»…å¯ä»¥åº”ç”¨äºæ™®é€šçš„ç±»è¿˜å¯ä»¥åº”ç”¨äºæ¥å£ã€æ•°ç»„ã€åŸºæœ¬æ•°æ®ç±»å‹ã€è¿™ç‚¹åœ¨åå°„æŠ€æœ¯åº”ç”¨ä¼ é€’å‚æ•°æ—¶å°±ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚</li>\n<li>ç”±äºåŸºæœ¬æ•°æ®ç±»å‹è¿˜æœ‰å¯¹åº”çš„åŸºæœ¬åŒ…è£…ç±»å‹ï¼Œå…¶åŒ…è£…ç±»å‹æœ‰ä¸€ä¸ªæ ‡å‡†çš„ <code>TYPE</code>  å­—æ®µè€Œè¿™ä¸ª <code>TYPE</code>  å°±æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼ŒæŒ‡å‘åŸºæœ¬æ•°æ®ç±»å‹çš„ <code>Class</code>  å¯¹è±¡ï¼Œå…¶ç­‰ä»·è½¬æ¢å¦‚ä¸‹ã€‚</li>\n<li>ä¸€èˆ¬æƒ…å†µä¸‹æ›´å€¾å‘ä½¿ç”¨ <code>.class</code>  çš„å½¢å¼ï¼Œè¿™æ ·å¯ä»¥ä¿æŒä¸æ™®é€šç±»çš„å½¢å¼ç»Ÿä¸€ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">boolean</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token operator\">=</span><span class=\"token class-name\">Boolean</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        <span class=\"token keyword\">char</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token operator\">=</span><span class=\"token class-name\">Character</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token keyword\">byte</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token operator\">=</span><span class=\"token class-name\">Byte</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">short</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token operator\">=</span><span class=\"token class-name\">Short</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token operator\">=</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">long</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token operator\">=</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">float</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token operator\">=</span><span class=\"token class-name\">Float</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">double</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token operator\">=</span><span class=\"token class-name\">Double</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">void</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token operator\">=</span><span class=\"token class-name\">Void</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"classå­—é¢å¸¸é‡ç±»åŠ è½½åˆ†æ\"><a class=\"anchor\" href=\"#classå­—é¢å¸¸é‡ç±»åŠ è½½åˆ†æ\">#</a> Class å­—é¢å¸¸é‡ç±»åŠ è½½åˆ†æ</h2>\n<ul>\n<li>ä½¿ç”¨å­—é¢å¸¸é‡çš„æ–¹å¼è·å– <code>Class</code>  å¯¹è±¡çš„å¼•ç”¨ä¸ä¼šè§¦å‘ç±»çš„åˆå§‹åŒ–ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç®€å•äº†è§£ä¸€ä¸‹å­—é¢å¸¸é‡ç±»åŠ è½½çš„è¿‡ç¨‹ï¼Œçœ‹ä¸‹å›¾ï¼š<br />\n<img data-src=\"https://z1.ax1x.com/2023/11/13/piGHWl9.jpg\" alt=\"piGHWl9.jpg\" /></li>\n<li><code>Loading(åŠ è½½)</code>  ç±»åŠ è½½è¿‡ç¨‹çš„ä¸€ä¸ªé˜¶æ®µæ˜¯é€šè¿‡ä¸€ä¸ªç±»çš„å®Œå…¨é™å®šåæŸ¥æ‰¾æ­¤ç±»å­—èŠ‚ç æ–‡ä»¶ï¼Œå¹¶åˆ©ç”¨å­—èŠ‚ç æ–‡ä»¶åˆ›å»ºä¸€ä¸ª <code>Class</code>  å¯¹è±¡ã€‚</li>\n<li><code>Linking(é“¾æ¥)</code>  éªŒè¯å­—èŠ‚ç çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§æ˜¯æœ‰å¿…è¦çš„ï¼Œå‡†å¤‡é˜¶æ®µæ­£å¼ä¸ºé™æ€åŒºåŸŸåˆ†é…å‚¨å­˜ç©ºé—´ï¼Œæ³¨æ„æ­¤æ—¶åªæ˜¯åˆ†é…é™æ€æˆå‘˜å˜é‡çš„å‚¨å­˜ç©ºé—´ï¼Œä¸åŒ…å«å®ä¾‹æˆå‘˜å˜é‡ã€‚</li>\n<li><code>Initialization(åˆå§‹åŒ–)</code>  ç±»åŠ è½½çš„æœ€åé˜¶æ®µè‹¥è¯¥ç±»å…·æœ‰è¶…ç±»ï¼Œåˆ™å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œæ‰§è¡Œé™æ€åˆå§‹åŒ–å™¨å’Œé™æ€åˆå§‹åŒ–æˆå‘˜å˜é‡ã€‚</li>\n</ul>\n<blockquote>\n<p>å¯è§æˆ‘ä»¬åœ¨è·å–å­—é¢å¸¸é‡çš„ <code>Class</code>  å¼•ç”¨æ—¶è§¦å‘çš„ä¸€ä¸ªæ˜¯åŠ è½½é˜¶æ®µï¼Œå› æ­¤åœ¨è¿™ä¸ªé˜¶æ®µ <code>Class</code>  å¯¹è±¡å·²è¢«åˆ›å»ºå®Œæˆï¼Œè·å–å…¶å¼•ç”¨å¹¶ä¸å›°éš¾ï¼Œä»è€Œæ— éœ€è§¦å‘ç±»çš„æœ€åé˜¶æ®µåˆå§‹åŒ–ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ClassInitialization.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Random</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Inevitable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>     * ç¼–è¯‘æœŸé™æ€å¸¸é‡</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> STATIC_FINAL <span class=\"token operator\">=</span> <span class=\"token number\">47</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     * éç¼–æœŸé™æ€å¸¸é‡</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> STATIC_FINAL2 <span class=\"token operator\">=</span> <span class=\"token class-name\">ClassInitialization</span><span class=\"token punctuation\">.</span>rand<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Initializing Inevitable\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Inevitable2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     * é™æ€æˆå‘˜å˜é‡</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> staticNonFinal <span class=\"token operator\">=</span> <span class=\"token number\">147</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Initializing Inevitable2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Inevitable3</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>     * é™æ€æˆå‘˜å˜é‡</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> staticNonFinal <span class=\"token operator\">=</span> <span class=\"token number\">74</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">static</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Initializing Inevitable3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"41\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"42\"></td><td><pre> * @Description: éªŒè¯å­—é¢å¸¸é‡ç±»åŠ è½½æ‰§è¡Œé¡ºåº</pre></td></tr><tr><td data-num=\"43\"></td><td><pre> * @DateTime: 2023-11-13 00:19</pre></td></tr><tr><td data-num=\"44\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"45\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassInitialization</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Random</span> rand <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Random</span><span class=\"token punctuation\">(</span><span class=\"token number\">47</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token comment\">// å­—é¢å¸¸é‡è·å–æ–¹å¼è·å– Class å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Inevitable</span><span class=\"token punctuation\">></span></span> initable <span class=\"token operator\">=</span> <span class=\"token class-name\">Inevitable</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"After creating Inevitable ref\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token comment\">// ä¸è§¦å‘ç±»åˆå§‹åŒ–</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Inevitable</span><span class=\"token punctuation\">.</span>STATIC_FINAL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token comment\">// ä¼šè§¦å‘ç±»åˆå§‹åŒ–</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Inevitable</span><span class=\"token punctuation\">.</span>STATIC_FINAL2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token comment\">// ä¼šè§¦å‘ç±»åˆå§‹åŒ–</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Inevitable2</span><span class=\"token punctuation\">.</span>staticNonFinal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token comment\">//forName æ–¹æ³•è·å– Class å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> initable3 <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Inevitable3</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"After creating Inevitable3 ref\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Inevitable3</span><span class=\"token punctuation\">.</span>staticNonFinal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        After creating Inevitable ref</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        47</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        --------------------------------</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        Initializing Inevitable</pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        258</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        --------------------------------</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        Initializing Inevitable2</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        147</pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        --------------------------------</pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        Initializing Inevitable3</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        After creating Inevitable3 ref</pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        74</pre></td></tr><tr><td data-num=\"80\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>ä»æ‰“å°ç»“æœæ¥çœ‹å¯ä»¥å‘ç°é€šè¿‡å­—é¢å¸¸é‡è·å–æ–¹å¼æ¥è·å– <code>Inevitable</code>  ç±»çš„ <code>Class</code>  å¯¹è±¡å¹¶æ²¡æœ‰è§¦å‘ <code>Inevitable</code>  ç±»çš„åˆå§‹åŒ–ï¼Œè¿™ä¸€ç‚¹ä¹Ÿå°±éªŒè¯äº†å‰é¢çš„åˆ†æï¼ŒåŒæ—¶è°ƒç”¨ <code>Inevitable.STATIC_FINAL</code>  å˜é‡æ—¶ä¹Ÿæ²¡æœ‰è§¦å‘åˆå§‹åŒ–ï¼Œè¿™æ˜¯å› ä¸º <code>static</code>   <code>final</code>  å±äºç¼–è¯‘æœŸé™æ€å¸¸é‡ã€‚</li>\n<li>åœ¨ç¼–è¯‘é˜¶æ®µé€šè¿‡å¸¸é‡ä¼ æ’­çš„æ–¹å¼å°† <code>Inevitable</code>  ç±»çš„å¸¸é‡ <code>static</code>   <code>final</code>  å‚¨å­˜åˆ°ä¸€ä¸ªè¢«ç§°ä¸º <code>NotInitialization</code>  ç±»çš„å¸¸é‡æ± ä¸­ï¼Œåœ¨ä¹‹åå¯¹ <code>Inevitable</code>  ç±»å¸¸é‡ <code>static</code>   <code>final</code>  çš„å¼•ç”¨éƒ½è½¬åŒ–ä¸ºå¯¹ <code>NotInitialization</code>  ç±»å¯¹è‡ªèº«å¸¸é‡æ± çš„å¼•ç”¨äº†ã€‚</li>\n<li>æ‰€ä»¥åœ¨ç¼–è¯‘æœŸåï¼Œå¯¹ç¼–è¯‘æœŸå¸¸é‡çš„å¼•ç”¨éƒ½å°†åœ¨ <code>NotInitialization</code>  ç±»çš„å¸¸é‡æ± ä¸­è·å–ï¼Œè¿™ä¹Ÿå°±æ˜¯å¼•ç”¨ç¼–è¯‘æœŸé™æ€å¸¸é‡ä¸ä¼šè§¦å‘ <code>Inevitable</code>  ç±»åˆå§‹åŒ–çš„ä¸»è¦åŸå› ã€‚</li>\n<li>åœ¨ä¹‹åè°ƒç”¨çš„ <code>Inevitable.STATIC_FINAL2</code>  å¸¸é‡åå°±ä¼šè§¦å‘äº† <code>Inevitable</code>  ç±»çš„åˆå§‹åŒ–ï¼Œæ³¨æ„ï¼š <code>STATIC_FINAL2</code>  è™½ç„¶è¢« <code>static</code>   <code>final</code>  ä¿®é¥°ä½†å…¶å€¼åœ¨ç¼–è¯‘æœŸé—´å¹¶ä¸èƒ½è¢«ç¡®å®šï¼Œå› æ­¤ <code>STATIC_FINAL2</code>  ä¸æ˜¯ç¼–è¯‘æœŸå¸¸é‡ï¼Œè¦æƒ³ä½¿ç”¨è¯¥å¸¸é‡å¿…é¡»å…ˆè¿›è¡Œç±»åˆå§‹åŒ–ã€‚</li>\n<li><code>Inevitable2</code>  å’Œ <code>Inevitable3</code>  ç±»ä¸­éƒ½æ˜¯é™æ€æˆå‘˜å˜é‡å¹¶éç¼–è¯‘æœŸå¸¸é‡ï¼Œå¼•ç”¨éƒ½ä¼šè§¦å‘ç±»åˆå§‹åŒ–æ“ä½œï¼Œè‡³äº <code>forName</code>  æ–¹æ³•è·å–çš„ <code>Class</code>  å¯¹è±¡è‚¯å®šä¼šè§¦å‘ç±»åˆå§‹åŒ–æ“ä½œï¼Œè¿™ç‚¹å·²åœ¨å‰é¢åˆ†æ<a href=\"#classforname%E6%96%B9%E6%B3%95\">ç‚¹å‡»è·³è½¬</a>ã€‚</li>\n<li>æ€»ç»“ï¼š\n<ul>\n<li>è·å– <code>Class</code>  å¯¹è±¡å¼•ç”¨çš„ä¸‰ç§æ–¹å¼\n<ul>\n<li>ç¬¬ä¸€ç§ï¼šé€šè¿‡ç»§æ‰¿è‡ª <code>Object</code>  ç±»çš„ <code>getClass</code>  æ–¹æ³•è·å–ã€‚</li>\n<li>ç¬¬äºŒç§ï¼šé€šè¿‡ <code>Class</code>  ç±»çš„é™æ€æ–¹æ³• <code>forName</code>  æ¥è·å–å¯¹è±¡å¼•ç”¨ã€‚</li>\n<li>ç¬¬ä¸‰ä¸­ï¼šé€šè¿‡ <code>.class</code>  å­—é¢å¸¸é‡æ–¹å¼æ¥è·å–å¯¹è±¡å¼•ç”¨ã€‚</li>\n</ul>\n</li>\n<li>å…¶ä¸­å®ä¾‹ç±»çš„ <code>getClass</code>  å’Œ <code>Class</code>  ç±»çš„ <code>forName</code>  é™æ€æ–¹æ³•éƒ½å°†ä¼šè§¦å‘ç±»çš„åˆå§‹åŒ–æ“ä½œï¼Œè€Œå­—é¢å¸¸é‡è·å– <code>Class</code>  å¯¹è±¡çš„æ–¹å¼åˆ™ä¸ä¼šè§¦å‘ç±»åˆå§‹åŒ–æ“ä½œã€‚</li>\n<li>ç±»åˆå§‹åŒ–æ˜¯ç±»åŠ è½½çš„æœ€åä¸€ä¸ªé˜¶æ®µï¼Œå‡†ç¡®æ¥è¯´å°±æ˜¯åœ¨è¿™ä¸ªé˜¶æ®µåç±»å°±ä¼šè¢«åŠ è½½åˆ°å†…å­˜ä¸­ ( <code>Class</code>  å¯¹è±¡åœ¨åŠ è½½é˜¶æ®µå·²è¢«åˆ›å»º)ï¼Œæ­¤æ—¶å¯ä»¥å¯¹ç±»è¿›è¡Œå„ç§æ“ä½œäº†å¦‚ï¼š <code>new</code>  å¯¹è±¡ã€è°ƒç”¨é™æ€æˆå‘˜å˜é‡ç­‰ï¼Œæ³¨æ„ï¼šåœ¨è¿™ä¸ªé˜¶æ®µæ‰çœŸæ­£å¼€å§‹æ‰§è¡Œç±»ä¸­å®šä¹‰çš„ <code>Java</code>  ç¨‹åºä»£ç æˆ–å­—èŠ‚ç ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"æ³›åŒ–çš„classå¯¹è±¡å¼•ç”¨åˆ†æ\"><a class=\"anchor\" href=\"#æ³›åŒ–çš„classå¯¹è±¡å¼•ç”¨åˆ†æ\">#</a> æ³›åŒ–çš„ Class å¯¹è±¡å¼•ç”¨åˆ†æ</h2>\n<blockquote>\n<p><code>Class</code>  çš„å¼•ç”¨æ€»æ•°æŒ‡å‘æŸä¸ªç±»çš„ <code>Class</code>  å¯¹è±¡ï¼Œåˆ©ç”¨ <code>Class</code>  å¯¹è±¡å¯ä»¥åˆ›å»ºå®ä¾‹ç±»ï¼Œä¹Ÿå°±è¶³ä»¥è¯´æ˜ <code>Class</code>  å¯¹è±¡çš„å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ç¡®åˆ‡çš„ç±»å‹ï¼Œåœ¨ <code>JavaSE5</code>  ä¸­åŠ å…¥æ³›å‹åï¼Œå¯ä»¥ä½¿æˆ‘ä»¬æ›´æ–¹ä¾¿çš„ç”¨æ³›å‹æ¥è¡¨ç¤º <code>Class</code>  å¯¹è±¡æ›´å…·ä½“çš„ç±»å‹ï¼Œå³ä½¿åœ¨è¿è¡ŒæœŸé—´ä¼šè¢«æ“¦é™¤ï¼Œä½†ç¼–è¯‘æœŸå¯ä»¥ç¡®ä¿æˆ‘ä»¬ä½¿ç”¨æ­£ç¡®çš„å¯¹è±¡ç±»å‹ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ClassDemo</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * @Description: ç†è§£ Class æ³›å‹åœ¨ç¼–è¯‘æœŸçš„ç”¨é€”</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @DateTime: 2023-11-13 01:16</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\">// æ²¡æœ‰ä½¿ç”¨æ³›å‹</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token class-name\">Class</span> strClass <span class=\"token operator\">=</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">// ä½¿ç”¨æ³›å‹çš„ Class å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> stringClass <span class=\"token operator\">=</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">// æ²¡æœ‰ä½¿ç”¨æ³›å‹çš„çº¦æŸï¼Œå¯ä»¥éšæ„èµ‹å€¼</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        strClass <span class=\"token operator\">=</span> <span class=\"token keyword\">double</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">// ä½¿ç”¨æ³›å‹ååœ¨ç¼–è¯‘æœŸå°†ä¼šå‘ç”Ÿé”™è¯¯ï¼Œæ— æ³•é€šè¿‡ç¼–è¯‘</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">//        stringClass = double.class</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹å‡ºå£°æ˜æ™®é€šçš„ <code>Class</code>  å¯¹è±¡ï¼Œåœ¨ç¼–è¯‘æœŸé—´å¹¶ä¸ä¼šæ£€æŸ¥ <code>Class</code>  å¯¹è±¡çš„ç¡®åˆ‡ç±»å‹æ˜¯å¦ç¬¦åˆæ‰€éœ€è¦æ±‚ï¼Œåªè¦åœ¨è¿è¡Œæ—¶æ‰ä¼šè¢«å‘ç°ã€‚</li>\n<li>ä½†é€šè¿‡æ³›å‹å£°æ˜å¹¶æŒ‡æ˜ç±»å‹çš„ <code>Class</code>  å¯¹è±¡ï¼Œç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘æœŸå¯¹å¸¦æœ‰æ³›å‹çš„ç±»è¿›è¡Œé¢å¤–çš„ç±»å‹æ£€æŸ¥ï¼Œç¡®ä¿åœ¨ç¼–è¯‘æœŸä¿è¯ç±»å‹çš„æ­£ç¡®æ€§ï¼Œä»è€Œæé«˜ç¼–ç æ•ˆç‡å’Œé™ä½é”™è¯¯çš„å‘ç”Ÿã€‚</li>\n<li>ä¸Šè¿°ä»£ç ä¸­ <code>String.class</code>  å°±æ˜¯ä¸€ä¸ª <code>Class&lt;String&gt;</code>  ç±»çš„å¯¹è±¡ï¼Œä½†ä¸‹é¢çš„ä»£ç å¯èƒ½ä¼šä»¤äººç–‘æƒ‘ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// æ— æ³•é€šè¿‡ç¼–è¯‘</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Number</span><span class=\"token punctuation\">></span></span> numberClass<span class=\"token operator\">=</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p><code>Integer</code>  éš¾é“ä¸æ˜¯ <code>Number</code>  çš„å­ç±»å—ï¼Ÿä½†äº‹å®å¹¶æ²¡æœ‰è¿™ä¹ˆç®€å•ï¼Œæ¯•ç«Ÿ <code>Integer</code>  çš„ <code>.class</code>  å¯¹è±¡å¹¶éæ˜¯ <code>Number</code>  çš„ <code>Class</code>  å¯¹è±¡çš„å­ç±»ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ <code>?</code>  æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå‰é¢æåˆ°è¿‡ï¼Œæ‰€æœ‰çš„ <code>Class</code>  å¯¹è±¡éƒ½åªæ¥æºäº <code>Class</code>  ç±»ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å¯ä»¥é€šè¿‡ç¼–è¯‘</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> generalClass<span class=\"token operator\">=</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        generalClass<span class=\"token operator\">=</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        generalClass<span class=\"token operator\">=</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>è¿™æ ·å†™çš„ä»£ç å¹¶æ²¡æœ‰é—®é¢˜ï¼Œæ¯•ç«Ÿé€šé…ç¬¦æŒ‡æ˜çš„æ˜¯æ‰€æœ‰ç±»å‹éƒ½é€‚ç”¨ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨ <code>Class</code>  è¿˜è¦ç”¨ <code>Class&lt;?&gt;</code>  å‘¢ï¼Ÿè¿™æ ·åšæ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæˆ‘ä»¬æ˜¯é‡‡ç”¨ä»»æ„ç±»å‹çš„æ³›å‹è€Œå¹¶éå¿˜è®°ä½¿ç”¨æ³›å‹çº¦æŸï¼Œå› æ­¤ <code>Class&lt;?&gt;</code>  æ˜¯ä¼˜äºç›´æ¥ä½¿ç”¨ <code>Class</code>  çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä½¿ç”¨ <code>extends</code>  å…³é”®å­—æ¥å‘Šè¯‰ç¼–è¯‘å™¨æ¥æ”¶æŸä¸ªç±»å‹çš„å­ç±»ï¼Œæ¥è§£å†³å‰é¢çš„ <code>Number</code>  å’Œ <code>Integer</code>  é—®é¢˜ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å¯ä»¥é€šè¿‡ç¼–è¯‘</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token keyword\">extends</span> <span class=\"token class-name\">Number</span><span class=\"token punctuation\">></span></span> clazz<span class=\"token operator\">=</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// èµ‹äºˆå…¶å®ƒç±»å‹ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ¯•ç«Ÿéƒ½æ˜¯ç¬¦åˆå±äº Number çš„å­ç±»</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>clazz<span class=\"token operator\">=</span><span class=\"token keyword\">double</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>clazz<span class=\"token operator\">=</span><span class=\"token class-name\">Number</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>ä¸Šè¿°ä»£ç å› ä¸ºä½¿ç”¨äº† <code>extends</code>  å…³é”®å­—æ¥å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œåªè¦æ˜¯ <code>Number</code>  çš„å­ç±»éƒ½å¯ä»¥è¿›è¡Œèµ‹å€¼æ“ä½œã€‚</li>\n<li>è¿™ä¸€ç‚¹ä¸å‰é¢ç›´æ¥ä½¿ç”¨ <code>Class&lt;Number&gt;</code>  çš„æ€§è´¨æ˜¯ä¸ä¸€æ ·çš„ã€‚</li>\n<li>åº”è¯¥æ—¶åˆ»è®°ä½å‘ <code>Class</code>  å¼•ç”¨æ·»åŠ æ³›å‹çº¦æŸæ˜¯ä¸ºäº†æä¾›ç¼–è¯‘æœŸç±»å‹æ£€æŸ¥ï¼Œä»è€Œé¿å…å°†é”™è¯¯å»¶ç»­åˆ°è¿è¡ŒæœŸé—´çš„ä¸€ç§æ‰‹æ®µã€‚</li>\n</ul>\n<h1 id=\"ç±»å‹è½¬æ¢é—®é¢˜\"><a class=\"anchor\" href=\"#ç±»å‹è½¬æ¢é—®é¢˜\">#</a> ç±»å‹è½¬æ¢é—®é¢˜</h1>\n<blockquote>\n<p>è®¸å¤šæƒ…å†µä¸­æˆ‘ä»¬éœ€è¦å¼ºåˆ¶ä½¿ç”¨ç±»å‹è½¬æ¢ï¼Œæ¥å°†å½“å‰çš„ç±»å‹è½¬æ¢åˆ°å¦ä¸€ç§ç±»å‹ï¼Œæ›´å¤šæƒ…å†µæˆ‘ä»¬ä¼šä½¿ç”¨ç›´æ¥å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Animal.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * è‡ªå®šä¹‰åŠ¨ç‰©æ¥å£</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Animal</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">//...</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Cat.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>impl<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Animal</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: åŠ¨ç‰© - çŒ«å®ç°åŠ¨ç‰©æ¥å£æ–¹æ³•</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-11-13 14:16</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Cat</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Animal</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">//...</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Dog.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * @Description: åŠ¨ç‰© - ç‹—å¹¶æœªå®ç°åŠ¨ç‰©æ¥å£æ–¹æ³•</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @DateTime: 2023-11-13 14:17</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Dog</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">//...</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ClassDemo2.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>impl<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Animal</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: å¼ºåˆ¶ç±»å‹è½¬æ¢ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-11-13 13:39</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassDemo2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token class-name\">Animal</span> animal <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Cat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">// æ­¤å¤„ (Cat) å°±æ˜¯å±äºç›´æ¥ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">Cat</span> cat <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Cat</span><span class=\"token punctuation\">)</span> animal<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æƒ³çŸ¥é“ä¸ºä»€ä¹ˆå¯ä»¥å¼ºåˆ¶è½¬æ¢ï¼Œè¿™å…¨å½’åŠŸäº <code>RTTI</code>  è¦çŸ¥é“åœ¨ <code>Java</code>  ä¸­ï¼Œæ‰€æœ‰ç±»å‹è½¬æ¢éƒ½æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œæ­£ç¡®æ€§æ£€æŸ¥çš„ï¼Œåˆ©ç”¨ <code>RTTI</code>  è¿›è¡Œåˆ¤æ–­ç±»å‹æ˜¯å¦æ­£ç¡®ï¼Œä»è€Œä¿è¯äº†å¼ºåˆ¶ç±»å‹è½¬æ¢çš„å®Œæˆï¼Œå¦‚æœï¼šç±»å‹è½¬æ¢å¤±è´¥å°†ä¼šæŠ›å‡º <code>ClassCastException</code>  ç±»å‹è½¬æ¢å¼‚å¸¸ï¼Œé™¤äº†å¼ºåˆ¶è½¬æ¢å¤–åœ¨ <code>JavaSE5</code>  ä¸­æ–°å¢äº†ä¸€ç§ä½¿ç”¨ <code>Class</code>  å¯¹è±¡è¿›è¡Œç±»å‹è½¬çš„æ–¹å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ClassDemo2.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>impl<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Animal</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: å¼ºåˆ¶ç±»å‹è½¬æ¢ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-11-13 13:39</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassDemo2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token class-name\">Animal</span> animal <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Cat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">// æ­¤å¤„ (Cat) å°±æ˜¯å±äºç›´æ¥ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">//    Cat cat = (Cat) animal;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\">// è¿™ä¸¤å¥ç­‰åŒäº Cat cat = (Cat) animal;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Cat</span><span class=\"token punctuation\">></span></span> catClass <span class=\"token operator\">=</span> <span class=\"token class-name\">Cat</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">Cat</span> <span class=\"token class-name\">Cat</span> <span class=\"token operator\">=</span> catClass<span class=\"token punctuation\">.</span><span class=\"token function\">cast</span><span class=\"token punctuation\">(</span>animal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>åˆ©ç”¨ <code>Class</code>  å¯¹è±¡çš„ <code>cast</code>  æ–¹æ³•ï¼Œå…¶å‚æ•°å°±æ˜¯æ¥æ”¶ä¸€ä¸ªå‚æ•°å¯¹è±¡å¹¶å°†å…¶è½¬æ¢ä¸º <code>Class</code>  å¼•ç”¨çš„ç±»å‹ï¼Œè¿™ç§æ–¹å¼æ¯”ä¹‹å‰çš„å¼ºåˆ¶è½¬æ¢ç¨å¾®éº»çƒ¦ä¸€ç‚¹ï¼Œè€Œä¸”å½“ç±»å‹ä¸èƒ½æ­£ç¡®è½¬æ¢æ—¶ï¼Œä»ç„¶ä¼šæŠ›å‡º <code>ClassCastException</code>  å¼‚å¸¸ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹æºç ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Class.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@IntrinsicCandidate</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">T</span> <span class=\"token function\">cast</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>obj<span class=\"token operator\">!=</span><span class=\"token keyword\">null</span><span class=\"token operator\">&amp;&amp;</span><span class=\"token operator\">!</span><span class=\"token function\">isInstance</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassCastException</span><span class=\"token punctuation\">(</span><span class=\"token function\">cannotCastMsg</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">return</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span>obj<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"å…³é”®å­—instanceof-isinstanceæ–¹æ³•\"><a class=\"anchor\" href=\"#å…³é”®å­—instanceof-isinstanceæ–¹æ³•\">#</a> å…³é”®å­— instanceof &amp; isInstance æ–¹æ³•</h1>\n<ul>\n<li>å…³äº <code>instanceof</code>  å…³é”®å­—å®ƒè¿”å›çš„æ˜¯ä¸€ä¸ª <code>boolean</code>  ç±»å‹çš„å€¼ï¼Œæ¥å‘Šè¯‰æˆ‘ä»¬å¯¹è±¡æ˜¯ä¸æ˜¯æŸä¸ªç‰¹å®šçš„ç±»å‹å®ä¾‹ã€‚</li>\n<li>åœ¨å¼ºåˆ¶è½¬æ¢å‰åˆ©ç”¨ <code>instanceof</code>  æ¥å¯¹ç±»å‹æ£€æµ‹æ˜¯å¦å¯ä»¥è½¬æ¢æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</li>\n<li>å¦‚ä¸‹ï¼šä½¿ç”¨ <code>instanceof</code>  æ£€æµ‹ obj æ˜¯ä¸æ˜¯ <code>Animal</code>  ç±»å‹çš„å®ä¾‹å¯¹è±¡ï¼Œå¦‚æœè¿”å› <code>true</code>  å†è¿›è¡Œç±»å‹è½¬æ¢ï¼Œè¿™æ ·å°±é¿å…äº†å‘ç”Ÿ <code>ClassCastException</code>  ç±»å‹è½¬æ¢çš„å¼‚å¸¸äº†ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>InstanceofDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>impl<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Animal</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: instanceof ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-11-13 14:19</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">InstanceofDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">// æ­¤å¤„æ¥æ¼”ç¤º instanceof</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">Dog</span> dog <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Dog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">Cat</span> cat <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Cat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\">//Dog æ²¡æœ‰å®ç° Animal æ¥å£æ‰€ä»¥ä¸å±äº Animal ç±»å‹æ­¤å¤„ï¼šfalse</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dog <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Animal</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token class-name\">Animal</span> animal <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Animal</span><span class=\"token punctuation\">)</span> dog<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">//Cat å®ç°äº† Animal æ¥å£æ‰€ä»¥å±äº Animal ç±»å‹æ­¤å¤„ï¼štrue</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cat <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Animal</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token class-name\">Animal</span> animal <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Animal</span><span class=\"token punctuation\">)</span> cat<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è€Œ <code>isInstance</code>  æ–¹æ³•åˆ™æ˜¯ <code>Class</code>  ç±»ä¸­çš„ä¸€ä¸ª <code>Native</code>  æ–¹æ³•ï¼Œä¹Ÿæ˜¯ç”¨äºæ¥åˆ¤æ–­å¯¹è±¡ç±»å‹çš„ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>InstanceofDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>impl<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Animal</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: instanceof ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-11-13 14:19</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">InstanceofDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">// æ­¤å¤„æ¥æ¼”ç¤º instanceof</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">Dog</span> dog <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Dog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\">Cat</span> cat <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Cat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\">//Dog æ²¡æœ‰å®ç° Animal æ¥å£æ‰€ä»¥ä¸å±äº Animal ç±»å‹æ­¤å¤„ï¼šfalse</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dog <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Animal</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token class-name\">Animal</span> animal <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Animal</span><span class=\"token punctuation\">)</span> dog<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">//Cat å®ç°äº† Animal æ¥å£æ‰€ä»¥å±äº Animal ç±»å‹æ­¤å¤„ï¼štrue</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">// æ­¤å¤„ä½¿ç”¨çš„æ˜¯ isInstance æ–¹æ³•æ¥åˆ¤æ–­</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Animal</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">isInstance</span><span class=\"token punctuation\">(</span>cat<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token class-name\">Animal</span> animal <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Animal</span><span class=\"token punctuation\">)</span> cat<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p><code>instanceof</code>  å’Œ <code>isInstance</code>  æ–¹æ³•äº§ç”Ÿçš„ç»“æœæ˜¯ç›¸åŒçš„ï¼Œå¯¹äº <code>instanceof</code>  å…³é”®å­—åªæ˜¯è¢«ç”¨äºå¯¹è±¡å¼•ç”¨å˜é‡ï¼Œæ£€æŸ¥å·¦è¾¹å¯¹è±¡æ˜¯ä¸æ˜¯å³è¾¹ç±»æˆ–æ¥å£çš„å®ä¾‹åŒ–ï¼Œå¦‚æœè¢«æ£€æµ‹å¯¹è±¡æ˜¯ <code>null</code>  åˆ™ç»“æœæ€»æ˜¯ <code>false</code> ã€‚<br />\nè€Œ <code>isInstance</code>  æ–¹æ³•åˆ™æ˜¯ <code>Class</code>  ç±»çš„ <code>Native</code>  æ–¹æ³•ï¼Œå…¶ä¸­ obj æ˜¯è¢«æµ‹è¯•çš„å¯¹è±¡æˆ–å˜é‡ï¼Œå¦‚æœ obj æ˜¯è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„ <code>class</code>  æˆ–æ¥å£çš„å®ä¾‹ï¼Œåˆ™è¿”å› <code>true</code> ï¼Œå¦‚æœè¢«æ£€æµ‹çš„å¯¹è±¡æ˜¯ <code>null</code>  æˆ–è€…åŸºæœ¬ç±»å‹åˆ™è¿”å›å€¼æ˜¯ <code>false</code> ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// åˆ¤æ–­è¿™ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯è¿™ç§ç±»å‹</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>obj<span class=\"token punctuation\">.</span><span class=\"token keyword\">instanceof</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// åˆ¤æ–­è¿™ä¸ªå¯¹è±¡èƒ½ä¸èƒ½è¢«è½¬åŒ–ä¸ºè¿™ä¸ªç±»</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">inInstance</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h1 id=\"åå°„æŠ€æœ¯æ·±å…¥ç†è§£\"><a class=\"anchor\" href=\"#åå°„æŠ€æœ¯æ·±å…¥ç†è§£\">#</a> åå°„æŠ€æœ¯æ·±å…¥ç†è§£</h1>\n<ul>\n<li>åå°„æœºåˆ¶æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸‹å¯ä»¥è·å–ä»»æ„ä¸€ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œèƒ½å¤Ÿè°ƒç”¨ä»»æ„æ–¹æ³•å’Œå±æ€§ã€‚</li>\n<li>è¿™ç§åŠ¨æ€è·å–çš„ä¿¡æ¯åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•åŠŸèƒ½ç§°ä¸º <code>Java</code>  è¯­è¨€ä¸­çš„åå°„æœºåˆ¶ã€‚</li>\n<li>åå°„æŠ€æœ¯å¯ä»¥è¯´æ˜¯ <code>Java</code>  ä¸­æ¯”è¾ƒæ ¸å¿ƒçš„æœºåˆ¶ï¼Œç›®å‰å¤§éƒ¨åˆ†æ¡†æ¶å¦‚ï¼š <code>Spring</code> ã€ <code>SpringBoot</code> ã€ <code>Mybatis</code> ã€ <code>Hibernate</code>  ç­‰å¾—ä»¥å®ç°çš„æ”¯æŸ±ã€‚</li>\n<li>åœ¨ <code>Java</code>  ä¸­ <code>Class</code>  ç±»ä¸ <code>java.lang.reflect</code>  ç±»åº“ä¸€èµ·å¯¹åå°„æŠ€æœ¯è¿›è¡Œäº†å…¨åŠ›æ”¯æŒã€‚</li>\n<li>åœ¨åå°„åŒ…ä¸­æˆ‘ä»¬å¸¸ç”¨çš„ç±»ä¸»è¦æœ‰ï¼š\n<ul>\n<li><code>Constructor</code> ï¼šè¡¨ç¤º <code>Class</code>  å¯¹è±¡çš„æ„é€ æ–¹æ³•ï¼Œå®ƒå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºå¯¹è±¡ã€‚</li>\n<li><code>Field</code> ï¼šè¡¨ç¤º <code>Class</code>  å¯¹è±¡çš„æˆå‘˜å˜é‡ï¼Œé€šè¿‡å®ƒå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹æˆå‘˜å˜é‡çš„å±æ€§å€¼ï¼Œå…¶ä¸­åŒ…å« <code>private</code>  ä¿®é¥°çš„å˜é‡ã€‚</li>\n<li><code>Method</code> ï¼šè¡¨ç¤º <code>Class</code>  å¯¹è±¡çš„æˆå‘˜æ–¹æ³•ï¼Œé€šè¿‡å®ƒå¯ä»¥åŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•ï¼Œå…¶ä¸­åŒ…å« <code>private</code>  ä¿®é¥°çš„æ–¹æ³•ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"constructorç±»çš„ä½¿ç”¨\"><a class=\"anchor\" href=\"#constructorç±»çš„ä½¿ç”¨\">#</a> Constructor ç±»çš„ä½¿ç”¨</h2>\n<blockquote>\n<p><code>Constructor</code>  ç±»å­˜åœ¨äºåå°„åŒ… <code>java.lang.reflect</code>  åŒ…ä¸­ï¼Œåæ˜ çš„æ˜¯ <code>Class</code>  å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»çš„æ„é€ æ–¹æ³•ï¼Œè·å– <code>Constructor</code>  å¯¹è±¡æ˜¯é€šè¿‡ <code>Class</code>  ç±»ä¸­çš„æ–¹æ³•è·å–çš„ï¼Œ <code>Class</code>  ç±»ä¸ <code>Constructor</code>  ç›¸å…³çš„ä¸»è¦æ–¹æ³•å¦‚ä¸‹ã€‚</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">è¿”å›å€¼</th>\n<th style=\"text-align:center\">æ–¹æ³•åç§°</th>\n<th style=\"text-align:center\">è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>static Class&lt;?&gt;</code></td>\n<td style=\"text-align:center\"><code>forName(String className)</code></td>\n<td style=\"text-align:center\">è¿”å›ä¸å¸¦æœ‰ç»™å®šå­—ç¬¦ä¸²åçš„ç±»æˆ–æ¥å£ç›¸å…³è”çš„  <code>Class</code>  å¯¹è±¡</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Constructor&lt;T&gt;</code></td>\n<td style=\"text-align:center\"><code>getConstructor(Class&lt;?&gt;... parameterTypes)</code></td>\n<td style=\"text-align:center\">è¿”å›æŒ‡å®šå‚æ•°ç±»å‹ã€å…·æœ‰ <code>public</code>  è®¿é—®æƒé™çš„æ„é€ å‡½æ•°å¯¹è±¡</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Constructor&lt;?&gt;[]</code></td>\n<td style=\"text-align:center\"><code>getConstructors()</code></td>\n<td style=\"text-align:center\">è¿”å›æ‰€æœ‰å…·æœ‰ <code>public</code>  è®¿é—®æƒé™çš„æ„é€ å‡½æ•°çš„ <code>Constructor</code>  å¯¹è±¡æ•°ç»„</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Constructor&lt;T&gt;</code></td>\n<td style=\"text-align:center\"><code>getDeclaredConstructor(Class&lt;?&gt;... parameterTypes)</code></td>\n<td style=\"text-align:center\">è¿”å›æŒ‡å®šå‚æ•°ç±»å‹ã€æ‰€æœ‰å£°æ˜çš„ï¼ˆåŒ…æ‹¬ <code>private</code> ï¼‰æ„é€ å‡½æ•°å¯¹è±¡</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Constructor&lt;?&gt;[]</code></td>\n<td style=\"text-align:center\"><code>getDeclaredConstructor()</code></td>\n<td style=\"text-align:center\">è¿”å›æ‰€æœ‰å£°æ˜çš„ï¼ˆåŒ…æ‹¬ <code>private</code> ï¼‰æ„é€ å‡½æ•°å¯¹è±¡</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>T</code></td>\n<td style=\"text-align:center\"><code>newInstance()</code></td>\n<td style=\"text-align:center\">åˆ›å»ºæ­¤  <code>Class</code>  å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»çš„ä¸€ä¸ªæ–°å®ä¾‹</td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ConstructorDemo .java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Serializable</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Constructor</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     * ç§æœ‰æ„é€ </pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     * @param age  å¹´é¾„</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * @param name åç§°</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> age<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">return</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token keyword\">return</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"User&#123;\"</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>                <span class=\"token string\">\"age=\"</span> <span class=\"token operator\">+</span> age <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>                <span class=\"token string\">\", name='\"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">'\\''</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>                <span class=\"token string\">'&#125;'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre></pre></td></tr><tr><td data-num=\"56\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"57\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"58\"></td><td><pre> * @Description: Constructor å¯¹è±¡çš„ä½¿ç”¨</pre></td></tr><tr><td data-num=\"59\"></td><td><pre> * @DateTime: 2023-11-13 20:08</pre></td></tr><tr><td data-num=\"60\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"61\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ConstructorDemo</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token comment\">// è·å– Class å¯¹è±¡çš„å¼•ç”¨</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        clazz <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token comment\">// ç¬¬ä¸€ç§æ–¹æ³•ï¼Œå®ä¾‹åŒ–é»˜è®¤æ„é€ æ–¹æ³•ï¼ŒUser å¿…é¡»æ— å‚æ„é€ å‡½æ•°ï¼Œå¦åˆ™å°†æŠ›å‡ºå¼‚å¸¸</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token class-name\">User</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">)</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        user<span class=\"token punctuation\">.</span><span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        user<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å°çº¢\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        <span class=\"token comment\">// è·å–å¸¦ String å‚æ•°çš„ public æ„é€ å‡½æ•°</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token class-name\">Constructor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> constructor <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getConstructor</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»º User</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        <span class=\"token class-name\">User</span> lightRainUser <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">)</span> constructor<span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"LightRain\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        lightRainUser<span class=\"token punctuation\">.</span><span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token number\">19</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lightRainUser:\"</span> <span class=\"token operator\">+</span> lightRainUser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token comment\">// å–å¾—æŒ‡å®šå¸¦ int å’Œ String å‚æ•°æ„é€ å‡½æ•°ï¼Œè¯¥æ–¹æ³•æ˜¯ç§æœ‰æ„é€  private</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        <span class=\"token class-name\">Constructor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> constructor2 <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        <span class=\"token comment\">// ç”±äºæ˜¯ private å¿…é¡»è®¾ç½®å¯è®¿é—®</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        constructor2<span class=\"token punctuation\">.</span><span class=\"token function\">setAccessible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»º user å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        <span class=\"token class-name\">User</span> tomcat <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">)</span> constructor2<span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"tomcat\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"tomcat:\"</span> <span class=\"token operator\">+</span> tomcat<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>        <span class=\"token comment\">// è·å–æ‰€æœ‰æ„é€ åŒ…å« private</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>        <span class=\"token class-name\">Constructor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> cons <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        <span class=\"token comment\">// æŸ¥çœ‹æ¯ä¸ªæ„é€ æ–¹æ³•éœ€è¦çš„å‚æ•°</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> cons<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>            <span class=\"token comment\">// è·å–æ„é€ å‡½æ•°å‚æ•°ç±»å‹</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>            <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> clazzs <span class=\"token operator\">=</span> cons<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getParameterTypes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ„é€ å‡½æ•°[\"</span> <span class=\"token operator\">+</span> i <span class=\"token operator\">+</span> <span class=\"token string\">\"]:\"</span> <span class=\"token operator\">+</span> cons<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å‚æ•°ç±»å‹[\"</span> <span class=\"token operator\">+</span> i <span class=\"token operator\">+</span> <span class=\"token string\">\"]:(\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> clazzs<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">==</span> clazzs<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>                    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>clazzs<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>                    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>clazzs<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\")\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>        <span class=\"token comment\">/*  è¿è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"106\"></td><td><pre>            User &#123;age=18, name=' å°çº¢ '&#125;</pre></td></tr><tr><td data-num=\"107\"></td><td><pre>            --------------------------------------------</pre></td></tr><tr><td data-num=\"108\"></td><td><pre>            lightRainUser:User &#123;age=19, name='LightRain'&#125;</pre></td></tr><tr><td data-num=\"109\"></td><td><pre>            --------------------------------------------</pre></td></tr><tr><td data-num=\"110\"></td><td><pre>            tomcat:User &#123;age=20, name='tomcat'&#125;</pre></td></tr><tr><td data-num=\"111\"></td><td><pre>            --------------------------------------------</pre></td></tr><tr><td data-num=\"112\"></td><td><pre>            æ„é€ å‡½æ•° [0]:private top.rem.rain.demo.User (int,java.lang.String)</pre></td></tr><tr><td data-num=\"113\"></td><td><pre>            å‚æ•°ç±»å‹ [0]:(int,java.lang.String)</pre></td></tr><tr><td data-num=\"114\"></td><td><pre>            æ„é€ å‡½æ•° [1]:public top.rem.rain.demo.User (java.lang.String)</pre></td></tr><tr><td data-num=\"115\"></td><td><pre>            å‚æ•°ç±»å‹ [1]:(java.lang.String)</pre></td></tr><tr><td data-num=\"116\"></td><td><pre>            æ„é€ å‡½æ•° [2]:public top.rem.rain.demo.User ()</pre></td></tr><tr><td data-num=\"117\"></td><td><pre>            å‚æ•°ç±»å‹ [2]:()</pre></td></tr><tr><td data-num=\"118\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p><code>Constructor</code>  ç±»æœ¬èº«çš„ä¸€äº›éƒ¨åˆ†å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">è¿”å›å€¼</th>\n<th style=\"text-align:center\">æ–¹æ³•åç§°</th>\n<th style=\"text-align:center\">è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>Class&lt;T&gt;</code></td>\n<td style=\"text-align:center\"><code>getDeclaringClass()</code></td>\n<td style=\"text-align:center\">è¿”å›  <code>Class</code>  å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è¡¨ç¤ºå£°æ˜ç”±æ­¤  <code>Constructor</code>  å¯¹è±¡è¡¨ç¤ºçš„æ„é€ æ–¹æ³•çš„ç±»ï¼Œå…¶å®å°±æ˜¯è¿”å›çœŸå®ç±»å‹ï¼ˆä¸åŒ…å«å‚æ•°ï¼‰</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Type[]</code></td>\n<td style=\"text-align:center\"><code>getGenericParameterTypes()</code></td>\n<td style=\"text-align:center\">æŒ‰ç…§å£°æ˜é¡ºåºè¿”å›ä¸€ç»„  <code>Type</code>  å¯¹è±¡ï¼Œè¿”å›çš„å°±æ˜¯  <code>Constructor</code>  å¯¹è±¡æ„é€ å‡½æ•°çš„å½¢å‚ç±»å‹</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>String</code></td>\n<td style=\"text-align:center\"><code>getName()</code></td>\n<td style=\"text-align:center\">ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›æ­¤æ„é€ æ–¹æ³•çš„åç§°</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Class&lt;?&gt;[]</code></td>\n<td style=\"text-align:center\"><code>getParameterTypes()</code></td>\n<td style=\"text-align:center\">æŒ‰ç…§å£°æ˜é¡ºåºè¿”å›ä¸€ç»„  <code>Class</code>  å¯¹è±¡ï¼Œå³è¿”å›  <code>Constructor</code>  å¯¹è±¡æ‰€è¡¨ç¤ºæ„é€ æ–¹æ³•çš„å½¢å‚ç±»å‹</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>T</code></td>\n<td style=\"text-align:center\"><code>newInstance(Object... initargs)</code></td>\n<td style=\"text-align:center\">ä½¿ç”¨æ­¤  <code>Constructor</code>  å¯¹è±¡è¡¨ç¤ºçš„æ„é€ å‡½æ•°æ¥åˆ›å»ºæ–°å®ä¾‹</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>String</code></td>\n<td style=\"text-align:center\"><code>toGenericString()</code></td>\n<td style=\"text-align:center\">è¿”å›æè¿°æ­¤  <code>Constructor</code>  çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…æ‹¬ç±»å‹å‚æ•°</td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ConstructorDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Serializable</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Constructor</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Type</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     * ç§æœ‰æ„é€ </pre></td></tr><tr><td data-num=\"22\"></td><td><pre>     *</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>     * @param age  å¹´é¾„</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     * @param name åç§°</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> age<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token keyword\">return</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token keyword\">return</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"User&#123;\"</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>                <span class=\"token string\">\"age=\"</span> <span class=\"token operator\">+</span> age <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>                <span class=\"token string\">\", name='\"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">'\\''</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>                <span class=\"token string\">'&#125;'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre></pre></td></tr><tr><td data-num=\"57\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"58\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"59\"></td><td><pre> * @Description: Constructor å¯¹è±¡çš„ä½¿ç”¨å’Œ Constructor ç±»æœ¬èº«ä¸€äº›å¸¸ç”¨æ–¹æ³•</pre></td></tr><tr><td data-num=\"60\"></td><td><pre> * @DateTime: 2023-11-13 20:08</pre></td></tr><tr><td data-num=\"61\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"62\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ConstructorDemo</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token comment\">//Class ç±»ä¸ Constructor ç›¸å…³çš„ä¸»è¦æ–¹æ³•å¦‚ä¸‹</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token comment\">// è·å– Class å¯¹è±¡çš„å¼•ç”¨</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        clazz <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token comment\">// ç¬¬ä¸€ç§æ–¹æ³•ï¼Œå®ä¾‹åŒ–é»˜è®¤æ„é€ æ–¹æ³•ï¼ŒUser å¿…é¡»æ— å‚æ„é€ å‡½æ•°ï¼Œå¦åˆ™å°†æŠ›å‡ºå¼‚å¸¸</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token class-name\">User</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">)</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        user<span class=\"token punctuation\">.</span><span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        user<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å°çº¢\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        <span class=\"token comment\">// è·å–å¸¦ String å‚æ•°çš„ public æ„é€ å‡½æ•°</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        <span class=\"token class-name\">Constructor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> constructor <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getConstructor</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»º User</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token class-name\">User</span> lightRainUser <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">)</span> constructor<span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"LightRain\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        lightRainUser<span class=\"token punctuation\">.</span><span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token number\">19</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lightRainUser:\"</span> <span class=\"token operator\">+</span> lightRainUser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        <span class=\"token comment\">// å–å¾—æŒ‡å®šå¸¦ int å’Œ String å‚æ•°æ„é€ å‡½æ•°ï¼Œè¯¥æ–¹æ³•æ˜¯ç§æœ‰æ„é€  private</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token class-name\">Constructor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> constructor2 <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>        <span class=\"token comment\">// ç”±äºæ˜¯ private å¿…é¡»è®¾ç½®å¯è®¿é—®</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        constructor2<span class=\"token punctuation\">.</span><span class=\"token function\">setAccessible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»º user å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        <span class=\"token class-name\">User</span> tomcat <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">)</span> constructor2<span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"tomcat\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"tomcat:\"</span> <span class=\"token operator\">+</span> tomcat<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------------------------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        <span class=\"token comment\">// è·å–æ‰€æœ‰æ„é€ åŒ…å« private</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>        <span class=\"token class-name\">Constructor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> cons <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>        <span class=\"token comment\">// æŸ¥çœ‹æ¯ä¸ªæ„é€ æ–¹æ³•éœ€è¦çš„å‚æ•°</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> cons<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>            <span class=\"token comment\">// è·å–æ„é€ å‡½æ•°å‚æ•°ç±»å‹</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>            <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> clazzs <span class=\"token operator\">=</span> cons<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getParameterTypes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ„é€ å‡½æ•°[\"</span> <span class=\"token operator\">+</span> i <span class=\"token operator\">+</span> <span class=\"token string\">\"]:\"</span> <span class=\"token operator\">+</span> cons<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å‚æ•°ç±»å‹[\"</span> <span class=\"token operator\">+</span> i <span class=\"token operator\">+</span> <span class=\"token string\">\"]:(\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> clazzs<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">==</span> clazzs<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>                    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>clazzs<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>                    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>clazzs<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\")\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>        <span class=\"token comment\">/*  æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"108\"></td><td><pre>            User &#123;age=18, name=' å°çº¢ '&#125;</pre></td></tr><tr><td data-num=\"109\"></td><td><pre>            --------------------------------------------</pre></td></tr><tr><td data-num=\"110\"></td><td><pre>            lightRainUser:User &#123;age=19, name='LightRain'&#125;</pre></td></tr><tr><td data-num=\"111\"></td><td><pre>            --------------------------------------------</pre></td></tr><tr><td data-num=\"112\"></td><td><pre>            tomcat:User &#123;age=20, name='tomcat'&#125;</pre></td></tr><tr><td data-num=\"113\"></td><td><pre>            --------------------------------------------</pre></td></tr><tr><td data-num=\"114\"></td><td><pre>            æ„é€ å‡½æ•° [0]:private top.rem.rain.demo.User (int,java.lang.String)</pre></td></tr><tr><td data-num=\"115\"></td><td><pre>            å‚æ•°ç±»å‹ [0]:(int,java.lang.String)</pre></td></tr><tr><td data-num=\"116\"></td><td><pre>            æ„é€ å‡½æ•° [1]:public top.rem.rain.demo.User (java.lang.String)</pre></td></tr><tr><td data-num=\"117\"></td><td><pre>            å‚æ•°ç±»å‹ [1]:(java.lang.String)</pre></td></tr><tr><td data-num=\"118\"></td><td><pre>            æ„é€ å‡½æ•° [2]:public top.rem.rain.demo.User ()</pre></td></tr><tr><td data-num=\"119\"></td><td><pre>            å‚æ•°ç±»å‹ [2]:()</pre></td></tr><tr><td data-num=\"120\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>        <span class=\"token comment\">//Constructor ç±»æœ¬èº«çš„ä¸€äº›å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>        <span class=\"token class-name\">Constructor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> cs3 <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-----getDeclaringClass-----\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> uclazz <span class=\"token operator\">=</span> cs3<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>        <span class=\"token comment\">//Constructor å¯¹è±¡è¡¨ç¤ºçš„æ„é€ æ–¹æ³•çš„ç±»</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ„é€ æ–¹æ³•çš„ç±»:\"</span> <span class=\"token operator\">+</span> uclazz<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-----getGenericParameterTypes-----\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>        <span class=\"token comment\">// å¯¹è±¡è¡¨ç¤ºæ­¤ Constructor å¯¹è±¡æ‰€è¡¨ç¤ºçš„æ–¹æ³•çš„å½¢å‚ç±»å‹</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>        <span class=\"token class-name\">Type</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> tps <span class=\"token operator\">=</span> cs3<span class=\"token punctuation\">.</span><span class=\"token function\">getGenericParameterTypes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Type</span> tp <span class=\"token operator\">:</span> tps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å‚æ•°åç§°tp:\"</span> <span class=\"token operator\">+</span> tp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-----getParameterTypes-----\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>        <span class=\"token comment\">// è·å–æ„é€ å‡½æ•°å‚æ•°ç±»å‹</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> clazzs <span class=\"token operator\">=</span> cs3<span class=\"token punctuation\">.</span><span class=\"token function\">getParameterTypes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> claz <span class=\"token operator\">:</span> clazzs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å‚æ•°åç§°:\"</span> <span class=\"token operator\">+</span> claz<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-----getName-----\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre>        <span class=\"token comment\">// ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›æ­¤æ„é€ æ–¹æ³•çš„åç§°</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"getName:\"</span> <span class=\"token operator\">+</span> cs3<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre></pre></td></tr><tr><td data-num=\"144\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-----getGenericString-----\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"145\"></td><td><pre>        <span class=\"token comment\">// è¿”å›æè¿°æ­¤ Constructor çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…æ‹¬ç±»å‹å‚æ•°ã€‚</span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"getGenericString():\"</span> <span class=\"token operator\">+</span> cs3<span class=\"token punctuation\">.</span><span class=\"token function\">toGenericString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre>        <span class=\"token comment\">/*  æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"148\"></td><td><pre>            -----getDeclaringClass-----</pre></td></tr><tr><td data-num=\"149\"></td><td><pre>            æ„é€ æ–¹æ³•çš„ç±»:top.rem.rain.demo.User</pre></td></tr><tr><td data-num=\"150\"></td><td><pre>            -----getGenericParameterTypes-----</pre></td></tr><tr><td data-num=\"151\"></td><td><pre>            å‚æ•°åç§° tp:int</pre></td></tr><tr><td data-num=\"152\"></td><td><pre>            å‚æ•°åç§° tp:class java.lang.String</pre></td></tr><tr><td data-num=\"153\"></td><td><pre>            -----getParameterTypes-----</pre></td></tr><tr><td data-num=\"154\"></td><td><pre>            å‚æ•°åç§°:int</pre></td></tr><tr><td data-num=\"155\"></td><td><pre>            å‚æ•°åç§°:java.lang.String</pre></td></tr><tr><td data-num=\"156\"></td><td><pre>            -----getName-----</pre></td></tr><tr><td data-num=\"157\"></td><td><pre>            getName:top.rem.rain.demo.User</pre></td></tr><tr><td data-num=\"158\"></td><td><pre>            -----getGenericString-----</pre></td></tr><tr><td data-num=\"159\"></td><td><pre>            getGenericString ():private top.rem.rain.demo.User (int,java.lang.String)</pre></td></tr><tr><td data-num=\"160\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"161\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"162\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"fieldç±»çš„ä½¿ç”¨\"><a class=\"anchor\" href=\"#fieldç±»çš„ä½¿ç”¨\">#</a> Field ç±»çš„ä½¿ç”¨</h2>\n<blockquote>\n<p><code>Field</code>  ç±»æä¾›æœ‰å…³ç±»æˆ–æ¥å£çš„å•ä¸ªå­—æ®µä¿¡æ¯ï¼Œä»¥åŠå®ƒçš„åŠ¨æ€è®¿é—®æƒé™ï¼Œåå°„çš„å¯èƒ½æ˜¯ä¸€ä¸ªç±»ã€å­—æ®µã€å®ä¾‹ï¼ŒåŒæ ·çš„é“ç†æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>Class</code>  ç±»æä¾›çš„æ–¹æ³•æ¥è·å–å­—æ®µä¿¡æ¯çš„ <code>Field</code>  å¯¹è±¡ï¼Œ <code>Class</code>  ç±»ä¸ <code>Field</code>  å¯¹è±¡ç›¸å…³æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">è¿”å›å€¼</th>\n<th style=\"text-align:center\">æ–¹æ³•åç§°</th>\n<th style=\"text-align:center\">è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>Field</code></td>\n<td style=\"text-align:center\"><code>getDeclaredField(String name)</code></td>\n<td style=\"text-align:center\">è·å–æŒ‡å®š <code>name</code>  åç§°çš„ (åŒ…å« <code>private</code>  ä¿®é¥°çš„) å­—æ®µï¼Œä¸åŒ…æ‹¬ç»§æ‰¿çš„å­—æ®µ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Field[]</code></td>\n<td style=\"text-align:center\"><code>getDeclaredField()</code></td>\n<td style=\"text-align:center\">è·å– <code>Class</code>  å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æ‰€æœ‰ (åŒ…å« <code>private</code>  ä¿®é¥°çš„) å­—æ®µï¼Œä¸åŒ…æ‹¬ç»§æ‰¿çš„å­—æ®µ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Field</code></td>\n<td style=\"text-align:center\"><code>getField(String name)</code></td>\n<td style=\"text-align:center\">è·å–æŒ‡å®š <code>name</code>  åç§°ã€å…·æœ‰ <code>public</code>  ä¿®é¥°çš„å­—æ®µï¼ŒåŒ…å«ç»§æ‰¿å­—æ®µ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Field[]</code></td>\n<td style=\"text-align:center\"><code>getField()</code></td>\n<td style=\"text-align:center\">è·å–ä¿®é¥°ç¬¦ä¸º <code>public</code>  çš„å­—æ®µï¼ŒåŒ…å«ç»§æ‰¿å­—æ®µ</td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FieldDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Field</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">return</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">return</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"Student&#123;\"</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                <span class=\"token string\">\"desc='\"</span> <span class=\"token operator\">+</span> desc <span class=\"token operator\">+</span> <span class=\"token string\">'\\''</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                <span class=\"token string\">\", score=\"</span> <span class=\"token operator\">+</span> score <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                <span class=\"token string\">\", age=\"</span> <span class=\"token operator\">+</span> age <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>                <span class=\"token string\">\", name='\"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">'\\''</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>                <span class=\"token string\">'&#125;'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> desc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> score<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getDesc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token keyword\">return</span> desc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setDesc</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> desc<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>desc <span class=\"token operator\">=</span> desc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getScore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token keyword\">return</span> score<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setScore</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> score<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>score <span class=\"token operator\">=</span> score<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"Student&#123;\"</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>                <span class=\"token string\">\"desc='\"</span> <span class=\"token operator\">+</span> desc <span class=\"token operator\">+</span> <span class=\"token string\">'\\''</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>                <span class=\"token string\">\", score=\"</span> <span class=\"token operator\">+</span> score <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>                <span class=\"token string\">\", age=\"</span> <span class=\"token operator\">+</span> age <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>                <span class=\"token string\">\", name='\"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">'\\''</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>                <span class=\"token string\">'&#125;'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre></pre></td></tr><tr><td data-num=\"67\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"68\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"69\"></td><td><pre> * @Description: Field ä¸ Class ç›¸å…³æ–¹æ³•ä½¿ç”¨</pre></td></tr><tr><td data-num=\"70\"></td><td><pre> * @DateTime: 2023-11-13 22:47</pre></td></tr><tr><td data-num=\"71\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"72\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FieldDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">NoSuchFieldException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        <span class=\"token comment\">//Field ä¸ Class ç›¸å…³æ–¹æ³•ä½¿ç”¨</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Student</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token comment\">// è·å–æŒ‡å®šå­—æ®µåç§°çš„ Field ç±»ï¼Œæ³¨æ„å­—æ®µä¿®é¥°ç¬¦å¿…é¡»ä¸º public è€Œä¸”å­˜åœ¨è¯¥å­—æ®µï¼Œå¦åˆ™æŠ› NoSuchFieldException</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token class-name\">Field</span> field <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getField</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"age\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"field:\"</span> <span class=\"token operator\">+</span> field<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        <span class=\"token comment\">// è·å–æ‰€æœ‰ä¿®é¥°ç¬¦ä¸º public çš„å­—æ®µï¼ŒåŒ…å«çˆ¶ç±»å­—æ®µï¼Œæ³¨æ„ä¿®é¥°ç¬¦ä¸º public æ‰ä¼šè·å–</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        <span class=\"token class-name\">Field</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> fields <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getFields</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Field</span> f <span class=\"token operator\">:</span> fields<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"f:\"</span> <span class=\"token operator\">+</span> f<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"================getDeclaredFields====================\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>        <span class=\"token comment\">// è·å–å½“å‰ç±»æ‰€å­—æ®µ (åŒ…å« private å­—æ®µ), æ³¨æ„ä¸åŒ…å«çˆ¶ç±»çš„å­—æ®µ</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>        <span class=\"token class-name\">Field</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> fields2 <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredFields</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Field</span> f <span class=\"token operator\">:</span> fields2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"f2:\"</span> <span class=\"token operator\">+</span> f<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>        <span class=\"token comment\">// è·å–æŒ‡å®šå­—æ®µåç§°çš„ Field ç±»ï¼Œå¯ä»¥æ˜¯ä»»æ„ä¿®é¥°ç¬¦çš„è‡ªåŠ¨ï¼Œæ³¨æ„ä¸åŒ…å«çˆ¶ç±»çš„å­—æ®µ</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>        <span class=\"token class-name\">Field</span> field2 <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredField</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"desc\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"field2:\"</span> <span class=\"token operator\">+</span> field2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"97\"></td><td><pre>        æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"98\"></td><td><pre>        field:public int top.rem.rain.demo.Person.age</pre></td></tr><tr><td data-num=\"99\"></td><td><pre>        f:class top.rem.rain.demo.Student</pre></td></tr><tr><td data-num=\"100\"></td><td><pre>        f:class top.rem.rain.demo.Person</pre></td></tr><tr><td data-num=\"101\"></td><td><pre>        f:class top.rem.rain.demo.Person</pre></td></tr><tr><td data-num=\"102\"></td><td><pre>        ================getDeclaredFields====================</pre></td></tr><tr><td data-num=\"103\"></td><td><pre>        f2:class top.rem.rain.demo.Student</pre></td></tr><tr><td data-num=\"104\"></td><td><pre>        f2:class top.rem.rain.demo.Student</pre></td></tr><tr><td data-num=\"105\"></td><td><pre>        field2:public java.lang.String top.rem.rain.demo.Student.desc</pre></td></tr><tr><td data-num=\"106\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸Šé¢çš„ä»£ç å¦‚æœæˆ‘ä»¬ä¸æœŸæœ›è·å–å…¶çˆ¶ç±»çš„å­—æ®µï¼Œåˆ™éœ€è¦ä½¿ç”¨ <code>Class</code>  ç±»çš„ <code>getDeclaredField</code>  æˆ– <code>getDeclaredFields</code>  æ–¹æ³•æ¥è·å–å­—æ®µå³å¯ï¼Œå€˜è‹¥éœ€è¦è·å–åˆ°çˆ¶ç±»å­—æ®µï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨ <code>Class</code>  ç±»çš„ <code>getField</code>  å’Œ <code>getFields</code>  æ–¹æ³•ï¼Œä½†æ˜¯ä¹Ÿåªèƒ½è·å–åˆ° <code>public</code>  ä¿®é¥°çš„å­—æ®µï¼Œæ— æ³•è·å–åˆ°çˆ¶ç±»çš„ <code>private</code>  ä¿®é¥°çš„å­—æ®µï¼Œä¸‹é¢å°†é€šè¿‡ <code>Field</code>  ç±»æœ¬èº«æ–¹æ³•å¯¹æŒ‡å®šç±»å±æ€§èµ‹å€¼çš„ä»£ç ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Field</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">InvocationTargetException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">return</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">return</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"Person&#123;\"</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                <span class=\"token string\">\"age=\"</span> <span class=\"token operator\">+</span> age <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                <span class=\"token string\">\", name='\"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">'\\''</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>                <span class=\"token string\">'&#125;'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> desc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> score<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getDesc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token keyword\">return</span> desc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setDesc</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> desc<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>desc <span class=\"token operator\">=</span> desc<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getScore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token keyword\">return</span> score<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setScore</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> score<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>score <span class=\"token operator\">=</span> score<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"Student&#123;\"</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>                <span class=\"token string\">\"desc='\"</span> <span class=\"token operator\">+</span> desc <span class=\"token operator\">+</span> <span class=\"token string\">'\\''</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>                <span class=\"token string\">\", score=\"</span> <span class=\"token operator\">+</span> score <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>                <span class=\"token string\">\", age=\"</span> <span class=\"token operator\">+</span> age <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>                <span class=\"token string\">\", name='\"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">'\\''</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>                <span class=\"token string\">'&#125;'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre></pre></td></tr><tr><td data-num=\"66\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"67\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"68\"></td><td><pre> * @Description: Field ç±»æœ¬èº«çš„æ–¹æ³•ä½¿ç”¨</pre></td></tr><tr><td data-num=\"69\"></td><td><pre> * @DateTime: 2023-11-13 22:47</pre></td></tr><tr><td data-num=\"70\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"71\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FieldDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">NoSuchFieldException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InstantiationException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IllegalAccessException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">NoSuchMethodException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InvocationTargetException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token comment\">//Field ç±»æœ¬èº«çš„æ–¹æ³•ä½¿ç”¨</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        <span class=\"token comment\">// è·å– Class å¯¹è±¡å¼•ç”¨</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Student</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token class-name\">Student</span> st <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Student</span><span class=\"token punctuation\">)</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        <span class=\"token comment\">// è·å–çˆ¶ç±» public å­—æ®µå¹¶èµ‹å€¼</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token class-name\">Field</span> ageField <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getField</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"age\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        ageField<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>st<span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        <span class=\"token class-name\">Field</span> nameField <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getField</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        nameField<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>st<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Lily\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        <span class=\"token comment\">// åªè·å–å½“å‰ç±»çš„å­—æ®µï¼Œä¸è·å–çˆ¶ç±»çš„å­—æ®µ</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>        <span class=\"token class-name\">Field</span> descField <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredField</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"desc\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        descField<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>st<span class=\"token punctuation\">,</span> <span class=\"token string\">\"I am student\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>        <span class=\"token class-name\">Field</span> scoreField <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredField</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"score\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>        <span class=\"token comment\">// è®¾ç½®å¯è®¿é—®ï¼Œscore æ˜¯ private çš„</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        scoreField<span class=\"token punctuation\">.</span><span class=\"token function\">setAccessible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>        scoreField<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>st<span class=\"token punctuation\">,</span> <span class=\"token number\">88</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>st<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>        <span class=\"token comment\">// è·å–å­—æ®µå€¼</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>scoreField<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>st<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"97\"></td><td><pre>        æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"98\"></td><td><pre>        Student &#123;desc='I am student', score=88, age=18, name='Lily'&#125;</pre></td></tr><tr><td data-num=\"99\"></td><td><pre>        88</pre></td></tr><tr><td data-num=\"100\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å…¶ä¸­ <code>set(Object obj,Object value)</code>  æ–¹æ³•æ˜¯ <code>Field</code>  æœ¬èº«çš„æ–¹æ³•ï¼Œç”¨äºè®¾ç½®å­—æ®µçš„å€¼ï¼Œè€Œ <code>get(Object obj)</code>  åˆ™æ˜¯è·å–å­—æ®µçš„å€¼ï¼Œå…³äº <code>Field</code>  ç±»è¿˜æœ‰å…¶å®ƒå¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">è¿”å›å€¼</th>\n<th style=\"text-align:center\">æ–¹æ³•åç§°</th>\n<th style=\"text-align:center\">è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>void</code></td>\n<td style=\"text-align:center\"><code>set(Object obj,Object value)</code></td>\n<td style=\"text-align:center\">å°†æŒ‡å®šå¯¹è±¡å˜é‡ä¸Šæ­¤ <code>Field</code>  å¯¹è±¡è¡¨ç¤ºçš„å­—æ®µè®¾ç½®ä¸ºæŒ‡å®šçš„æ–°å€¼</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Object</code></td>\n<td style=\"text-align:center\"><code>get(Object obj)</code></td>\n<td style=\"text-align:center\">è¿”å›æŒ‡å®šå¯¹è±¡ä¸Šæ­¤ <code>Field</code>  è¡¨ç¤ºçš„å­—æ®µçš„å€¼</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Class&lt;?&gt;</code></td>\n<td style=\"text-align:center\"><code>getType()</code></td>\n<td style=\"text-align:center\">è¿”å›ä¸€ä¸ª <code>Class</code>  å¯¹è±¡ï¼Œå®ƒæ ‡è¯†äº†æ­¤ <code>Field</code>  å¯¹è±¡æ‰€è¡¨ç¤ºå­—æ®µçš„å£°æ˜ç±»å‹</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>boolean</code></td>\n<td style=\"text-align:center\"><code>isEnumConstant()</code></td>\n<td style=\"text-align:center\">å¦‚æœæ­¤å­—æ®µè¡¨ç¤ºæšä¸¾ç±»å‹çš„å…ƒç´ åˆ™è¿”å› <code>true</code>  å¦åˆ™è¿”å› <code>false</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>String</code></td>\n<td style=\"text-align:center\"><code>toGenericString()</code></td>\n<td style=\"text-align:center\">è¿”å›ä¸€ä¸ªæè¿°æ­¤ <code>Field</code>  (åŒ…æ‹¬å…¶ä¸€èˆ¬ç±»å‹) çš„å­—ç¬¦ä¸²</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>String</code></td>\n<td style=\"text-align:center\"><code>getName()</code></td>\n<td style=\"text-align:center\">è¿”å›æ­¤ <code>Field</code>  å¯¹è±¡è¡¨ç¤ºçš„å­—æ®µçš„åç§°</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Class&lt;?&gt;</code></td>\n<td style=\"text-align:center\"><code>getDeclaringClass()</code></td>\n<td style=\"text-align:center\">è¿”å›è¡¨ç¤ºç±»æˆ–æ¥å£çš„ <code>Class</code>  å¯¹è±¡ï¼Œè¯¥ç±»æˆ–æ¥å£å£°æ˜ç”±æ­¤ <code>Field</code>  å¯¹è±¡è¡¨ç¤ºçš„å­—æ®µ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>void</code></td>\n<td style=\"text-align:center\"><code>setAccessible(boolean flag)</code></td>\n<td style=\"text-align:center\">å°†æ­¤å¯¹è±¡çš„ <code>accessible</code>  æ ‡å¿—è®¾ç½®ä¸ºæŒ‡ç¤ºçš„å¸ƒå°”å€¼ï¼Œå³è®¾ç½®å…¶å¯è®¿é—®æ€§</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>è¿™æ˜¯ä¸€äº›è¾ƒä¸ºå¸¸ç”¨çš„æ–¹æ³•ï¼Œåœ¨è®¾ç½®å€¼çš„æ–¹æ³•ä¸Š <code>Field</code>  ç±»è¿˜æä¾›äº†ä¸“é—¨é’ˆå¯¹åŸºæœ¬æ•°æ®ç±»å‹çš„æ–¹æ³•ï¼Œå¦‚ <code>setInt()</code>   <code>getInt()</code>   <code>setBoolean()</code>   <code>getBoolean()</code>   <code>setChar()</code>   <code>getChar()</code>  ç­‰æ–¹æ³•ï¼Œéœ€è¦æ—¶æŸ¥ API æ–‡æ¡£å³å¯ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯è¢« <code>final</code>  ä¿®é¥°çš„å…³é”®å­—çš„ <code>Field</code>  å­—æ®µæ˜¯å®‰å…¨çš„ï¼Œåœ¨è¿è¡Œæ—¶å¯ä»¥æ¥æ”¶ä»»ä½•ä¿®æ”¹ï¼Œä½†æœ€ç»ˆå…¶å€¼ä¸ä¼šå‘ç”Ÿä»»ä½•æ”¹å˜ã€‚</p>\n</blockquote>\n<h2 id=\"methodç±»çš„ä½¿ç”¨\"><a class=\"anchor\" href=\"#methodç±»çš„ä½¿ç”¨\">#</a> Method ç±»çš„ä½¿ç”¨</h2>\n<blockquote>\n<p><code>Method</code>  æä¾›äº†ç±»æˆ–æ¥å£ä¸Šå•ç‹¬æŸä¸ªæ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•æ–¹æ³•è¯¥æ–¹æ³•çš„ä¿¡æ¯ï¼Œæ‰€åæ˜ çš„æ–¹æ³•å¯èƒ½æ˜¯ç±»æ–¹æ³•æˆ–å®ä¾‹æ–¹æ³• (åŒ…æ‹¬æŠ½è±¡æ–¹æ³•)ï¼Œä¸‹é¢æ˜¯ <code>Class</code>  ç±»è·å– <code>Method</code>  å¯¹è±¡ç›¸å…³çš„æ–¹æ³•ï¼š</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">è¿”å›å€¼</th>\n<th style=\"text-align:center\">æ–¹æ³•åç§°</th>\n<th style=\"text-align:center\">è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>Method</code></td>\n<td style=\"text-align:center\"><code>getDeclaredMethod(String name,Class&lt;?&gt;... parameterTypes)</code></td>\n<td style=\"text-align:center\">è¿”å›ä¸€ä¸ªæŒ‡å®šå‚æ•°çš„ <code>Method</code>  å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åæ˜ æ­¤ <code>Class</code>  å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æŒ‡å®šå·²å£°æ˜æ–¹æ³•</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Method[]</code></td>\n<td style=\"text-align:center\"><code>getDeclaredMethod()</code></td>\n<td style=\"text-align:center\">è¿”å› <code>Method</code>  å¯¹è±¡çš„ä¸€ä¸ªæ•°ç»„ï¼Œè¿™äº›å¯¹è±¡åæ˜ æ­¤ <code>Class</code>  å¯¹è±¡è¡¨ç¤ºçš„ç±»æˆ–æ¥å£å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¬å…±ã€ä¿æŠ¤ã€é»˜è®¤ (åŒ…) è®¿é—®çš„ç§æœ‰æ–¹æ³•ï¼Œä½†ä¸åŒ…å«ç»§æ‰¿çš„æ–¹æ³•</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Method</code></td>\n<td style=\"text-align:center\"><code>getMethod(String name,Class&lt;?&gt;... parameterTypes)</code></td>\n<td style=\"text-align:center\">è¿”å›ä¸€ä¸ª <code>Method</code>  å¯¹è±¡ï¼Œå®ƒåæ˜ æ­¤ <code>Class</code>  å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æŒ‡å®šå…¬å…±æˆå‘˜æ–¹æ³•</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Method[]</code></td>\n<td style=\"text-align:center\"><code>getMethods()</code></td>\n<td style=\"text-align:center\">è¿”å›ä¸€ä¸ªåŒ…å«æŸäº› <code>Method</code>  å¯¹è±¡çš„æ•°ç»„ï¼Œè¿™äº›å¯¹è±¡åæ˜ æ­¤ <code>Class</code>  å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£ (åŒ…æ‹¬é‚£äº›ç”±è¯¥ç±»æˆ–å£°æ˜çš„ä»¥åŠä»è¶…ç±»å’Œè¶…æ¥å£ç»§æ‰¿çš„é‚£äº›ç±»æˆ–æ¥å£) çš„å…¬å…± <code>member</code>  æ–¹æ³•</td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Method</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"draw\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> count<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"draw \"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">\",count=\"</span> <span class=\"token operator\">+</span> count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Circle</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">drawCircle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"drawCircle\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getAllCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"28\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"29\"></td><td><pre> * @Description: Method ä¸ Class ç›¸å…³æ–¹æ³•ä½¿ç”¨</pre></td></tr><tr><td data-num=\"30\"></td><td><pre> * @DateTime: 2023-11-13 23:49</pre></td></tr><tr><td data-num=\"31\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"32\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MethodDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">NoSuchMethodException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Circle</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token comment\">// æ ¹æ®å‚æ•°è·å– public çš„ Method, åŒ…å«ç»§æ‰¿è‡ªçˆ¶ç±»çš„æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">Method</span> method <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"draw\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"method:\"</span> <span class=\"token operator\">+</span> method<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token comment\">// è·å–æ‰€æœ‰ public çš„æ–¹æ³•:</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token class-name\">Method</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> methods <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getMethods</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Method</span> m <span class=\"token operator\">:</span> methods<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"m::\"</span> <span class=\"token operator\">+</span> m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"=========================================\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token comment\">// è·å–å½“å‰ç±»çš„æ–¹æ³•åŒ…å« private, è¯¥æ–¹æ³•æ— æ³•è·å–ç»§æ‰¿è‡ªçˆ¶ç±»çš„ method</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token class-name\">Method</span> method1 <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"drawCircle\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"method1::\"</span> <span class=\"token operator\">+</span> method1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token comment\">// è·å–å½“å‰ç±»çš„æ‰€æœ‰æ–¹æ³•åŒ…å« private, è¯¥æ–¹æ³•æ— æ³•è·å–ç»§æ‰¿è‡ªçˆ¶ç±»çš„ method</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token class-name\">Method</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> methods1 <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethods</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Method</span> m <span class=\"token operator\">:</span> methods1<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"m1::\"</span> <span class=\"token operator\">+</span> m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>            æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            method:public void top.rem.rain.demo.Shape.draw (int,java.lang.String)</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>            m::public int top.rem.rain.demo.Circle.getAllCount ()</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>            m::public void top.rem.rain.demo.Shape.draw ()</pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            m::public void top.rem.rain.demo.Shape.draw (int,java.lang.String)</pre></td></tr><tr><td data-num=\"64\"></td><td><pre>            m::public final void java.lang.Object.wait (long,int) throws java.lang.InterruptedException</pre></td></tr><tr><td data-num=\"65\"></td><td><pre>            m::public final void java.lang.Object.wait () throws java.lang.InterruptedException</pre></td></tr><tr><td data-num=\"66\"></td><td><pre>            m::public final native void java.lang.Object.wait (long) throws java.lang.InterruptedException</pre></td></tr><tr><td data-num=\"67\"></td><td><pre>            m::public boolean java.lang.Object.equals (java.lang.Object)</pre></td></tr><tr><td data-num=\"68\"></td><td><pre>            m::public java.lang.String java.lang.Object.toString ()</pre></td></tr><tr><td data-num=\"69\"></td><td><pre>            m::public native int java.lang.Object.hashCode ()</pre></td></tr><tr><td data-num=\"70\"></td><td><pre>            m::public final native java.lang.Class java.lang.Object.getClass ()</pre></td></tr><tr><td data-num=\"71\"></td><td><pre>            m::public final native void java.lang.Object.notify ()</pre></td></tr><tr><td data-num=\"72\"></td><td><pre>            m::public final native void java.lang.Object.notifyAll ()</pre></td></tr><tr><td data-num=\"73\"></td><td><pre>            =========================================</pre></td></tr><tr><td data-num=\"74\"></td><td><pre>            method1::private void top.rem.rain.demo.Circle.drawCircle ()</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>            m1::private void top.rem.rain.demo.Circle.drawCircle ()</pre></td></tr><tr><td data-num=\"76\"></td><td><pre>            m1::public int top.rem.rain.demo.Circle.getAllCount ()</pre></td></tr><tr><td data-num=\"77\"></td><td><pre></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>é€šè¿‡ <code>getMethod</code>  æ–¹æ³•è·å– <code>Method</code>  å¯¹è±¡æ—¶ï¼Œä¹Ÿä¼šè·å–åˆ°å…¶çˆ¶ç±»ä¸­çš„æ–¹æ³•ï¼Œä¸Šé¢çš„æ‰§è¡Œç»“æœä¸­æŠŠ <code>Object</code>  ç±»çš„æ–¹æ³•éƒ½æ‰“å°äº†å‡ºæ¥ï¼Œè€Œ <code>getDeclaredMethod</code>   <code>getDeclaredMethods</code>  æ–¹æ³•éƒ½åªèƒ½è·å–å½“å‰ç±»çš„æ–¹æ³•ã€‚ ä¸‹é¢æ˜¯é€šè¿‡ <code>Method</code>  å¯¹è±¡è°ƒç”¨æŒ‡å®šç±»çš„æ–¹æ³•ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>MethodDome2.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">InvocationTargetException</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Method</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Shape2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"draw\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> count<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"draw \"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">\",count=\"</span> <span class=\"token operator\">+</span> count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Circle2</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Shape2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">drawCircle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"drawCircle\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getAllCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"29\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"30\"></td><td><pre> * @Description: é€šè¿‡ Method å¯¹è±¡è°ƒç”¨æŒ‡å®šç±»çš„æ–¹æ³•</pre></td></tr><tr><td data-num=\"31\"></td><td><pre> * @DateTime: 2023-11-14 00:02</pre></td></tr><tr><td data-num=\"32\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"33\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MethodDome2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">NoSuchMethodException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InvocationTargetException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InstantiationException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IllegalAccessException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Circle2</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºå¯¹è±¡</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">Circle2</span> circle <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Circle2</span><span class=\"token punctuation\">)</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token comment\">// è·å–æŒ‡å®šå‚æ•°çš„æ–¹æ³•å¯¹è±¡ Method</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token class-name\">Method</span> method <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"draw\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡ Method å¯¹è±¡çš„ invoke (Object obj,Object... args) æ–¹æ³•è°ƒç”¨</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        method<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>circle<span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å°é›¨\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token comment\">// å¯¹ç§æœ‰æ— å‚æ–¹æ³•çš„æ“ä½œ</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token class-name\">Method</span> method1 <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"drawCircle\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token comment\">// ä¿®æ”¹ç§æœ‰æ–¹æ³•çš„è®¿é—®æ ‡è¯†</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        method1<span class=\"token punctuation\">.</span><span class=\"token function\">setAccessible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        method1<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>circle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token comment\">// å¯¹æœ‰è¿”å›å€¼å¾—æ–¹æ³•æ“ä½œ</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token class-name\">Method</span> method2 <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"getAllCount\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token class-name\">Integer</span> count <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">)</span> method2<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>circle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"count:\"</span> <span class=\"token operator\">+</span> count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>            æ‰§è¡Œç»“æœ:</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>            draw å°é›¨ï¼Œcount=18</pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            drawCircle</pre></td></tr><tr><td data-num=\"61\"></td><td><pre>            count:100</pre></td></tr><tr><td data-num=\"62\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸Šè¿°ä»£ç ä¸­è°ƒç”¨çš„æ–¹æ³•ä½¿ç”¨äº† <code>Method</code>  ç±»çš„ <code>invoke(Object obj,Object... args)</code>  ç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨è°ƒç”¨çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ é€’è°ƒç”¨æ–¹æ³•çš„å‚æ•°ï¼Œè¿™æ ·å°±å®Œæˆäº†ç±»æ–¹æ³•çš„åŠ¨æ€è°ƒç”¨äº†ã€‚</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">è¿”å›å€¼</th>\n<th style=\"text-align:center\">æ–¹æ³•åç§°</th>\n<th style=\"text-align:center\">è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>Object</code></td>\n<td style=\"text-align:center\"><code>invoke(Object obj, Object... args)</code></td>\n<td style=\"text-align:center\">å¯¹å¸¦æœ‰æŒ‡å®šå‚æ•°çš„æŒ‡å®šå¯¹è±¡è°ƒç”¨ç”±æ­¤ <code>Method</code>  å¯¹è±¡è¡¨ç¤ºçš„åº•å±‚æ–¹æ³•</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Class&lt;?&gt;</code></td>\n<td style=\"text-align:center\"><code>getReturnType()</code></td>\n<td style=\"text-align:center\">è¿”å›ä¸€ä¸ª <code>Class</code>  å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æè¿°äº†æ­¤ <code>Method</code>  å¯¹è±¡æ‰€è¡¨ç¤ºçš„æ–¹æ³•çš„æ­£å¼è¿”å›ç±»å‹ï¼Œå³æ–¹æ³•è¿”å›ç±»å‹</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Type</code></td>\n<td style=\"text-align:center\"><code>getGenericReturnType()</code></td>\n<td style=\"text-align:center\">è¿”å›è¡¨ç¤ºç”±æ­¤ <code>Method</code>  å¯¹è±¡æ‰€è¡¨ç¤ºæ–¹æ³•çš„æ­£å¼è¿”å›ç±»å‹çš„ <code>Type</code>  å¯¹è±¡ï¼Œä¹Ÿæ˜¯æ–¹æ³•çš„è¿”å›ç±»å‹</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Class&lt;?&gt;[]</code></td>\n<td style=\"text-align:center\"><code>getParameterTypes()</code></td>\n<td style=\"text-align:center\">æŒ‰ç…§å£°æ˜é¡ºåºè¿”å› <code>Class</code>  å¯¹è±¡çš„æ•°ç»„ï¼Œè¿™äº›å¯¹è±¡æè¿°äº†æ­¤ <code>Method</code>  å¯¹è±¡æ‰€è¡¨ç¤ºçš„æ–¹æ³•çš„å½¢å‚ç±»å‹ï¼Œå³è¿”å›æ–¹æ³•çš„å‚æ•°ç±»å‹ç»„æˆçš„æ•°ç»„</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Typep[]</code></td>\n<td style=\"text-align:center\"><code>getGenericParameterTypes()</code></td>\n<td style=\"text-align:center\">æŒ‰ç…§å£°æ˜é¡ºåºè¿”å› <code>Type</code>  å¯¹è±¡çš„æ•°ç»„ï¼Œè¿™äº›å¯¹è±¡æè¿°äº†æ­¤ <code>Method</code>  å¯¹è±¡æ‰€è¡¨ç¤ºçš„æ–¹æ³•çš„å½¢å‚ç±»å‹ï¼Œä¹Ÿæ˜¯è¿”å›æ–¹æ³•çš„å‚æ•°ç±»å‹</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>String</code></td>\n<td style=\"text-align:center\"><code>getName()</code></td>\n<td style=\"text-align:center\">ä»¥ <code>String</code>  å½¢å¼è¿”å›æ­¤ <code>Method</code>  å¯¹è±¡è¡¨ç¤ºçš„æ–¹æ³•åç§°ï¼Œå³è¿”å›æ–¹æ³•çš„åç§°</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>boolean</code></td>\n<td style=\"text-align:center\"><code>isVarArgs()</code></td>\n<td style=\"text-align:center\">åˆ¤æ–­æ–¹æ³•æ˜¯å¦å¸¦æœ‰å¯å˜å‚æ•°ï¼Œå¦‚æœå°†æ­¤æ–¹æ³•å£°æ˜ä¸ºå¸¦æœ‰å¯å˜æ•°é‡çš„å‚æ•°ï¼Œåˆ™è¿”å› <code>true</code>  å¦åˆ™è¿”å› <code>false</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>String</code></td>\n<td style=\"text-align:center\"><code>toGenericString()</code></td>\n<td style=\"text-align:center\">è¿”å›æè¿°æ­¤ <code>Method</code>  çš„å­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬ç±»å‹å‚æ•°</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><code>getReturnType</code>  å’Œ <code>getGenericReturnType</code>  æ–¹æ³•éƒ½æ˜¯è·å– <code>Method</code>  å¯¹è±¡è¡¨ç¤ºçš„æ–¹æ³•çš„è¿”å›ç±»å‹ï¼Œåªä¸è¿‡å‰è€…è¿”å›çš„ <code>Class</code>  ç±»å‹ï¼Œåè€…è¿”å›çš„æ˜¯ <code>Type</code> ï¼Œ <code>Type</code>  åªæ˜¯ä¸€ä¸ªæ¥å£è€Œå·²ï¼Œåœ¨ <code>Java8</code>  ä¸­æ–°å¢äº†ä¸€ä¸ªé»˜è®¤çš„æ–¹æ³•å®ç°ï¼Œè¿”å›çš„å°±æ˜¯å‚æ•°ç±»å‹ä¿¡æ¯ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Type.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Type</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">// è‡ª 1.8 æ–°å¢</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">default</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getTypeName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è€Œ <code>getParameterTypes</code>  è·Ÿ <code>getGenericParameterTypes</code>  æ–¹æ³•ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ï¼Œéƒ½æ˜¯è·å– <code>Method</code>  å¯¹è±¡æ‰€è¡¨ç¤ºçš„æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼Œå…¶å®ƒæ–¹æ³•ä¸å‰é¢çš„ <code>Field</code>  å’Œ <code>Constructor</code>  æ˜¯ç±»ä¼¼çš„ã€‚</p>\n</blockquote>\n<h1 id=\"åå°„åŒ…ä¸­çš„arrayç±»\"><a class=\"anchor\" href=\"#åå°„åŒ…ä¸­çš„arrayç±»\">#</a> åå°„åŒ…ä¸­çš„ Array ç±»</h1>\n<blockquote>\n<p>åœ¨ <code>Java</code>  ä¸­çš„ <code>java.lang.reflect</code>  åŒ…ä¸­å­˜åœ¨ç€ä¸€ä¸ªå¯ä»¥åŠ¨æ€æ“ä½œæ•°ç»„çš„ç±»ï¼š <code>Array</code>  ç±»å®ƒæä¾›äº†åŠ¨æ€åˆ›å»ºå’Œè®¿é—® <code>Java</code>  æ•°ç»„çš„æ–¹æ³•ï¼Œ <code>Array</code>  å…è®¸åœ¨æ‰§è¡Œ <code>get</code>  å’Œ <code>set</code>  æ—¶è¿›è¡Œå–å€¼å’Œèµ‹å€¼æ“ä½œï¼Œ <code>Class</code>  ç±»ä¸­ä¸æ•°ç»„å…³è”çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">è¿”å›å€¼</th>\n<th style=\"text-align:center\">æ–¹æ³•åç§°</th>\n<th style=\"text-align:center\">è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>Class&lt;?&gt;</code></td>\n<td style=\"text-align:center\"><code>getComponentType()</code></td>\n<td style=\"text-align:center\">è¿”å›è¡¨ç¤ºæ•°ç»„å…ƒç´ ç±»å‹çš„ <code>Class</code>  å³æ•°ç»„çš„ç±»å‹</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>boolean</code></td>\n<td style=\"text-align:center\"><code>isArray()</code></td>\n<td style=\"text-align:center\">åˆ¤å®šæ­¤ <code>Class</code>  å¯¹è±¡æ˜¯å¦è¡¨ç¤ºä¸€ä¸ªæ•°ç»„ç±»</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>åœ¨ <code>java.lang.reflect.Array</code>  ä¸­çš„å¸¸ç”¨é™æ€æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">è¿”å›å€¼</th>\n<th style=\"text-align:center\">æ–¹æ³•åç§°</th>\n<th style=\"text-align:center\">è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>static Object</code></td>\n<td style=\"text-align:center\"><code>set(Object array, int index)</code></td>\n<td style=\"text-align:center\">è¿”å›æŒ‡å®šæ•°ç»„å¯¹è±¡ä¸­ç´¢å¼•ç»„ä»¶çš„å€¼</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>static int </code></td>\n<td style=\"text-align:center\"><code>getLength(Object array)</code></td>\n<td style=\"text-align:center\">ä»¥ <code>int</code>  å½¢å¼è¿”å›æŒ‡å®šæ•°ç»„å¯¹è±¡çš„é•¿åº¦</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>static object</code></td>\n<td style=\"text-align:center\"><code>newInstance(Class&lt;?&gt; componentType, int... dimensions)</code></td>\n<td style=\"text-align:center\">åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šç±»å‹å’Œç»´åº¦çš„æ–°æ•°ç»„</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>static Object</code></td>\n<td style=\"text-align:center\"><code>newInstance(Class&lt;?&gt; componentType, int length)</code></td>\n<td style=\"text-align:center\">åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šçš„ç»„ä»¶ç±»å‹å’Œé•¿åº¦çš„æ–°æ•°ç»„</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>static void</code></td>\n<td style=\"text-align:center\"><code>set(Object array, int index, Object value)</code></td>\n<td style=\"text-align:center\">å°†æŒ‡å®šæ•°ç»„å¯¹è±¡ä¸­ç´¢å¼•ç»„ä»¶çš„å€¼è®¾ç½®ä¸ºæŒ‡å®šçš„æ–°å€¼</td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ArrayDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Array</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: Array å¸¸ç”¨æ–¹æ³•ä½¿ç”¨</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-11-14 15:50</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ArrayDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> array <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\">// è·å–æ•°ç»„ç±»å‹çš„ Class å³ int.class</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> array<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getComponentType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šçš„ç»„ä»¶ç±»å‹å’Œé•¿åº¦çš„æ–°æ•°ç»„ã€‚</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">// ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæ•°ç»„çš„ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼šæ•°ç»„çš„é•¿åº¦</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">Object</span> newArr <span class=\"token operator\">=</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span>clazz<span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">// è·å–åŸæ•°ç»„çš„é•¿åº¦</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">int</span> co <span class=\"token operator\">=</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span><span class=\"token function\">getLength</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">// èµ‹å€¼åŸæ•°ç»„åˆ°æ–°æ•°ç»„</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">arraycopy</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> newArr<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> co<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token operator\">:</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> newArr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">+</span><span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºäº†ä¸€ä¸ªé•¿åº¦ä¸º 10 çš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œ</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token comment\">// æ¥ç€æŠŠç´¢å¼•ä½ç½®ä¸º 6 çš„å…ƒç´ è®¾ä¸º \"hello world!\"ï¼Œç„¶åå†è¯»å–ç´¢å¼•ä½ç½®ä¸º 6 çš„å…ƒç´ çš„å€¼</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz2 <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"java.lang.String\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 10 çš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œåœ¨ Java ä¸­æ•°ç»„ä¹Ÿå¯ä»¥ä½œä¸º Object å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token class-name\">Object</span> array2 <span class=\"token operator\">=</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span>clazz2<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">// æŠŠå­—ç¬¦ä¸²æ•°ç»„å¯¹è±¡çš„ç´¢å¼•ä½ç½®ä¸º 6 çš„å…ƒç´ è®¾ç½®ä¸º \"hello\"</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>array2<span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"hello world!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token comment\">// è·å¾—å­—ç¬¦ä¸²æ•°ç»„å¯¹è±¡çš„ç´¢å¼•ä½ç½®ä¸º 5 çš„å…ƒç´ çš„å€¼</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token class-name\">String</span> str <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>array2<span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        æ‰§è¡Œç»“æœï¼š</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        1,2,3,4,5,6,7,8,9,0,0,0,0,0,0,</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        hello world!</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸Šè¿°ä»£ç æ¼”ç¤ºç¡®å®å¯ä»¥åˆ©ç”¨ <code>Array</code>  ç±»å’Œåå°„ç»“åˆåŠ¨æ€åˆ›å»ºæ•°ç»„ï¼Œä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€è·å–å’Œè®¾ç½®æ•°ç»„ä¸­å…ƒç´ çš„å€¼ï¼Œå…¶å®é™¤äº†ä»¥ä¸Šçš„ <code>set</code>   <code>get</code>  å¤– <code>Array</code>  è¿˜ä¸“é—¨ä¸ºå…«ç§åŸºæœ¬ç±»å‹æä¾›äº†ç‰¹æœ‰çš„æ–¹æ³•ï¼Œå¦‚ï¼š <code>setInt</code> ã€ <code>getInt</code> ã€ <code>setBoolean</code> ã€ <code>getBoolean</code>  ç­‰ï¼Œéœ€è¦æ—¶æŸ¥çœ‹ API æ–‡æ¡£å³å¯ï¼Œé™¤äº†ä¸Šè¿°åŠ¨æ€ä¿®æ”¹æ•°ç»„é•¿åº¦æˆ–è€…åŠ¨æ€åˆ›å»ºæ•°ç»„å’ŒåŠ¨æ€è·å–å€¼å’Œè®¾ç½®å€¼å¤–ï¼Œå¯ä»¥åˆ©ç”¨æ³›å‹åŠ¨æ€åˆ›å»ºæ³›å‹æ•°ç»„ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * @Description: Array å¸¸ç”¨æ–¹æ³•ä½¿ç”¨</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @DateTime: 2023-11-14 15:50</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ArrayDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>   * æ¥æ”¶ä¸€ä¸ªæ³›å‹æ•°ç»„ï¼Œåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸æ¥æ”¶çš„æ•°ç»„é•¿åº¦ä¸€æ ·çš„æ³›å‹æ•°ç»„ï¼Œå¹¶æŠŠæ¥æ”¶çš„æ•°ç»„çš„å…ƒç´ å¤åˆ¶åˆ°æ–°åˆ›å»ºçš„æ•°ç»„ä¸­ï¼Œæœ€åæ‰¾å‡ºæ–°æ•°ç»„ä¸­çš„æœ€å°å…ƒç´ ï¼Œå¹¶æ‰“å°å‡ºæ¥</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>   * @param a æ³›å‹æ•°ç»„</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>   * @param &lt;T> æ³›å‹</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Comparable</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">void</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> a<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">// é€šè¿‡åå°„åˆ›å»ºç›¸åŒç±»å‹çš„æ•°ç»„</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> b <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getComponentType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">arraycopy</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token class-name\">T</span> min <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">boolean</span> flag <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span> t <span class=\"token operator\">:</span> b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>flag<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        min <span class=\"token operator\">=</span> t<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        flag <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">.</span><span class=\"token function\">compareTo</span><span class=\"token punctuation\">(</span>min<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        min <span class=\"token operator\">=</span> t<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>min<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>æ¯•ç«Ÿæˆ‘ä»¬æ— æ³•ç›´æ¥åˆ›å»ºæ³›å‹æ•°ç»„ï¼Œæœ‰äº† <code>Array</code>  çš„åŠ¨æ€åˆ›å»ºæ•°ç»„çš„æ–¹æ³•è¿™ä¸ªæ–‡ä»¶ä¹Ÿå°±è¿åˆƒè€Œè§£äº†ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// æ— æ³•é€šè¿‡ç¼–è¯‘</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>åˆ°è¿™é‡Œåå°„çš„å‡ ä¸ªé‡è¦å¸¸ç”¨çš„å°±åŸºæœ¬ä»‹ç»å®Œäº†ï¼Œä½†æ›´é‡è¦çš„æ˜¯æˆ‘ä»¬åº”è¯¥è®¤è¯†åˆ°åå°„æœºåˆ¶å¹¶æ²¡æœ‰ä»€ä¹ˆç¥å¥‡ä¹‹å¤„ï¼Œå½“é€šè¿‡åå°„ä¸ä¸€ä¸ªæœªçŸ¥ç±»å‹çš„å¯¹è±¡æ‰“äº¤é“æ—¶ï¼Œ <code>JVM</code>  åªä¼šç®€å•çš„æ£€æŸ¥è¿™ä¸ªå¯¹è±¡ï¼Œåˆ¤æ–­è¯¥å¯¹è±¡å±äºå“ªç§ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿåº”è¯¥çŸ¥é“ï¼Œåœ¨ä½¿ç”¨åå°„æœºåˆ¶åˆ›å»ºå¯¹è±¡å‰ï¼Œå¿…é¡»ç¡®ä¿å·²ç»åŠ è½½äº†è¿™ä¸ªç±»çš„ <code>Class</code>  å¯¹è±¡ï¼Œå½“ç„¶è¿™ç‚¹å®Œå…¨ä¸å¿…ç”±æˆ‘ä»¬æ¥æ“ä½œï¼Œæ¯•ç«Ÿåªèƒ½ç”± <code>JVM</code>  æ¥åŠ è½½ï¼Œä½†å¿…é¡»ç¡®ä¿è¯¥ç±»çš„ <code>.class</code>  æ–‡ä»¶å·²å­˜åœ¨å¹¶ä¸” <code>JVM</code>  èƒ½å¤Ÿæ‰¾åˆ°ã€‚<br />\nå…³äº <code>Class</code>  ç±»çš„æ–¹æ³•åœ¨å‰é¢æˆ‘ä»¬åªåˆ†æäº†ä¸»è¦çš„ä¸€äº›æ–¹æ³•ï¼Œä¸‹é¢ä»…åˆ—å‡ºå‰é¢æ²¡æœ‰ä»‹ç»è¿‡åˆå¯èƒ½ç”¨åˆ°çš„ API å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/** </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  *    ä¿®é¥°ç¬¦ã€çˆ¶ç±»ã€å®ç°çš„æ¥å£ã€æ³¨è§£ç›¸å…³ </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  */</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// è·å–ä¿®é¥°ç¬¦ï¼Œè¿”å›å€¼å¯é€šè¿‡ Modifier ç±»è¿›è¡Œè§£è¯»</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">native</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getModifiers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// è·å–çˆ¶ç±»ï¼Œå¦‚æœä¸º Objectï¼Œçˆ¶ç±»ä¸º null</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">native</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">super</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getSuperclass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// å¯¹äºç±»ï¼Œä¸ºè‡ªå·±å£°æ˜å®ç°çš„æ‰€æœ‰æ¥å£ï¼Œå¯¹äºæ¥å£ï¼Œä¸ºç›´æ¥æ‰©å±•çš„æ¥å£ï¼Œä¸åŒ…æ‹¬é€šè¿‡çˆ¶ç±»é—´æ¥ç»§æ‰¿æ¥çš„</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">native</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getInterfaces</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// è‡ªå·±å£°æ˜çš„æ³¨è§£</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">Annotation</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getDeclaredAnnotations</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// æ‰€æœ‰çš„æ³¨è§£ï¼ŒåŒ…æ‹¬ç»§æ‰¿å¾—åˆ°çš„</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">Annotation</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getAnnotations</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">// è·å–æˆ–æ£€æŸ¥æŒ‡å®šç±»å‹çš„æ³¨è§£ï¼ŒåŒ…æ‹¬ç»§æ‰¿å¾—åˆ°çš„</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">A</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Annotation</span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">A</span> <span class=\"token function\">getAnnotation</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">A</span><span class=\"token punctuation\">></span></span> annotationClass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isAnnotationPresent</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Annotation</span><span class=\"token punctuation\">></span></span> annotationClass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">/** </pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  *   å†…éƒ¨ç±»ç›¸å…³</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">// è·å–æ‰€æœ‰çš„ public çš„å†…éƒ¨ç±»å’Œæ¥å£ï¼ŒåŒ…æ‹¬ä»çˆ¶ç±»ç»§æ‰¿å¾—åˆ°çš„</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getClasses</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">// è·å–è‡ªå·±å£°æ˜çš„æ‰€æœ‰çš„å†…éƒ¨ç±»å’Œæ¥å£</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getDeclaredClasses</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\">// å¦‚æœå½“å‰ Class ä¸ºå†…éƒ¨ç±»ï¼Œè·å–å£°æ˜è¯¥ç±»çš„æœ€å¤–éƒ¨çš„ Class å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getDeclaringClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\">// å¦‚æœå½“å‰ Class ä¸ºå†…éƒ¨ç±»ï¼Œè·å–ç›´æ¥åŒ…å«è¯¥ç±»çš„ç±»</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getEnclosingClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token comment\">// å¦‚æœå½“å‰ Class ä¸ºæœ¬åœ°ç±»æˆ–åŒ¿åå†…éƒ¨ç±»ï¼Œè¿”å›åŒ…å«å®ƒçš„æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">Method</span> <span class=\"token function\">getEnclosingMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token comment\">/** </pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  *    Class å¯¹è±¡ç±»å‹åˆ¤æ–­ç›¸å…³</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  */</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token comment\">// æ˜¯å¦æ˜¯æ•°ç»„</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">native</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token comment\">// æ˜¯å¦æ˜¯åŸºæœ¬ç±»å‹</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">native</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isPrimitive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token comment\">// æ˜¯å¦æ˜¯æ¥å£</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">native</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isInterface</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token comment\">// æ˜¯å¦æ˜¯æšä¸¾</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isEnum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token comment\">// æ˜¯å¦æ˜¯æ³¨è§£</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isAnnotation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token comment\">// æ˜¯å¦æ˜¯åŒ¿åå†…éƒ¨ç±»</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isAnonymousClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token comment\">// æ˜¯å¦æ˜¯æˆå‘˜ç±»</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isMemberClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre><span class=\"token comment\">// æ˜¯å¦æ˜¯æœ¬åœ°ç±»</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isLocalClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure>",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaæ·±å…¥ç†è§£",
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaé«˜çº§ç‰¹æ€§",
                "Javaåå°„",
                "Javaæ·±å…¥ç†è§£"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E6%B3%A8%E8%A7%A3%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/Java%E6%B3%A8%E8%A7%A3%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3/",
            "title": "Javaæ³¨è§£æ·±å…¥ç†è§£",
            "date_published": "2023-11-09T07:38:00.000Z",
            "content_html": "<blockquote>\n<p><code>Java</code>  æ³¨è§£æ˜¯åœ¨ <code>JDK5</code>  å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œç›®å‰å¤§éƒ¨åˆ†æ¡†æ¶éƒ½ä½¿ç”¨äº†æ³¨è§£ç®€åŒ–ä»£ç å¹¶æé«˜ç¼–ç æ•ˆç‡ï¼Œå› æ­¤æŒæ¡å¹¶æ·±å…¥ç†è§£ <code>Java</code>  æ³¨è§£å¯¹äºä¸€ä¸ª <code>Java</code>  å·¥ç¨‹å¸ˆæ¥è¯´æ˜¯å¾ˆæœ‰å¿…è¦çš„äº‹ã€‚<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRlZS5jb20vUmFpblNhdWNlL2phdmEtYW5ub3RhdGlvbnMtZGVtbw==\">ğŸš€æœ¬ç¯‡ç« ä»£ç  Demo</span></p>\n</blockquote>\n<h1 id=\"ç†è§£æ³¨è§£\"><a class=\"anchor\" href=\"#ç†è§£æ³¨è§£\">#</a> ç†è§£æ³¨è§£</h1>\n<ul>\n<li><code>Java</code>  æ³¨è§£ä¸æ™®é€šä¿®é¥°ç¬¦ <code>public</code>   <code>static</code>   <code>void</code>  çš„ä½¿ç”¨æ–¹æ³•å¹¶æ²¡æœ‰å¤šå¤§åŒºåˆ«ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DemoApplicationTests.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">.</span>jupiter<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Test</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>boot<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SpringBootTest</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token annotation punctuation\">@SpringBootTest</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">DemoApplicationTests</span> <span class=\"token punctuation\">&#123;</span> </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token comment\">//@Test æ³¨è§£ä¿®é¥°æ–¹æ³• a å¯ç›´æ¥æµ‹è¯•æ­¤æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token annotation punctuation\">@Test</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">public</span>  <span class=\"token keyword\">void</span> <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Test...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token comment\">// ä¸€ä¸ªæ–¹æ³•ä¸Šå¯ä»¥æ‹¥æœ‰å¤šä¸ªä¸åŒçš„æ³¨è§£</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token annotation punctuation\">@Deprecated</span> <span class=\"token comment\">// æ ‡è¯†è¿‡æ—¶æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token annotation punctuation\">@SuppressWarnings</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"uncheck\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// å‹åˆ¶ç¼–è¯‘å™¨è­¦å‘Š</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>åœ¨æ–¹æ³•ä¸Šé€šè¿‡ä½¿ç”¨ <code>@Test</code>  æ³¨è§£åï¼Œåœ¨è¿è¡Œè¯¥æ–¹æ³•æ—¶ï¼Œæµ‹è¯•æ¡†æ¶ä¼šè‡ªåŠ¨è¯†åˆ«è¯¥æ–¹æ³•å¹¶å•ç‹¬è°ƒç”¨ã€‚</li>\n<li><code>@Test</code>  æ˜¯ä¸€ç§æ ‡è®°æ³¨è§£ï¼Œèµ·æ ‡è®°ä½œç”¨ï¼Œè¿è¡Œæ—¶å‘Šè¯‰æµ‹è¯•æ¡†æ¶è¯¥æ–¹æ³•ä¸ºæµ‹è¯•æ–¹æ³•ã€‚</li>\n<li><code>@Deprecated</code>  å’Œ <code>@SuppressWarnings(â€œuncheckâ€)</code>  åˆ™æ˜¯ <code>Java</code>  æœ¬èº«å†…ç½®çš„æ³¨è§£ã€‚</li>\n<li><code>@Deprecated</code> ï¼šä½¿ç”¨æ­¤æ³¨è§£æ ‡è®°çš„ç±»æˆ–æ–¹æ³•å·²è¿‡æœŸä¸å»ºè®®å†ä½¿ç”¨ã€‚</li>\n<li><code>@SuppressWarnings(â€œuncheckâ€)</code> ï¼šåœ¨æ–¹æ³•ä¸Šä½¿ç”¨æ­¤æ³¨è§£åˆ™è¡¨ç¤ºå¿½ç•¥æŒ‡å®šè­¦å‘Šã€‚</li>\n</ul>\n<h1 id=\"æ³¨è§£åŸºæœ¬ä½¿ç”¨\"><a class=\"anchor\" href=\"#æ³¨è§£åŸºæœ¬ä½¿ç”¨\">#</a> æ³¨è§£åŸºæœ¬ä½¿ç”¨</h1>\n<h2 id=\"å£°æ˜å…ƒæ³¨è§£\"><a class=\"anchor\" href=\"#å£°æ˜å…ƒæ³¨è§£\">#</a> å£°æ˜å…ƒæ³¨è§£</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * è‡ªå®šä¹‰ Test æ³¨è§£</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// ç”¨ä½œäºæ–¹æ³•</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>METHOD<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">// ä¿ç•™åˆ°è¿è¡ŒæœŸé—´</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li><code>@interface</code> : å£°æ˜ <code>Test</code>  æ³¨è§£ç±»ã€‚</li>\n<li><code>@Target</code>  æ³¨è§£ä¼ å…¥ <code>ElementType.METHOD</code>  å‚æ•°æ¥æ ‡è®°æ­¤æ³¨è§£åªèƒ½ç”¨ä½œäºæ–¹æ³•ä¸Šã€‚</li>\n<li><code>@Retention</code>  æ³¨è§£ä¼ å…¥ <code>RetentionPolicy.RUNTIME</code>  åˆ™ç”¨è¡¨ç¤ºè¯¥æ³¨è§£ä¿ç•™åˆ°è¿è¡ŒæœŸé—´ã€‚</li>\n<li>å¯¹äº <code>@Target</code>  å’Œ <code>@Retention</code>  æ˜¯ç”± <code>Java</code>  æä¾›çš„å…ƒæ³¨è§£ï¼Œæ‰€è°“å…ƒæ³¨è§£å°±æ˜¯æ ‡è®°å…¶ä»–æ³¨è§£çš„æ ¹æ³¨è§£ã€‚</li>\n<li><code>@Target</code>  ç”¨æ¥çº¦æŸæ³¨è§£å¯ä»¥ä½œç”¨çš„åœ°æ–¹å¦‚æ–¹æ³•ã€å­—æ®µã€ç±»ï¼Œå…¶ä¸­ <code>ElementType</code>  æ˜¯æšä¸¾ç±»å‹ï¼Œå‚æ•°å¦‚ä¸‹ç¤ºä¾‹ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ElementType.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>enums</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * æšä¸¾ç±»å‹å¯ç”¨å€¼</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">ElementType</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token comment\">/** æ ‡æ˜è¯¥æ³¨è§£å¯ä»¥ç”¨äºç±»ã€æ¥å£ï¼ˆåŒ…æ‹¬æ³¨è§£ç±»å‹ï¼‰æˆ– enum å£°æ˜ */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  TYPE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token comment\">/** æ ‡æ˜è¯¥æ³¨è§£å¯ä»¥ç”¨äºå­—æ®µ (åŸŸ) å£°æ˜ï¼ŒåŒ…æ‹¬ enum å®ä¾‹ */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  FIELD<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token comment\">/** æ ‡æ˜è¯¥æ³¨è§£å¯ä»¥ç”¨äºæ–¹æ³•å£°æ˜ */</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  METHOD<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token comment\">/** æ ‡æ˜è¯¥æ³¨è§£å¯ä»¥ç”¨äºå‚æ•°å£°æ˜ */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  PARAMETER<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token comment\">/** æ ‡æ˜æ³¨è§£å¯ä»¥ç”¨äºæ„é€ å‡½æ•°å£°æ˜ */</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  CONSTRUCTOR<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token comment\">/** æ ‡æ˜æ³¨è§£å¯ä»¥ç”¨äºå±€éƒ¨å˜é‡å£°æ˜ */</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  LOCAL_VARIABLE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token comment\">/** æ ‡æ˜æ³¨è§£å¯ä»¥ç”¨äºæ³¨è§£å£°æ˜ (åº”ç”¨äºå¦ä¸€ä¸ªæ³¨è§£ä¸Š) */</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  ANNOTATION_TYPE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token comment\">/** æ ‡æ˜æ³¨è§£å¯ä»¥ç”¨äºåŒ…å£°æ˜ */</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  PACKAGE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>   * æ ‡æ˜æ³¨è§£å¯ä»¥ç”¨äºç±»å‹å‚æ•°å£°æ˜ï¼ˆ1.8 æ–°åŠ å…¥ï¼‰</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>   * @since 1.8</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  TYPE_PARAMETER<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>   * ç±»å‹ä½¿ç”¨å£°æ˜ï¼ˆ1.8 æ–°åŠ å…¥)</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>   * @since 1.8</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  TYPE_USE</pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>æ³¨æ„ï¼šå½“æ³¨è§£æœªæŒ‡å®š <code>Target</code>  å€¼æ—¶ï¼Œæ­¤æ³¨è§£å¯ä»¥ç”¨äºä»»ä½•å…ƒç´ ä¹‹ä¸Šï¼Œå¤šä¸ªå€¼ä½¿ç”¨ <code>&#123;&#125;</code>  åŒ…å«å¹¶ç”¨é€—å·éš”å¼€ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Test2.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token keyword\">static</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>*<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * è‡ªå®šä¹‰ Test2 æ³¨è§£ç¤ºä¾‹å¯ä½¿ç”¨å¤šä¸ªå€¼çš„ @Target</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>CONSTRUCTOR<span class=\"token punctuation\">,</span> FIELD<span class=\"token punctuation\">,</span> LOCAL_VARIABLE<span class=\"token punctuation\">,</span> METHOD<span class=\"token punctuation\">,</span> PACKAGE<span class=\"token punctuation\">,</span> PARAMETER<span class=\"token punctuation\">,</span> TYPE<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">Test2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li><code>@Retention</code>  å…ƒæ³¨è§£ç”¨æ¥çº¦æŸæ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼Œåˆ†åˆ«æœ‰ä¸‰ä¸ªå€¼ï¼š\n<ul>\n<li><code>SOURCE(æºç çº§åˆ«)</code>  æ³¨è§£å°†è¢«ç¼–è¯‘å™¨ä¸¢å¼ƒï¼Œè¯¥ç±»å‹çš„æ³¨è§£ä¿¡æ¯åªä¼šä¿ç•™åœ¨æºç ä¸­ï¼Œæºç ç»è¿‡ç¼–è¯‘åï¼Œæ³¨è§£ä¿¡æ¯å°†è¢«ä¸¢å¼ƒï¼Œä¸ä¼šä¿ç•™è¿›ç¼–è¯‘å¥½çš„ <code>class</code>  æ–‡ä»¶ä¸­ã€‚</li>\n<li><code>CLASS(ç±»æ–‡ä»¶çº§åˆ«)</code>  æ³¨è§£å°†ä¼šè¢«ä¿ç•™åˆ° <code>class</code>  æ–‡ä»¶ä¸­ï¼Œä½†ä¼šè¢« <code>Java</code>  è™šæ‹Ÿæœºçš„ <code>VM</code>  ä¸¢å¼ƒï¼Œè¯¥ç±»å‹çš„æ³¨è§£ä¿¡æ¯ä¼šä¿ç•™åœ¨æºç å’Œ <code>class</code>  æ–‡ä»¶ä¸­ï¼Œåœ¨æ‰§è¡Œæ—¶ä¸ä¼šåŠ è½½åˆ°è™šæ‹Ÿæœºä¸­ï¼Œè¯·æ³¨æ„ï¼šå½“æ³¨è§£æœªå®šä¹‰ <code>Retention</code>  å€¼æ—¶ï¼Œé»˜è®¤å€¼æ˜¯ <code>CLASS</code> , å¦‚ <code>Java</code>  å†…ç½®æ³¨è§£ï¼š <code>@Override</code>   <code>@Deprecated</code>   <code>@SuppressWarnning</code>  ç­‰ã€‚</li>\n<li><code>RUNTIME(è¿è¡Œæ—¶çº§åˆ«)</code>  æ³¨è§£å°†ä¿ç•™åˆ°è¿è¡ŒæœŸ ( <code>JVM</code> ) ä¸­ï¼Œå› æ­¤å¯ä»¥é€šè¿‡åå°„æœºåˆ¶è¯»å–æ³¨è§£çš„ä¿¡æ¯ (æºç ã€ <code>class</code>  æ–‡ä»¶å’Œæ‰§è¡Œçš„æ—¶å€™éƒ½æœ‰æ³¨è§£ä¿¡æ¯)ï¼Œå¦‚ï¼š <code>SpringMvc</code>  ä¸­çš„ <code>@Controller</code> ã€ <code>@Autowired</code> ã€ <code>@RequestMapping</code>  ç­‰ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"æ³¨è§£å…ƒç´ åŠå…¶æ•°æ®ç±»å‹\"><a class=\"anchor\" href=\"#æ³¨è§£å…ƒç´ åŠå…¶æ•°æ®ç±»å‹\">#</a> æ³¨è§£å…ƒç´ åŠå…¶æ•°æ®ç±»å‹</h2>\n<ul>\n<li>é€šè¿‡ä¸Šè¿°å¯¹ <code>@Test</code>  æ³¨è§£çš„å®šä¹‰ï¼Œæˆ‘ä»¬äº†è§£äº†æ³¨è§£å®šä¹‰çš„è¿‡ç¨‹ï¼Œç”±äº <code>@Test</code>  å†…éƒ¨æ²¡æœ‰å®šä¹‰å…¶ä»–å…ƒç´ ã€‚</li>\n<li>æ‰€ä»¥ <code>@Test</code>  ä¹Ÿç§°ä¸ºæ ‡è®°æ³¨è§£ <code>marker annotation</code> , ä½†åœ¨è‡ªå®šä¹‰æ³¨è§£ä¸­ä¸€èˆ¬éƒ½ä¼šåŒ…å«ä¸€äº›å…ƒç´ ä»¥è¡¨ç¤ºæŸäº›å€¼ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DBTable.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * å¯¹åº”æ•°æ®è¡¨æ³¨è§£</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// ä½œç”¨äºç±»ä¸Š</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">// ä¿ç•™åˆ°è¿è¡ŒæœŸ</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">DBTable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token class-name\">String</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>ä¸Šè¿°å®šä¹‰äº†ä¸€ä¸ªåä¸º <code>DBTable</code>  çš„æ³¨è§£ï¼Œè¯¥æ³¨è§£ä¸»è¦ç”¨äºæ•°æ®åº“è¡¨ä¸ <code>Bean</code>  ç±»çš„æ˜ å°„ï¼Œä¸å‰é¢ <code>Test</code>  æ³¨è§£ä¸åŒçš„æ˜¯æˆ‘ä»¬å£°æ˜ä¸€ä¸ª <code>String</code>  ç±»å‹çš„ <code>name</code>  å…ƒç´ ï¼Œå…¶é»˜è®¤å€¼ä¸ºç©ºã€‚</li>\n<li>ä½†æ˜¯å¿…é¡»æ³¨æ„åˆ°å¯¹åº”ä»»ä½•å…ƒç´ çš„å£°æ˜é‡‡ç”¨æ–¹æ³•çš„å£°æ˜æ–¹å¼ï¼ŒåŒæ—¶å¯é€‰æ‹©ä½¿ç”¨ <code>default</code>  æä¾›é»˜è®¤å€¼ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Member.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: æ•°æ®è¡¨å®ä½“æ˜ å°„</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-11-10 16:02</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">// åœ¨ç±»ä¸Šä½¿ç”¨è¯¥æ³¨è§£</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token annotation punctuation\">@DBTable</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"MEMBER\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Member</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">//...</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>å…³äºæ³¨è§£æ”¯æŒçš„å…ƒç´ æ•°æ®ç±»å‹å¦‚ä¸‹ï¼š\n<ul>\n<li><code>int</code></li>\n<li><code>float</code></li>\n<li><code>boolean</code></li>\n<li><code>byte</code></li>\n<li><code>double</code></li>\n<li><code>char</code></li>\n<li><code>long</code></li>\n<li><code>short</code></li>\n<li><code>String</code></li>\n<li><code>Class</code></li>\n<li><code>enum</code></li>\n<li><code>Annotation</code></li>\n<li>ä»¥åŠä¸Šè¿°ç±»å‹çš„æ•°ç»„</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p><span class=\"red\">æ³¨æ„ï¼š</span>å¦‚ä½¿ç”¨äº†å…¶å®ƒæ•°æ®ç±»å‹ï¼Œç¼–è¯‘å™¨å°†ä¼šä¸¢å‡ºä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼Œå£°æ˜æ³¨è§£å…ƒç´ æ—¶å¯ä»¥ä½¿ç”¨åŸºæœ¬ç±»å‹ä½†ä¸å…è®¸ä½¿ç”¨ä»»ä½•åŒ…è£…ç±»å‹ï¼ŒåŒæ—¶è¿˜åº”è¯¥æ³¨æ„åˆ°æ³¨è§£ä¹Ÿå¯ä»¥ä½œä¸ºå…ƒç´ çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯æ³¨è§£åµŒå¥—ï¼Œä»¥ä¸‹ä»£ç æ¼”ç¤ºä¸Šè¿°ç±»å‹çš„ä½¿ç”¨ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AnnotationElementDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * æ•°æ®ç±»å‹ä½¿ç”¨ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">Reference</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">boolean</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"18\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"19\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">AnnotationElementDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>   * æšä¸¾ç±»å‹</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token keyword\">enum</span> <span class=\"token class-name\">Status</span> <span class=\"token punctuation\">&#123;</span>FIXED<span class=\"token punctuation\">,</span> NORMAL<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>   * å£°æ˜æšä¸¾</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>   * @return Status</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token class-name\">Status</span> <span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token class-name\">Status</span><span class=\"token punctuation\">.</span>FIXED<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>   * å¸ƒå°”ç±»å‹</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>   * @return boolean</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  <span class=\"token keyword\">boolean</span> <span class=\"token function\">showSupport</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>   * String ç±»å‹</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>   * @return String</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>  <span class=\"token class-name\">String</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>   * class ç±»å‹</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>   * @return Class</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>  <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">testCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token class-name\">Void</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"51\"></td><td><pre>   * æ³¨è§£åµŒå¥—</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>   * @return Reference</pre></td></tr><tr><td data-num=\"53\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>  <span class=\"token class-name\">Reference</span> <span class=\"token function\">reference</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token annotation punctuation\">@Reference</span><span class=\"token punctuation\">(</span>next <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"57\"></td><td><pre>   * æ•°ç»„ç±»å‹</pre></td></tr><tr><td data-num=\"58\"></td><td><pre>   * @return long []</pre></td></tr><tr><td data-num=\"59\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>  <span class=\"token keyword\">long</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"ç¼–è¯‘å™¨å¯¹é»˜è®¤å€¼çš„é™åˆ¶\"><a class=\"anchor\" href=\"#ç¼–è¯‘å™¨å¯¹é»˜è®¤å€¼çš„é™åˆ¶\">#</a> ç¼–è¯‘å™¨å¯¹é»˜è®¤å€¼çš„é™åˆ¶</h2>\n<ul>\n<li>ç¼–è¯‘å™¨å¯¹å…ƒç´ çš„é»˜è®¤å€¼æœ‰äº›æŒ‘å‰”ã€‚</li>\n<li>é¦–å…ˆï¼Œå…ƒç´ ä¸èƒ½æœ‰ä¸ç¡®å®šçš„å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´å…ƒç´ å¿…é¡»è¦ä¹ˆå…·æœ‰é»˜è®¤å€¼ï¼Œè¦ä¹ˆåœ¨ä½¿ç”¨æ³¨è§£æ—¶æä¾›å…ƒç´ çš„å€¼ã€‚</li>\n<li>å…¶æ¬¡ï¼Œå¯¹äºéåŸºæœ¬ç±»å‹çš„å…ƒç´ ï¼Œæ— è®ºæ˜¯åœ¨æºä»£ç ä¸­å£°æ˜è¿˜æ˜¯åœ¨æ³¨è§£æ¥å£ä¸­å®šä¹‰é»˜è®¤å€¼ï¼Œéƒ½ä¸èƒ½ä»¥ <code>null</code>  ä½œä¸ºå€¼ã€‚</li>\n<li>ä½†é€ æˆä¸€ä¸ªå…ƒç´ çš„å­˜åœ¨æˆ–ç¼ºå¤±çŠ¶æ€ï¼Œå› ä¸ºæ¯ä¸ªæ³¨è§£çš„å£°æ˜ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½å­˜åœ¨ï¼Œå¹¶ä¸”éƒ½å…·æœ‰ç›¸åº”çš„å€¼ä¸ºäº†ç»•å¼€è¿™ä¸ªé™åˆ¶åªèƒ½å®šä¹‰ä¸€äº›ç‰¹æ®Šå€¼ï¼Œä¾‹å¦‚ï¼šç©ºå­—ç¬¦ä¸²æˆ–è´Ÿæ•°æ¥è¡¨ç¤ºæŸä¸ªå…ƒç´ ä¸å­˜åœ¨ã€‚</li>\n</ul>\n<h2 id=\"æ³¨è§£ä¸èƒ½ç»§æ‰¿\"><a class=\"anchor\" href=\"#æ³¨è§£ä¸èƒ½ç»§æ‰¿\">#</a> æ³¨è§£ä¸èƒ½ç»§æ‰¿</h2>\n<ul>\n<li>æ³¨è§£æ˜¯ä¸æ”¯æŒç»§æ‰¿çš„ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨å…³é”®å­— <code>extends</code>  æ¥ç»§æ‰¿æŸä¸ª <code>@interface</code> ã€‚</li>\n<li>ä½†æ³¨è§£åœ¨ç¼–è¯‘åï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç»§æ‰¿ <code>java.lang.annotation.Annotation</code>  æ¥å£ã€‚</li>\n<li>æˆ‘ä»¬è¿™é‡Œåç¼–è¯‘ä¸€ä¸‹å‰é¢å®šä¹‰çš„ <code>DBTable</code>  æ³¨è§£ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DBTable.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Annotation</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// åç¼–è¯‘åçš„ä»£ç </span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">DBTable</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Annotation</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token class-name\">String</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>è™½ç„¶åç¼–è¯‘åå‘ç° <code>DBTable</code>  æ³¨è§£ç»§æ‰¿äº† <code>Annotation</code>  æ¥å£ï¼Œè¯·è®°ä½å³ä½¿ <code>Java</code>  çš„æ¥å£å¯ä»¥å®ç°å¤šç»§æ‰¿ï¼Œä½†å®šä¹‰æ³¨è§£æ—¶ä¾ç„¶æ— æ³•ä½¿ç”¨ <code>extends</code>  å…³é”®å­—æ¥ç»§æ‰¿ <code>@interface</code> ã€‚</p>\n</blockquote>\n<h2 id=\"å¿«æ·æ–¹å¼\"><a class=\"anchor\" href=\"#å¿«æ·æ–¹å¼\">#</a> å¿«æ·æ–¹å¼</h2>\n<ul>\n<li>å¿«æ·æ–¹å¼å³ä½¿æ³¨è§£ä¸­å®šä¹‰äº†åä¸º <code>value</code>  çš„å…ƒç´ ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨è¯¥æ³¨è§£æ˜¯ï¼Œå¦‚æœè¯¥å…ƒç´ æ˜¯å”¯ä¸€éœ€è¦èµ‹å€¼çš„ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆæ­¤æ—¶æ— éœ€ä½¿ç”¨ <code>key=value</code>  çš„è¯­æ³•ã€‚</li>\n<li>åªéœ€è¦åœ¨æ‹¬å·å†…ç»™å‡º <code>value</code>  å…ƒç´ æ‰€éœ€è¦çš„å€¼å³å¯ï¼Œè¿™å¯ä»¥åº”ç”¨äºä»»ä½•åˆæ³•ç±»å‹çš„å…ƒç´ ï¼Œè®°ä½è¿™é™åˆ¶äº†å…ƒç´ åå¿…é¡»ä¸º <code>value</code> ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>QuicklyWay.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Description: å¿«æ·æ–¹å¼</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @DateTime: 2023-11-10 16:29</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">// å®šä¹‰æ³¨è§£</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>FIELD<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">IntegerValue</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token keyword\">int</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token class-name\">String</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"24\"></td><td><pre> * ä½¿ç”¨æ³¨è§£</pre></td></tr><tr><td data-num=\"25\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"26\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">QuicklyWay</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>   * å½“åªæƒ³ç»™ value èµ‹å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å¿«æ·æ–¹å¼</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token annotation punctuation\">@IntegerValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>   * å½“ name ä¹Ÿéœ€è¦èµ‹å€¼æ—¶å¿…é¡»é‡‡ç”¨ key=value çš„æ–¹å¼èµ‹å€¼</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token annotation punctuation\">@IntegerValue</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token number\">10000</span><span class=\"token punctuation\">,</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"MONEY\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> money<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"å†…ç½®æ³¨è§£ä¸å…¶ä»–å…ƒæ³¨è§£\"><a class=\"anchor\" href=\"#å†…ç½®æ³¨è§£ä¸å…¶ä»–å…ƒæ³¨è§£\">#</a> å†…ç½®æ³¨è§£ä¸å…¶ä»–å…ƒæ³¨è§£</h2>\n<ul>\n<li>Java æä¾›çš„å†…ç½®æ³¨è§£ä¸»è¦æœ‰ <code>5</code>  ä¸ªï¼Œå¦‚ä¸‹ï¼š\n<ul>\n<li><code>@Override</code> : ç”¨äºæ ‡è¯†æ­¤æ–¹æ³•é‡å†™äº†è¶…ç±»çš„æ–¹æ³•ï¼Œ<a href=\"#override\">æºç å¦‚ä¸‹</a>ã€‚</li>\n<li><code>@Deprecated</code> : ç”¨äºæ ‡è¯†è¿‡æ—¶çš„æ–¹æ³•æˆ–ç±»ï¼Œ<a href=\"#deprecated\">æºç å¦‚ä¸‹</a>ã€‚</li>\n<li><code>@SuppressWarnings</code> : ç”¨äºæŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Šï¼Œ<a href=\"#suppresswarnings\">æºç å¦‚ä¸‹</a>ã€‚</li>\n<li><code>@SafeVarargs</code> : ç”¨äºæŠ‘åˆ¶å…³äºå‚æ•°å®‰å…¨æ€§çš„è­¦å‘Šï¼Œ<a href=\"#safevarargs\">æºç å¦‚ä¸‹</a>ã€‚</li>\n<li><code>@FunctionalInterface</code> : ç”¨äºæ ‡è¯†ä¸€ä¸ªæ¥å£ç±»å‹å£°æ˜æ˜¯ä¸€ä¸ªå‡½æ•°æ¥å£ï¼Œ<a href=\"#functionalinterface\">æºç å¦‚ä¸‹</a>ã€‚</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"override\"><a class=\"anchor\" href=\"#override\">#</a> @Override</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Override.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>METHOD<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>SOURCE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">Override</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"deprecated\"><a class=\"anchor\" href=\"#deprecated\">#</a> @Deprecated</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Deprecated.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token keyword\">static</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>*<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token annotation punctuation\">@Documented</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>CONSTRUCTOR<span class=\"token punctuation\">,</span> FIELD<span class=\"token punctuation\">,</span> LOCAL_VARIABLE<span class=\"token punctuation\">,</span> METHOD<span class=\"token punctuation\">,</span> PACKAGE<span class=\"token punctuation\">,</span> MODULE<span class=\"token punctuation\">,</span> PARAMETER<span class=\"token punctuation\">,</span> TYPE<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">Deprecated</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token class-name\">String</span> <span class=\"token function\">since</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">boolean</span> <span class=\"token function\">forRemoval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"suppresswarnings\"><a class=\"anchor\" href=\"#suppresswarnings\">#</a> @SuppressWarnings</h3>\n<ul>\n<li>å†…éƒ¨ <code>String</code>  æ•°ç»„ä¸»è¦æ¥å‚æ•°å¦‚ä¸‹ï¼š\n<ul>\n<li><code>deprecation</code> ï¼šä½¿ç”¨äº†ä¸èµæˆä½¿ç”¨çš„ç±»æˆ–æ–¹æ³•æ—¶çš„è­¦å‘Šã€‚</li>\n<li><code>unchecked</code> ï¼šæ‰§è¡Œäº†æœªæ£€æŸ¥çš„è½¬æ¢æ—¶çš„è­¦å‘Šï¼Œä¾‹å¦‚å½“ä½¿ç”¨é›†åˆæ—¶æœªä½¿ç”¨æ³›å‹ ( <code>Generice</code> ) æ¥æŒ‡å®šé›†åˆä¿å­˜çš„ç±»å‹ã€‚</li>\n<li><code>fallthrough</code> ï¼šå½“ <code>Switch</code>  ç¨‹åºå—ç›´æ¥é€šå¾€ä¸‹ä¸€ç§æƒ…å†µè€Œæ²¡æœ‰ <code>break</code>  æ—¶çš„è­¦å‘Šã€‚</li>\n<li><code>path</code> ï¼šåœ¨ç±»è·¯å¾„ã€æºæ–‡ä»¶è·¯å¾„ç­‰ä¸­æœ‰ä¸å­˜åœ¨çš„è·¯å¾„æ˜¯çš„è­¦å‘Šã€‚</li>\n<li><code>serial</code> ï¼šå½“åœ¨å¯åºåˆ—åŒ–çš„ç±»ä¸Šç¼ºå°‘ <code>serialVersionUID</code>  å®šä¹‰æ—¶çš„è­¦å‘Šã€‚</li>\n<li><code>finally</code> ï¼šç„¶å <code>finally</code>  å­å¥ä¸èƒ½æ­£å¸¸å®Œæˆæ—¶çš„è­¦å‘Šã€‚</li>\n<li><code>all</code> ï¼šå…³äºä»¥ä¸Šæ‰€æœ‰æƒ…å†µçš„è­¦å‘Šã€‚</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SuppressWarnings.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token keyword\">static</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>*<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>TYPE<span class=\"token punctuation\">,</span> FIELD<span class=\"token punctuation\">,</span> METHOD<span class=\"token punctuation\">,</span> PARAMETER<span class=\"token punctuation\">,</span> CONSTRUCTOR<span class=\"token punctuation\">,</span> LOCAL_VARIABLE<span class=\"token punctuation\">,</span> MODULE<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>SOURCE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">SuppressWarnings</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"safevarargs\"><a class=\"anchor\" href=\"#safevarargs\">#</a> @SafeVarargs</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SafeVarargs.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token annotation punctuation\">@Documented</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>CONSTRUCTOR<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>METHOD<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">SafeVarargs</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"functionalinterface\"><a class=\"anchor\" href=\"#functionalinterface\">#</a> @FunctionalInterface</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FunctionalInterface.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token annotation punctuation\">@Documented</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">FunctionalInterface</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"å¦å¤–ä¸¤ç§å…ƒæ³¨è§£\"><a class=\"anchor\" href=\"#å¦å¤–ä¸¤ç§å…ƒæ³¨è§£\">#</a> å¦å¤–ä¸¤ç§å…ƒæ³¨è§£</h2>\n<blockquote>\n<p>å‰é¢æˆ‘ä»¬åˆ†æäº†ä¸¤ç§å…ƒæ³¨è§£ï¼š <code>@Target</code>  å’Œ <code>@Retention</code>  é™¤äº†è¿™ä¸¤ç§å…ƒæ³¨è§£å¤–ï¼Œ <code>Java</code>  è¿˜æä¾›äº†å¦å¤–ä¸¤ç§å…ƒæ³¨è§£ï¼Œ <code>@Documented</code>  å’Œ <code>@Inherited</code> ã€‚</p>\n</blockquote>\n<ul>\n<li><code>@Documented</code> ï¼šè¢«ä¿®é¥°çš„æ³¨è§£ä¼šç”Ÿæˆåˆ° <code>Javadoc</code>  ä¸­ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DocumentDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// ä½¿ç”¨ @Documented</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token annotation punctuation\">@Documented</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">DocumentA</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// æ²¡æœ‰ä½¿ç”¨ @Documented</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">DocumentB</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">// ä½¿ç”¨æ³¨è§£</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token annotation punctuation\">@DocumentA</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token annotation punctuation\">@DocumentB</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DocumentDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä½¿ç”¨ <code>javadoc</code>  å‘½ä»¤ç”Ÿæˆæ–‡æ¡£ï¼š<br />\n <code>javadoc DocumentDemo.java DocumentA.java DocumentB.java </code></p>\n</blockquote>\n<ul>\n<li><code>@Inherited</code> ï¼šå¯ä»¥è®©æ³¨è§£è¢«ç»§æ‰¿ï¼Œä½†è¿™å¹¶ä¸æ˜¯çœŸçš„ç»§æ‰¿ï¼Œåªæ˜¯é€šè¿‡ä½¿ç”¨ <code>@Inherited</code>  å¯ä»¥è®©å­ç±» <code>Class</code>  å¯¹è±¡ä½¿ç”¨ <code>getAnnotations()</code>  æ–¹æ³•æ¥è·å–çˆ¶ç±»è¢« <code>@Inherited</code>  ä¿®é¥°çš„æ³¨è§£ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DocumentA.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * å¸¦ @Inherited çš„æ³¨è§£ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">// ä½¿ç”¨ @Inherited</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token annotation punctuation\">@Inherited</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token annotation punctuation\">@Documented</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span>ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">DocumentA</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DocumentB.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * ä¸å¸¦ @Inherited æ³¨è§£ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">DocumentB</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DocumentDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>clas</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">DocumentA</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">DocumentB</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token annotation punctuation\">@DocumentA</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">A</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">B</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">A</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token annotation punctuation\">@DocumentB</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">C</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">D</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">C</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"25\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"26\"></td><td><pre> * @Description: æµ‹è¯• @Inherited æ³¨è§£</pre></td></tr><tr><td data-num=\"27\"></td><td><pre> * @DateTime: 2023-11-10 16:40</pre></td></tr><tr><td data-num=\"28\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"29\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DocumentDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token class-name\">A</span> instanceA <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">B</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å·²ä½¿ç”¨çš„@Inheritedæ³¨è§£:\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span>instanceA<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAnnotations</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token class-name\">C</span> instanceC <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">D</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ²¡æœ‰ä½¿ç”¨çš„@Inheritedæ³¨è§£:\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span>instanceC<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAnnotations</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>      è¿è¡Œç»“æœ:</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>      å·²ä½¿ç”¨çš„ @Inherited æ³¨è§£:[@top.rem.rain.annotation.demo.custom.annotations.DocumentA ()]</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>      æ²¡æœ‰ä½¿ç”¨çš„ @Inherited æ³¨è§£:[]</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"æ³¨è§£åå°„æœºåˆ¶\"><a class=\"anchor\" href=\"#æ³¨è§£åå°„æœºåˆ¶\">#</a> æ³¨è§£ &amp; åå°„æœºåˆ¶</h1>\n<ul>\n<li>å‰é¢ç»è¿‡åç¼–è¯‘åï¼Œæˆ‘ä»¬çŸ¥é“ <code>Java</code>  æ‰€æœ‰æ³¨è§£éƒ½ç»§æ‰¿äº† <code>Annotation</code>  æ¥å£ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>Java</code>  ä½¿ç”¨ <code>Annotation</code>  æ¥å£ä»£è¡¨æ³¨è§£å…ƒç´ ï¼Œè¯¥æ¥å£æ˜¯æ‰€æœ‰ <code>Annotation</code>  ç±»å‹çš„çˆ¶æ¥å£ã€‚</li>\n<li>åŒæ—¶ä¸ºäº†è¿è¡Œæ—¶èƒ½å‡†ç¡®è·å–åˆ°æ³¨è§£çš„ç›¸å…³ä¿¡æ¯ï¼Œ <code>Java</code>  åœ¨ <code>java.lang.reflect</code>  åå°„åŒ…ä¸‹æ–°å¢äº† <code>AnnotatedElement</code>  æ¥å£ã€‚</li>\n<li>ä¸»è¦ç”¨äºè¡¨ç¤ºç›®å‰æ­£åœ¨ <code>VM</code>  ä¸­è¿è¡Œçš„ç¨‹åºä¸­å·²ä½¿ç”¨æ³¨è§£çš„å…ƒç´ ï¼Œé€šè¿‡è¯¥æ¥å£æä¾›çš„æ–¹æ³•å¯ä»¥åˆ©ç”¨åå°„æŠ€æœ¯è¯»å–æ³¨è§£çš„ä¿¡æ¯ã€‚</li>\n<li>å¦‚åå°„åŒ…çš„ <code>Constructorç±»</code> ã€ <code>Fieldç±»</code> ã€ <code>Methodç±»</code> ã€ <code>Packageç±»</code> å’Œ <code>Classç±»</code> éƒ½å®ç°äº† <code>AnnotatedElement</code>  æ¥å£ã€‚\n<ul>\n<li><code>Class</code> ï¼šç±»çš„ Class å¯¹è±¡å®šä¹‰ã€‚</li>\n<li><code>Constructor</code> ï¼šä»£è¡¨ç±»çš„æ„é€ å™¨å®šä¹‰ã€‚</li>\n<li><code>Field</code> ï¼šä»£è¡¨ç±»çš„æˆå‘˜å˜é‡å®šä¹‰ã€‚</li>\n<li><code>Method</code> ï¼šä»£è¡¨ç±»çš„æ–¹æ³•å®šä¹‰ã€‚</li>\n<li><code>Package</code> ï¼šä»£è¡¨ç±»çš„åŒ…å®šä¹‰ã€‚</li>\n</ul>\n</li>\n<li>ä¸‹é¢æ˜¯ <code>AnnotatedElement</code>  ä¸­ç›¸å…³çš„ API æ–¹æ³•ï¼Œä»¥ä¸Š 5 ä¸ªç±»éƒ½å®ç°ä»¥ä¸‹çš„æ–¹æ³•ã€‚</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">è¿”å›å€¼</th>\n<th style=\"text-align:center\">æ–¹æ³•åç§°</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>&lt;A extends Annotation&gt;</code></td>\n<td style=\"text-align:center\"><code>getAnnotation(Class&lt;A&gt; annotationClass)</code></td>\n<td>è¯¥å…ƒç´ å¦‚æœå­˜åœ¨æŒ‡å®šç±»å‹çš„æ³¨è§£ï¼Œåˆ™è¿”å›è¿™äº›æ³¨è§£ï¼Œå¦åˆ™è¿”å›  <code>null</code> ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Annotation[]</code></td>\n<td style=\"text-align:center\"><code>getAnnotations()</code></td>\n<td>è¿”å›æ­¤å…ƒç´ ä¸Šå­˜åœ¨çš„æ‰€æœ‰æ³¨è§£ï¼ŒåŒ…æ‹¬ä»çˆ¶ç±»ç»§æ‰¿çš„ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>boolean</code></td>\n<td style=\"text-align:center\"><code>isAnnotationPresent(Class&lt;? extends Annotation&gt; annotationClass)</code></td>\n<td>å¦‚æœæŒ‡å®šç±»å‹çš„æ³¨è§£å­˜åœ¨äºæ­¤å…ƒç´ ä¸Šï¼Œåˆ™è¿”å›  <code>true</code> ï¼Œå¦åˆ™è¿”å›  <code>false</code> ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Annotation[]</code></td>\n<td style=\"text-align:center\"><code>getDeclaredAnnotations()</code></td>\n<td>è¿”å›ç›´æ¥å­˜åœ¨äºæ­¤å…ƒç´ ä¸Šçš„æ‰€æœ‰æ³¨è§£ï¼Œæ³¨æ„ï¼Œä¸åŒ…æ‹¬çˆ¶ç±»çš„æ³¨è§£ï¼Œè°ƒç”¨è€…å¯ä»¥éšæ„ä¿®æ”¹è¿”å›çš„æ•°ç»„ï¼›è¿™ä¸ä¼šå¯¹å…¶ä»–è°ƒç”¨è€…è¿”å›çš„æ•°ç»„äº§ç”Ÿä»»ä½•å½±å“ï¼Œæ²¡æœ‰åˆ™è¿”å›é•¿åº¦ä¸º <code>0</code>  çš„æ•°ç»„</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>æ¡ˆä¾‹å¦‚ä¸‹:</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DocumentDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>clas</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">DocumentA</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">DocumentB</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Annotation</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token annotation punctuation\">@DocumentA</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">class</span> A2 <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token comment\">//...</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"16\"></td><td><pre> * @Description: ç»§æ‰¿äº† A2 ç±»</pre></td></tr><tr><td data-num=\"17\"></td><td><pre> * @DateTime: 2023-11-10 16:47</pre></td></tr><tr><td data-num=\"18\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"19\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token annotation punctuation\">@DocumentB</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DocumentDemo2</span> <span class=\"token keyword\">extends</span> A2 <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> <span class=\"token class-name\">DocumentDemo2</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token comment\">// æ ¹æ®æŒ‡å®šæ³¨è§£ç±»å‹è·å–è¯¥æ³¨è§£</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token class-name\">DocumentA</span> documentA <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getAnnotation</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DocumentA</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A:\"</span> <span class=\"token operator\">+</span> documentA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token comment\">// è·å–è¯¥å…ƒç´ ä¸Šçš„æ‰€æœ‰æ³¨è§£ï¼ŒåŒ…å«ä»çˆ¶ç±»ç»§æ‰¿</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token class-name\">Annotation</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> an <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getAnnotations</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"an:\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span>an<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token comment\">// è·å–è¯¥å…ƒç´ ä¸Šçš„æ‰€æœ‰æ³¨è§£ï¼Œä½†ä¸åŒ…å«ç»§æ‰¿ï¼</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token class-name\">Annotation</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> an2 <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredAnnotations</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"an2:\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span>an2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token comment\">// åˆ¤æ–­æ³¨è§£ DocumentA æ˜¯å¦åœ¨è¯¥å…ƒç´ ä¸Š</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token keyword\">boolean</span> b <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">isAnnotationPresent</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DocumentA</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"b:\"</span> <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>          æ‰§è¡Œç»“æœ:</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>         A:@top.rem.rain.annotation.demo.custom.annotations.DocumentA ()</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>         an:[@top.rem.rain.annotation.demo.custom.annotations.DocumentA (), @top.rem.rain.annotation.demo.custom.annotations.DocumentB ()]</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>         an2:[@top.rem.rain.annotation.demo.custom.annotations.DocumentB ()]</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>         b:true</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"æ³¨è§£å¤„ç†å™¨\"><a class=\"anchor\" href=\"#æ³¨è§£å¤„ç†å™¨\">#</a> æ³¨è§£å¤„ç†å™¨</h1>\n<ul>\n<li>äº†è§£å®Œæ³¨è§£ä¸åå°„çš„ç›¸å…³ <code>API</code>  åï¼Œç°åœ¨é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¥æ¼”ç¤ºåˆ©ç”¨è¿è¡Œæ—¶æ³¨è§£æ¥åˆ›å»ºæ•°æ®åº“ <code>SQL</code>  æ„å»ºè¯­å¥çš„è¿‡ç¨‹ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>DBTable.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * å¯¹åº”æ•°æ®è¡¨æ³¨è§£</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// ä½œç”¨äºç±»ä¸Š</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">// ä¿ç•™åˆ°è¿è¡ŒæœŸ</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">DBTable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>   * æ•°æ®è¡¨åç§°</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>   * @return String</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token class-name\">String</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SQLInteger.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * æ³¨è§£ Integer ç±»å‹çš„å­—æ®µ</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// åªä½œç”¨äºå­—æ®µ</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>FIELD<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">SQLInteger</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>   * è¯¥å­—æ®µå¯¹åº”æ•°æ®åº“è¡¨åˆ—å</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>   * @return String</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token class-name\">String</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>   * åµŒå¥—æ³¨è§£</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>   * @return Constraints</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token class-name\">Constraints</span> <span class=\"token function\">constraint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token annotation punctuation\">@Constraints</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SQLString.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * æ³¨è§£ String ç±»å‹çš„å­—æ®µ</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// åªä½œç”¨äºå­—æ®µ</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>FIELD<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">SQLString</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>   * å¯¹åº”æ•°æ®åº“è¡¨çš„åˆ—å</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>   * @return String</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token class-name\">String</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>   * åˆ—ç±»å‹åˆ†é…çš„é•¿åº¦ï¼Œå¦‚ï¼švarchar (30)</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>   * @return int</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token keyword\">int</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>   * åµŒå¥—æ³¨è§£</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>   * @return Constraints</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token class-name\">Constraints</span> <span class=\"token function\">constraint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token annotation punctuation\">@Constraints</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Constraints.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * çº¦æŸæ³¨è§£</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// åªä½œç”¨äºå­—æ®µ</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>FIELD<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">Constraints</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>   * åˆ¤æ–­æ˜¯å¦ä½œä¸ºä¸»é”®çº¦æŸ</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>   * @return boolean</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token keyword\">boolean</span> <span class=\"token function\">primaryKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>   * åˆ¤æ–­æ˜¯å¦å…è®¸ä¸º null</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>   * @return boolean</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token keyword\">boolean</span> <span class=\"token function\">allowNull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>   * åˆ¤æ–­æ˜¯å¦å”¯ä¸€</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>   * @return boolean</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token keyword\">boolean</span> <span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Member.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>clas</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Constraints</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">DBTable</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SQLInteger</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SQLString</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Description: æ•°æ®è¡¨å®ä½“æ˜ å°„</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @DateTime: 2023-11-10 16:02</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token annotation punctuation\">@DBTable</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"MEMBER\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Member</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>   * ä¸»é”® ID</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token annotation punctuation\">@SQLString</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"ID\"</span><span class=\"token punctuation\">,</span> value <span class=\"token operator\">=</span> <span class=\"token number\">108</span><span class=\"token punctuation\">,</span> constraint <span class=\"token operator\">=</span> <span class=\"token annotation punctuation\">@Constraints</span><span class=\"token punctuation\">(</span>primaryKey <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> id<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>   * åç§°</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token annotation punctuation\">@SQLString</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"NAME\"</span><span class=\"token punctuation\">,</span> value <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>   * å¹´é¾„</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token annotation punctuation\">@SQLInteger</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"AGE\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>   * ä¸ªäººæè¿°</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token annotation punctuation\">@SQLString</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"DESCRIPTION\"</span><span class=\"token punctuation\">,</span> value <span class=\"token operator\">=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span> constraint <span class=\"token operator\">=</span> <span class=\"token annotation punctuation\">@Constraints</span><span class=\"token punctuation\">(</span>allowNull <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> description<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token keyword\">return</span> id<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    <span class=\"token keyword\">return</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token keyword\">return</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getDescription</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>    <span class=\"token keyword\">return</span> description<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setDescription</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> description<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>description <span class=\"token operator\">=</span> description<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>ä¸Šè¿°å®šä¹‰ <code>4</code>  ä¸ªæ³¨è§£ï¼Œåˆ†åˆ«æ˜¯ <code>@DBTable(ç”¨äºç±»)</code> ã€ <code>@Constraints(ç”¨äºå­—æ®µ)</code> ã€ <code>@SQLString(ç”¨äºå­—æ®µ)</code> ã€ <code>@SQLInteger(ç”¨äºå­—æ®µ)</code>  å¹¶åœ¨ <code>Member</code>  ç±»ä¸­ä½¿ç”¨è¿™äº›æ³¨è§£ã€‚</li>\n<li>è¿™äº›æ³¨è§£çš„ä½œç”¨æ˜¯ç”¨äºå¸®åŠ©æ³¨è§£å¤„ç†å™¨ç”Ÿæˆåˆ›å»ºæ•°æ®åº“è¡¨ <code>MEMBER</code>  çš„æ„å»ºè¯­å¥ï¼Œåœ¨è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åµŒå¥—æ³¨è§£ <code>@Constraints</code>  è¯¥æ³¨è§£ä¸»è¦ç”¨äºåˆ¤æ–­å­—æ®µæ˜¯å¦ä¸º <code>null</code>  æˆ–è€…å­—æ®µæ˜¯å¦å”¯ä¸€ã€‚</li>\n<li>å¿…é¡»æ¸…æ¥šè®¤è¯†åˆ°ä¸Šè¿°æä¾›çš„æ³¨è§£ç”Ÿå‘½å‘¨æœŸå¿…é¡»ä¸º <code>@Retention(RetentionPolicy.RUNTIME)</code>  è¿è¡Œæ—¶ï¼Œè¿™æ ·æ‰å¯ä»¥ä½¿ç”¨åå°„æœºåˆ¶è·å–å…¶ä¿¡æ¯ã€‚</li>\n<li>å‰©ä½™çš„å°±æ˜¯ç¼–å†™ä¸Šè¿°çš„æ³¨è§£å¤„ç†å™¨ï¼Œå‰é¢æˆ‘ä»¬èŠäº†å¾ˆå¤šæ³¨è§£ï¼Œå…¶å¤„ç†å™¨è¦ä¹ˆæ˜¯ <code>Java</code>  è‡ªèº«å·²æä¾›ã€è¦ä¹ˆæ˜¯æ¡†æ¶å·²æä¾›çš„ï¼Œæˆ‘ä»¬è‡ªå·±éƒ½æ²¡æœ‰æ¶‰åŠåˆ°æ³¨è§£å¤„ç†å™¨çš„ç¼–å†™ã€‚</li>\n<li>ä½†ä¸Šè¿°å®šä¹‰å¤„ç† <code>SQL</code>  çš„æ³¨è§£ï¼Œå…¶å¤„ç†å™¨å¿…é¡»ç”±æˆ‘ä»¬è‡ªå·±ç¼–å†™ï¼Œå¦‚ä¸‹ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>TableCreator.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>clas</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Constraints</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">DBTable</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SQLInteger</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SQLString</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Annotation</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Field</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ArrayList</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> * @Description: æ³¨è§£å¤„ç†å™¨ï¼Œæ„é€ è¡¨åˆ›å»ºè¯­å¥</pre></td></tr><tr><td data-num=\"16\"></td><td><pre> * @DateTime: 2023-11-10 19:22</pre></td></tr><tr><td data-num=\"17\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"18\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">TableCreator</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>   * åˆ›å»ºè¡¨ SQL</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>   *</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>   * @param className ç±»åç§°</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>   * @return String</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>   * @throws ClassNotFoundException æœªæ‰¾åˆ°ç±»å¼‚å¸¸</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">String</span> <span class=\"token function\">createTableSql</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> className<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ClassNotFoundException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token comment\">// è·å–å­—èŠ‚ç æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> cl <span class=\"token operator\">=</span> <span class=\"token class-name\">Class</span><span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span>className<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token comment\">// è·å–æŒ‡å®šæ³¨è§£ç±»å‹çš„æ³¨è§£</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token class-name\">DBTable</span> dbTable <span class=\"token operator\">=</span> cl<span class=\"token punctuation\">.</span><span class=\"token function\">getAnnotation</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DBTable</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token comment\">// å¦‚æœæ²¡æœ‰è¡¨æ³¨è§£ï¼Œç›´æ¥è¿”å›</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dbTable <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>      <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"No DBTable annotations in class \"</span> <span class=\"token operator\">+</span> className<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token comment\">// è·å–æ•°æ®è¡¨åç§°</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token class-name\">String</span> tableName <span class=\"token operator\">=</span> dbTable<span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token comment\">// åˆ¤æ–­æ•°æ®è¡¨åç§°é•¿åº¦</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tableName<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>      <span class=\"token comment\">// å¦‚æœæ•°æ®è¡¨åç§°ä¸ºç©ºåˆ™ä½¿ç”¨ç±»åä»£æ›¿</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>      tableName <span class=\"token operator\">=</span> cl<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token comment\">// åˆ›å»º List é›†åˆ</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> columnDefs <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token comment\">// é€šè¿‡å­—èŠ‚ç æ–‡ä»¶è·å–åˆ°æ‰€æœ‰æˆå‘˜å­—æ®µ</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Field</span> field <span class=\"token operator\">:</span> cl<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredFields</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>      <span class=\"token class-name\">String</span> columnName <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>      <span class=\"token comment\">// è·å–å­—æ®µå…ƒç´ ä¸Šçš„æ³¨è§£</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>      <span class=\"token class-name\">Annotation</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> declaredAnnotations <span class=\"token operator\">=</span> field<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredAnnotations</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>      <span class=\"token comment\">// åˆ¤æ–­é•¿åº¦æ˜¯å¦å­˜åœ¨æ³¨è§£ï¼Œæ²¡æœ‰åˆ™è·³è¿‡è¿›å…¥ä¸‹æ¬¡å¾ªç¯</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>declaredAnnotations<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>      <span class=\"token comment\">// åˆ¤æ–­æ³¨è§£ç±»å‹</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>declaredAnnotations<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">SQLInteger</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token class-name\">SQLInteger</span> sqlInt <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLInteger</span><span class=\"token punctuation\">)</span> declaredAnnotations<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token comment\">// è·å–å­—æ®µå¯¹åº”åç§°ï¼Œå¦‚æœæ²¡æœ‰å°±æ˜¯ä½¿ç”¨å­—æ®µåç§°æ›¿ä»£</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sqlInt<span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>          columnName <span class=\"token operator\">=</span> field<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>          columnName <span class=\"token operator\">=</span> sqlInt<span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token comment\">// æ„å»ºè¯­å¥</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        columnDefs<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>columnName <span class=\"token operator\">+</span> <span class=\"token string\">\" INT\"</span> <span class=\"token operator\">+</span> <span class=\"token function\">getConstraints</span><span class=\"token punctuation\">(</span>sqlInt<span class=\"token punctuation\">.</span><span class=\"token function\">constraint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>      <span class=\"token comment\">// åˆ¤æ–­æ³¨è§£ç±»å‹</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>declaredAnnotations<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">SQLString</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token class-name\">SQLString</span> sqlStr <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLString</span><span class=\"token punctuation\">)</span> declaredAnnotations<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token comment\">// è·å–å­—æ®µå¯¹åº”åç§°ï¼Œå¦‚æœæ²¡æœ‰å°±æ˜¯ä½¿ç”¨å­—æ®µåç§°æ›¿ä»£</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sqlStr<span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>          columnName <span class=\"token operator\">=</span> field<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>          columnName <span class=\"token operator\">=</span> sqlStr<span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        <span class=\"token comment\">// æ„å»ºè¯­å¥</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        columnDefs<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>columnName <span class=\"token operator\">+</span> <span class=\"token string\">\" VARCHAR(\"</span> <span class=\"token operator\">+</span> sqlStr<span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\")\"</span> <span class=\"token operator\">+</span> <span class=\"token function\">getConstraints</span><span class=\"token punctuation\">(</span>sqlStr<span class=\"token punctuation\">.</span><span class=\"token function\">constraint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre></pre></td></tr><tr><td data-num=\"80\"></td><td><pre></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>    <span class=\"token comment\">// æ•°æ®åº“è¡¨æ„å»ºè¯­å¥</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>    <span class=\"token class-name\">StringBuilder</span> createCommand <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"CREATE TABLE \"</span> <span class=\"token operator\">+</span> tableName <span class=\"token operator\">+</span> <span class=\"token string\">\"(\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> columnDef <span class=\"token operator\">:</span> columnDefs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>      createCommand<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n    \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>columnDef<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>    <span class=\"token comment\">// åˆ é™¤å°¾éƒ¨é€—å·å¹¶è¿”å›</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>    <span class=\"token keyword\">return</span> createCommand<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> createCommand<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\");\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre></pre></td></tr><tr><td data-num=\"91\"></td><td><pre></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"93\"></td><td><pre>   * åˆ¤æ–­è¯¥å­—æ®µæ˜¯å¦æœ‰å…¶ä»–çº¦æŸ</pre></td></tr><tr><td data-num=\"94\"></td><td><pre>   *</pre></td></tr><tr><td data-num=\"95\"></td><td><pre>   * @param con Constraints</pre></td></tr><tr><td data-num=\"96\"></td><td><pre>   * @return String</pre></td></tr><tr><td data-num=\"97\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>  <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getConstraints</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Constraints</span> con<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>    <span class=\"token comment\">// çº¦æŸæ¡ä»¶</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>    <span class=\"token class-name\">String</span> constraints <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>con<span class=\"token punctuation\">.</span><span class=\"token function\">allowNull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>      constraints <span class=\"token operator\">+=</span> <span class=\"token string\">\" NOT NULL\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>    <span class=\"token comment\">// ä¸»é”®</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">.</span><span class=\"token function\">primaryKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>      constraints <span class=\"token operator\">+=</span> <span class=\"token string\">\" PRIMARY KEY\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>    <span class=\"token comment\">// å”¯ä¸€</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>con<span class=\"token punctuation\">.</span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>      constraints <span class=\"token operator\">+=</span> <span class=\"token string\">\" UNIQUE\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>    <span class=\"token keyword\">return</span> constraints<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>    <span class=\"token comment\">// æ‰“å°å»ºè¡¨è¯­å¥</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Table Creation SQL for \"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"top.rem.rain.annotation.demo.custom.clas.Member\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" is :\\n\"</span> <span class=\"token operator\">+</span> <span class=\"token function\">createTableSql</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"119\"></td><td><pre>          è¾“å‡ºç»“æœï¼š</pre></td></tr><tr><td data-num=\"120\"></td><td><pre>         Table Creation SQL for top.rem.rain.annotation.demo.custom.clas.Member is :</pre></td></tr><tr><td data-num=\"121\"></td><td><pre>         CREATE TABLE MEMBER (</pre></td></tr><tr><td data-num=\"122\"></td><td><pre>         ID VARCHAR (108) NOT NULL PRIMARY KEY,</pre></td></tr><tr><td data-num=\"123\"></td><td><pre>         NAME VARCHAR (30) NOT NULL,</pre></td></tr><tr><td data-num=\"124\"></td><td><pre>         AGE INT NOT NULL,</pre></td></tr><tr><td data-num=\"125\"></td><td><pre>         DESCRIPTION VARCHAR (150));</pre></td></tr><tr><td data-num=\"126\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>ä¸Šè¿°æˆ‘ä»¬é€šè¿‡ä¼ é€’ <code>Member</code>  çš„å…¨è·¯å¾„é€šè¿‡ <code>Class.forName()</code>  æ–¹æ³•è·å–åˆ° <code>Member</code>  çš„ <code>class</code>  å¯¹è±¡ï¼Œç„¶ååˆ©ç”¨ <code>Class</code>  å¯¹è±¡ä¸­çš„æ–¹æ³•è·å–æ‰€æœ‰æˆå‘˜å­—æ®µ <code>Field</code> ã€‚</li>\n<li>æœ€åæˆ‘ä»¬åˆ©ç”¨ <code>field.getDeclaredAnnotations()</code>  æ–¹æ³•éå†æ¯ä¸ª <code>Field</code>  ä¸Šçš„æ³¨è§£å†é€šè¿‡æ³¨è§£çš„ç±»å‹åˆ¤æ–­æ¥æ„å»ºå»ºè¡¨è¯­å¥ã€‚</li>\n<li>è¿™ä¾¿æ˜¯åˆ©ç”¨æ³¨è§£ç»“åˆåå°„æ¥æ„å»º <code>SQL</code>  è¯­å¥çš„ç®€å•çš„å¤„ç†å™¨æ¨¡å‹ã€‚</li>\n</ul>\n<h1 id=\"æ³¨è§£å¢å¼º\"><a class=\"anchor\" href=\"#æ³¨è§£å¢å¼º\">#</a> æ³¨è§£å¢å¼º</h1>\n<h2 id=\"repeatableå…ƒæ³¨è§£\"><a class=\"anchor\" href=\"#repeatableå…ƒæ³¨è§£\">#</a> @Repeatable å…ƒæ³¨è§£</h2>\n<ul>\n<li><code>@Repeatable</code>  å…ƒæ³¨è§£æ˜¯ <code>JDK1.8</code>  åŠ å…¥çš„ï¼Œå®ƒè¡¨ç¤ºåœ¨åŒä¸€ä¸ªä½ç½®é‡å¤ç›¸åŒçš„æ³¨è§£ã€‚</li>\n<li>åœ¨æ²¡æœ‰è¯¥æ³¨è§£å‰ä¸€èˆ¬æ— æ³•åœ¨åŒä¸€ä¸ªç±»å‹ä¸Šä½¿ç”¨ç›¸åŒçš„æ³¨è§£ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FilterDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>clas</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: ä½¿ç”¨é‡å¤è¿‡æ»¤å™¨æ³¨è§£ç¤ºä¾‹ï¼ŒJava8 ä¹‹å‰æ— æ³•è¿™æ ·ä½¿ç”¨</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-11-11 18:46</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token annotation punctuation\">@FilterPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/web/post\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token annotation punctuation\">@FilterPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/web/get\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FilterDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">//...</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li><code>Java8</code>  ä¹‹å‰å¦‚æœæƒ³å®ç°ç±»ä¼¼åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ <code>@FilterPath</code>  æ³¨è§£æ—¶å®šä¹‰ä¸€ä¸ªæ•°ç»„å…ƒç´ æ¥æ”¶å¤šä¸ªå€¼ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FilterPath.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * è‡ªå®šä¹‰è¿‡æ»¤å™¨</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">FilterPath</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token class-name\">String</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FilterDemo2.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>clas</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: è¿‡æ»¤å™¨æ³¨è§£ä½¿ç”¨ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-11-11 18:46</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token annotation punctuation\">@FilterPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"/web/post\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"/web/get\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FilterDemo2</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>ä½†åœ¨ <code>Java8</code>  æ–°å¢äº† <code>@Repeatable</code>  æ³¨è§£åå°±å¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ–¹å¼å®šä¹‰å¹¶ä½¿ç”¨ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FilterPath.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼ŒJava8 å¢å¼º</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * ä½¿ç”¨ Java8 æ–°å¢ @Repeatable å…ƒæ³¨è§£</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> *</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">,</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>FIELD<span class=\"token punctuation\">,</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>METHOD<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">// å‚æ•°æŒ‡æ˜æ¥æ”¶çš„æ³¨è§£ class</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token annotation punctuation\">@Repeatable</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterPaths</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">FilterPath</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token class-name\">String</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FilterPaths.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * è‡ªå®šä¹‰è¿‡æ»¤å™¨æ•°ç»„</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">FilterPaths</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>   * æ­¤å¤„ä½¿ç”¨ FilterPath æ•°ç»„è¿›è¡Œæ¥æ”¶</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>   * @return FilterPath</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FilterDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>clas</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Description: ä½¿ç”¨ java8 å¢å¼ºåçš„é‡å¤è¿‡æ»¤å™¨æ³¨è§£ç¤ºä¾‹</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @DateTime: 2023-11-11 18:58</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token annotation punctuation\">@FilterPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/web/get\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token annotation punctuation\">@FilterPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/web/post\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FilterDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">//...</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>æˆ‘ä»¬å¯ä»¥ç®€å•çš„ç†è§£ä¸ºé€šè¿‡ä½¿ç”¨ <code>@Repeatable</code>  å…ƒæ³¨è§£åï¼Œå°†ä½¿ç”¨ <code>@FilterPaths</code>  æ³¨è§£ä½œä¸ºæ¥æ”¶åŒä¸€ä¸ªç±»å‹ä¸Šé‡å¤æ³¨è§£çš„å®¹å™¨ã€‚</li>\n<li>è€Œæ¯ä¸ª <code>@FilterPath</code>  åˆ™è´Ÿè´£ä¿å­˜æŒ‡å®šçš„è·¯å¾„ä¸²ï¼Œä¸ºäº†å¤„ç†ä¸Šè¿°çš„æ–°å¢æ³¨è§£ï¼Œ <code>Java8</code>  è¿˜åœ¨ <code>AnnotatedElement</code>  æ¥å£æ–°å¢äº† <code>getDeclaredAnnotationsByType()</code>  å’Œ <code>getAnnotationsByType()</code>  ä¸¤ä¸ªæ–¹æ³•å¹¶åœ¨æ¥å£ç»™å‡ºäº†é»˜è®¤å®ç°ã€‚</li>\n<li>åœ¨æŒ‡å®š <code>@Repeatable</code>  çš„æ³¨è§£æ—¶å¯ä»¥é€šè¿‡è¿™ä¸¤ä¸ªæ–¹æ³•è·å–åˆ°æ³¨è§£ç›¸å…³ä¿¡æ¯ï¼Œä½†è¯·æ³¨æ„æ—§ç‰ˆ <code>API</code>  ä¸­çš„ <code>getDeclaredAnnotationsByType()</code>  å’Œ <code>getAnnotation</code>  æ˜¯ä¸å¯¹ <code>@Repeatable</code>  æ³¨è§£çš„å¤„ç†çš„ã€‚</li>\n<li>é™¤éè¯¥æ³¨è§£æ²¡æœ‰åœ¨åŒä¸€ä¸ªå£°æ˜ä¸Šé‡å¤å‡ºç°ï¼Œæ³¨æ„ <code>getDeclaredAnnotationsByType()</code>  æ–¹æ³•è·å–åˆ°çš„æ³¨è§£ä¸åŒ…å«çˆ¶ç±»ï¼Œå…¶ä¸­å½“ <code>getAnnotationsByType()</code>  æ–¹æ³•è°ƒç”¨æ˜¯å…¶å†…éƒ¨å…ˆæ‰§è¡Œäº† <code>getDeclaredAnnotationsByType</code>  æ–¹æ³•ã€‚</li>\n<li>åªæœ‰å½“å‰ç±»ä¸å­˜åœ¨æŒ‡å®šæ³¨è§£æ—¶ <code>getAnnotationsByType()</code>  æ‰ä¼šç»§ç»­ä»å…¶çˆ¶ç±»å¯»æ‰¾ï¼Œä½†è¯·æ³¨æ„å¦‚æœ <code>@FilterPath</code>  å’Œ <code>@FilterPaths</code>  æ²¡æœ‰ä½¿ç”¨äº† <code>@Inherited</code>  çš„è¯æ‰”ç„¶æ— æ³•è·å–ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>GetRepeatableAnnotationsInformation.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>clas</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token annotation punctuation\">@FilterPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/web/test\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">TestDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Description: è·å– @Repeatable æ³¨è§£ç›¸å…³ä¿¡æ¯</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> * @DateTime: 2023-11-11 19:03</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"16\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token annotation punctuation\">@FilterPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/web/get\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token annotation punctuation\">@FilterPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/web/post\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GetRepeatableAnnotationsInformation</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TestDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">// è·å–å­—èŠ‚ç å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> <span class=\"token class-name\">GetRepeatableAnnotationsInformation</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡ getAnnotationsByType æ–¹æ³•è·å–æ‰€æœ‰é‡å¤æ³¨è§£</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> annotationsByType <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getAnnotationsByType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> annotationsByType2 <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredAnnotationsByType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterPath</span> filter <span class=\"token operator\">:</span> annotationsByType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1:\"</span> <span class=\"token operator\">+</span> filter<span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-----------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterPath</span> filter <span class=\"token operator\">:</span> annotationsByType2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2:\"</span> <span class=\"token operator\">+</span> filter<span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ä½¿ç”¨getAnnotationçš„ç»“æœ:\"</span> <span class=\"token operator\">+</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getAnnotation</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>         æ‰§è¡Œç»“æœï¼šå½“å‰ç±»æ‹¥æœ‰è¯¥æ³¨è§£ @FilterPath æ—¶åˆ™ä¸ä¼šä» TestDemo çˆ¶ç±»å¯»æ‰¾</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>         1:/web/get</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>         1:/web/post</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        -----------------</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>         2:/web/get</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>         2:/web/post</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        ä½¿ç”¨ getAnnotation çš„ç»“æœ:null</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>å’±ä»¬æ¥çœ‹æ‰§è¡Œç»“æœï¼Œå¦‚æœå½“å‰ç±»æ‹¥æœ‰ <code>@FilterPath</code>  æ³¨è§£åˆ™ <code>getAnnotationsByType()</code>  æ–¹æ³•ä¸ä¼šå»çˆ¶ç±»ä¸­å¯»æ‰¾ï¼Œä¸‹é¢æ¥çœ‹å¦ä¸€ç§æƒ…å†µï¼Œå³ <code>GetRepeatableAnnotationsInformation</code>  ç±»ä¸Šé¢æ²¡æœ‰ <code>@FilterPath</code>  æ³¨è§£çš„ç¤ºä¾‹ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FilterPath.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼ŒJava8 å¢å¼º</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * ä½¿ç”¨ Java8 æ–°å¢ @Repeatable å…ƒæ³¨è§£</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * å¹¶æ·»åŠ  @Inherited å¯ç»§æ‰¿å…ƒæ³¨è§£</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> *</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// æ·»åŠ å¯ç»§æ‰¿çš„å…ƒæ³¨è§£</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Inherited</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">,</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>FIELD<span class=\"token punctuation\">,</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>METHOD<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// å‚æ•°æŒ‡æ˜æ¥æ”¶çš„æ³¨è§£ class</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token annotation punctuation\">@Repeatable</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterPaths</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">FilterPath</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token class-name\">String</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>FilterPaths.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * è‡ªå®šä¹‰è¿‡æ»¤å™¨æ•°ç»„</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * åŒæ ·æ·»åŠ  @Inherited å¯ç»§æ‰¿å…ƒæ³¨è§£</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\">// æ·»åŠ å¯ç»§æ‰¿çš„å…ƒæ³¨è§£</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token annotation punctuation\">@Inherited</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">FilterPaths</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>   * æ­¤å¤„ä½¿ç”¨ FilterPath æ•°ç»„è¿›è¡Œæ¥æ”¶</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>   * @return FilterPath</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>GetRepeatableAnnotationsInformation.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>clas</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token annotation punctuation\">@FilterPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/web/test\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">TestDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> * @Description: è·å–çˆ¶ç±» @Repeatable æ³¨è§£ç›¸å…³ä¿¡æ¯</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> * @DateTime: 2023-11-11 19:13</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"16\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">//@FilterPath(\"/web/get\")</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">//@FilterPath(\"/web/post\")</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GetRepeatableAnnotationsInformation</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TestDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">// è·å–å­—èŠ‚ç å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> <span class=\"token class-name\">GetRepeatableAnnotationsInformation</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">// é€šè¿‡ getAnnotationsByType æ–¹æ³•è·å–æ‰€æœ‰é‡å¤æ³¨è§£</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> annotationsByType <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getAnnotationsByType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> annotationsByType2 <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredAnnotationsByType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterPath</span> filter <span class=\"token operator\">:</span> annotationsByType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1:\"</span> <span class=\"token operator\">+</span> filter<span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-----------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterPath</span> filter <span class=\"token operator\">:</span> annotationsByType2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2:\"</span> <span class=\"token operator\">+</span> filter<span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ä½¿ç”¨getAnnotationçš„ç»“æœ:\"</span> <span class=\"token operator\">+</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getAnnotation</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterPath</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>         æ‰§è¡Œç»“æœï¼šå°†å½“å‰ç±»æ‹¥æœ‰çš„ @FilterPath æ³¨è§£æ³¨é‡Šæ‰å getAnnotationsByType () æ–¹æ³•ä¼šå»çˆ¶ç±»å¯»æ‰¾</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>         1:/web/test</pre></td></tr><tr><td data-num=\"37\"></td><td><pre>         1:/web/demo</pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        -----------------</pre></td></tr><tr><td data-num=\"39\"></td><td><pre>         ä½¿ç”¨ getAnnotation çš„ç»“æœ:null</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>éœ€è¦å€¼å¾—æ³¨æ„çš„æ˜¯åœ¨å®šä¹‰ <code>@FilterPath</code>  å’Œ <code>@FilterPaths</code>  æ³¨è§£æ—¶å¿…é¡»æ·»åŠ  <code>@Inherited</code>  å…ƒæ³¨è§£æ‰å¯ä»¥é€šè¿‡çˆ¶ç±»è¢«è·å–åˆ°ï¼Œå¦åˆ™æ— æ³•é€šè¿‡ <code>getAnnotationsByType()</code>  æ–¹æ³•ä»çˆ¶ç±»ä¸­è·å– <code>@FilterPath</code>  æ³¨è§£ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢æ¥çœ‹ä¸‹ <code>getAnnotationsByType()</code>  æ–¹æ³•çš„å®ç°åŸç†ã€‚</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>AnnotatedElement.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Annotation</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AnnotationFormatError</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Repeatable</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">LinkedHashMap</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Map</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Objects</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>function<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Function</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>stream<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Collectors</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AnnotationSupport</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">sun<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AnnotationType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">AnnotatedElement</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>   * è¿”å›ä¸è¯¥å…ƒç´ å…³è”çš„æ³¨è§£ï¼Œæ¥å£é»˜è®¤å®ç°æ–¹æ³•</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>   * @param annotationClass æ³¨é‡Šç±»</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>   * @return T []</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>   * @param &lt;T> T</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token keyword\">default</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Annotation</span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">getAnnotationsByType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> annotationClass<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token comment\">// å†…éƒ¨ä¼šå…ˆè°ƒç”¨ getDeclaredAnnotationsByType () æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token class-name\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> result <span class=\"token operator\">=</span> <span class=\"token function\">getDeclaredAnnotationsByType</span><span class=\"token punctuation\">(</span>annotationClass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token comment\">// åˆ¤æ–­å½“å‰ç±»è·å–åˆ°çš„æ³¨è§£æ•°ç»„æ˜¯å¦ä¸º 0</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>length <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span> <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Class</span> <span class=\"token operator\">&amp;&amp;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token comment\">// åˆ¤æ–­å®šä¹‰æ³¨è§£ä¸Šæ˜¯å¦ä½¿ç”¨äº† @Inherited å…ƒæ³¨è§£</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token class-name\">AnnotationType</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span>annotationClass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isInherited</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">// ä»çˆ¶ç±»ä¸­è·å–</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>      <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> superClass <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSuperclass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>superClass <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token comment\">// è·å–çˆ¶ç±»ä¸­çš„æ³¨é‡Š</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        result <span class=\"token operator\">=</span> superClass<span class=\"token punctuation\">.</span><span class=\"token function\">getAnnotationsByType</span><span class=\"token punctuation\">(</span>annotationClass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"ä¸¤ç§æ–°elementtypeç±»å‹\"><a class=\"anchor\" href=\"#ä¸¤ç§æ–°elementtypeç±»å‹\">#</a> ä¸¤ç§æ–° ElementType ç±»å‹</h1>\n<ul>\n<li><code>ElementType</code>  åœ¨ <code>Java8</code>  ä¸­æ–°å¢äº†ä¸¤ä¸ªæ–°çš„æšä¸¾æˆå‘˜ï¼Œ <code>TYPE_PARAMETER</code>  å’Œ <code>TYPE_USE</code>  åœ¨ <code>Java8</code>  å‰æ³¨è§£åªèƒ½æ ‡æ³¨åœ¨ä¸€ä¸ªå£°æ˜çš„ç±»ã€æ–¹æ³•ã€å­—æ®µä¸Šã€‚</li>\n<li>åœ¨ <code>Java8</code>  ä¹‹åæ–°å¢çš„ <code>TYPE_PARAMETER</code>  å¯ä»¥ç”¨äºæ ‡æ³¨ç±»å‹å‚æ•°ï¼Œè€Œ <code>TYPE_USE</code>  åˆ™å¯ä»¥ç”¨äºæ ‡æ³¨ä»»æ„ç±»å‹ä½†ä¸åŒ…å« <code>class</code> ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>TypeParam.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * ä½¿ç”¨ TYPE_PARAMETER ç±»å‹</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * TYPE_PARAMETERï¼šè¡¨ç¤ºè¯¥æ³¨è§£èƒ½å†™åœ¨ç±»å‹å‚æ•°çš„å£°æ˜è¯­å¥ä¸­ï¼Œæ³›å‹ ä¾‹å¦‚ï¼š&lt;@ElementTypeDemo1 T></pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE_PARAMETER<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">TypeParam</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Not.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * ä½¿ç”¨ TYPE_USE ç±»å‹</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * TYPE.USEï¼šè¡¨ç¤ºå¯ä»¥åœ¨ä»»ä½•ç”¨åˆ°ç±»å‹çš„åœ°æ–¹ä½¿ç”¨</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE_USE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">Not</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ElementTypeDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>clas</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Not</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">TypeParam</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Description: ç±»å‹æ³¨è§£ @TypeParam è·Ÿ @Not</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @DateTime: 2023-11-11 22:59</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ElementTypeDemo</span><span class=\"token operator\">&lt;</span><span class=\"token annotation punctuation\">@TypeParam</span> <span class=\"token class-name\">T</span><span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token annotation punctuation\">@Not</span> <span class=\"token keyword\">long</span> lon<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token operator\">&lt;</span><span class=\"token annotation punctuation\">@TypeParam</span> <span class=\"token class-name\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Integer</span><span class=\"token operator\">></span> <span class=\"token keyword\">void</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Not</span> <span class=\"token class-name\">String</span> str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token annotation punctuation\">@Not</span> <span class=\"token keyword\">boolean</span> boo<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE_USE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">Path</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ElementTypeDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>clas</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Not</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Path</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>custom<span class=\"token punctuation\">.</span>annotations<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">TypeParam</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: ç±»å‹æ³¨è§£ @TypeParam è·Ÿ @Not</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2023-11-11 22:59</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ElementTypeDemo</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">// ç”¨äºæ„é€ å‡½æ•°</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">String</span> path <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token annotation punctuation\">@Path</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/usr/bin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        è¿˜å¯ä»¥ç”¨äºä¸€ä¸‹ä¸¤ç§æƒ…å†µ: </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        ç”¨äºæŒ‡å®šå¼‚å¸¸</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        public Person read () throws @Localized IOException.</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        ç”¨äºé€šé…ç¬¦ç»‘å®š</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        List&lt;@ReadOnly ? extends Person></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        List&lt;? extends @ReadOnly Person></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>ä¸»è¦è¯´æ˜ä¸€ä¸‹ <code>TYPE_USE</code>  æ³¨è§£ç±»å‹æ˜¯ç”¨æ¥æ”¯æŒåœ¨ <code>Java</code>  ç¨‹åºä¸­åšå¼ºç±»å‹æ£€æŸ¥å’Œé…åˆç¬¬ä¸‰æ–¹æ’ä»¶å·¥å…·çš„å¦‚ï¼š <code>CheckerFramework</code> ï¼Œå¯ä»¥åœ¨ç¼–è¯‘æœŸé—´æ£€æµ‹å‡º <code>RuntimeError</code>  å¦‚ï¼š <code>UnsupportedOperationException</code> ã€ <code>NullPointerException</code>  å¼‚å¸¸ï¼Œé¿å…å¼‚å¸¸å»¶ç»­åˆ°è¿è¡ŒæœŸåå‘ç°ï¼Œä»è€Œæé«˜ä»£ç è´¨é‡è¿™å°±æ˜¯ç±»å‹æ³¨è§£çš„ä½œç”¨ã€‚</p>\n</blockquote>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaæ·±å…¥ç†è§£",
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaé«˜çº§ç‰¹æ€§",
                "Javaæ³¨è§£ä¸åå°„"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/python/python%E9%98%B6%E6%AE%B5%E4%B8%80/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/python/python%E9%98%B6%E6%AE%B5%E4%B8%80/",
            "title": "Pythoné˜¶æ®µä¸€",
            "date_published": "2023-10-11T11:44:00.000Z",
            "content_html": "<h1 id=\"pythonä¸­çš„ä¿ç•™å­—\"><a class=\"anchor\" href=\"#pythonä¸­çš„ä¿ç•™å­—\">#</a> Python ä¸­çš„ä¿ç•™å­—</h1>\n<table>\n<tbody>\n<tr>\n<td>False</td>\n<td>True</td>\n<td>None</td>\n<td>and</td>\n</tr>\n<tr>\n<td>assert</td>\n<td>break</td>\n<td>class</td>\n<td>continue</td>\n</tr>\n<tr>\n<td>del</td>\n<td>elif</td>\n<td>else</td>\n<td>except</td>\n</tr>\n<tr>\n<td>from</td>\n<td>global</td>\n<td>if</td>\n<td>import</td>\n</tr>\n<tr>\n<td>is</td>\n<td>lambda</td>\n<td>nonlocal</td>\n<td>not</td>\n</tr>\n<tr>\n<td>pass</td>\n<td>raise</td>\n<td>return</td>\n<td>try</td>\n</tr>\n<tr>\n<td>with</td>\n<td>yield</td>\n<td>for</td>\n<td>as</td>\n</tr>\n<tr>\n<td>def</td>\n<td>finally</td>\n<td>in</td>\n<td>or</td>\n</tr>\n<tr>\n<td>while</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"æ•°æ®ç±»å‹\"><a class=\"anchor\" href=\"#æ•°æ®ç±»å‹\">#</a> æ•°æ®ç±»å‹</h1>\n<table>\n<thead>\n<tr>\n<th>ç±»å‹</th>\n<th>æè¿°</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Number (æ•°å­—)</td>\n<td>int (æ•´æ•°)</td>\n<td>å¦‚ï¼š10ã€-10</td>\n</tr>\n<tr>\n<td>Number (æ•°å­—)</td>\n<td>float (æµ®ç‚¹æ•°)</td>\n<td>å¦‚ï¼š13.14ã€-13.14</td>\n</tr>\n<tr>\n<td>Number (æ•°å­—)</td>\n<td>complex (å¤æ•°)</td>\n<td>å¦‚ï¼š4+3j, ä»¥ j ç»“å°¾è¡¨ç¤ºå¤æ•°</td>\n</tr>\n<tr>\n<td>Number (æ•°å­—)</td>\n<td>bool (å¸ƒå°”)</td>\n<td>True ä¸ºçœŸï¼ŒFalse ä¸ºå‡ï¼ŒTrue æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ•°å­—è®°ä½œ 1,False è®°ä½œ 0</td>\n</tr>\n<tr>\n<td>String (å­—ç¬¦ä¸²)</td>\n<td>æè¿°æ–‡æœ¬çš„ä¸€ç§æ•°æ®ç±»å‹</td>\n<td>å­—ç¬¦ä¸²ç”±ä»»æ„æ•°é‡çš„å­—ç¬¦ç»„æˆ</td>\n</tr>\n<tr>\n<td>List (åˆ—è¡¨)</td>\n<td>æœ‰åºçš„å¯å˜åºåˆ—</td>\n<td>Python ä¸­ä½¿ç”¨æœ€é¢‘ç¹çš„æ•°æ®ç±»å‹ï¼Œå¯æœ‰åºè®°å½•ä¸€å †æ•°æ®</td>\n</tr>\n<tr>\n<td>Tuple (å…ƒç»„)</td>\n<td>æœ‰åºçš„ä¸å¯å˜åºåˆ—</td>\n<td>å¯æœ‰åºè®°å½•ä¸€å †ä¸å¯å˜çš„ Python æ•°æ®é›†åˆ</td>\n</tr>\n<tr>\n<td>Set (é›†åˆ)</td>\n<td>æ— åºä¸é‡å¤é›†åˆ</td>\n<td>å¯æ— åºè®°å½•ä¸€å †ä¸é‡å¤çš„ Python æ•°æ®é›†åˆ</td>\n</tr>\n<tr>\n<td>Dictionary (å­—å…¸)</td>\n<td>æ— åº Key-Value é›†åˆ</td>\n<td>å¯æ— åºè®°å½•ä¸€å † Key-Value å‹çš„ Python æ•°æ®é›†åˆ</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"å¸¸ç”¨å‡½æ•°\"><a class=\"anchor\" href=\"#å¸¸ç”¨å‡½æ•°\">#</a> å¸¸ç”¨å‡½æ•°</h1>\n<table>\n<thead>\n<tr>\n<th>å‡½æ•°æ–¹æ³•</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>type()</td>\n<td>æŸ¥çœ‹æ•°æ®ç±»å‹</td>\n</tr>\n<tr>\n<td>int()</td>\n<td>è½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•°</td>\n</tr>\n<tr>\n<td>float()</td>\n<td>è½¬æ¢ä¸ºä¸€ä¸ªæµ®ç‚¹æ•°</td>\n</tr>\n<tr>\n<td>str()</td>\n<td>å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²</td>\n</tr>\n<tr>\n<td>input()</td>\n<td>è·å–é”®ç›˜è¾“å…¥</td>\n</tr>\n<tr>\n<td>range()</td>\n<td><a href=\"#range%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8\">ç‚¹å‡»æŸ¥çœ‹ä½¿ç”¨æ–¹æ³•</a></td>\n</tr>\n<tr>\n<td>len()</td>\n<td>é•¿åº¦ç»Ÿè®¡</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"è¿ç®—ç¬¦\"><a class=\"anchor\" href=\"#è¿ç®—ç¬¦\">#</a> è¿ç®—ç¬¦</h1>\n<table>\n<thead>\n<tr>\n<th>è¿ç®—ç¬¦</th>\n<th>æè¿°</th>\n<th>å®ä¾‹</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>+</td>\n<td>åŠ </td>\n<td>ä¸¤ä¸ªå¯¹è±¡ç›¸åŠ  a + b è¾“å‡ºç»“æœ 30</td>\n</tr>\n<tr>\n<td>-</td>\n<td>å‡</td>\n<td>å¾—åˆ°è´Ÿæ•°æˆ–æ˜¯ä¸€ä¸ªæ•°å‡å»å¦ä¸€ä¸ªæ•° a - b è¾“å‡ºç»“æœ -10</td>\n</tr>\n<tr>\n<td>*</td>\n<td>ä¹˜</td>\n<td>ä¸¤ä¸ªæ•°ç›¸ä¹˜æˆ–æ˜¯è¿”å›ä¸€ä¸ªè¢«é‡å¤è‹¥å¹²æ¬¡çš„å­—ç¬¦ä¸² a * b è¾“å‡ºç»“æœ 200</td>\n</tr>\n<tr>\n<td>/</td>\n<td>é™¤</td>\n<td>b /a è¾“å‡ºç»“æœ 2</td>\n</tr>\n<tr>\n<td>//</td>\n<td>å–æ•´é™¤</td>\n<td>è¿”å›å•†çš„æ•´æ•°éƒ¨åˆ† 9//2 è¾“å‡ºç»“æœ 4,9.0//2.0 è¾“å‡ºç»“æœ 4.0</td>\n</tr>\n<tr>\n<td>%</td>\n<td>å–ä½™</td>\n<td>è¿”å›é™¤æ³•çš„ä½™æ•° b % a è¾“å‡ºç»“æœ 0</td>\n</tr>\n<tr>\n<td>**</td>\n<td>æŒ‡æ•°</td>\n<td>a**b ä¸º 10 çš„ 20 æ¬¡æ–¹ï¼Œè¾“å‡ºç»“æœ 100000000000000000000</td>\n</tr>\n<tr>\n<td>=</td>\n<td>èµ‹å€¼è¿ç®—ç¬¦</td>\n<td>æŠŠ = å·å³è¾¹çš„ç»“æœèµ‹ç»™å·¦è¾¹çš„å˜é‡ï¼Œå¦‚ num=1+2*3, ç»“æœ num çš„å€¼ä¸º 7</td>\n</tr>\n<tr>\n<td>+=</td>\n<td>åŠ æ³•èµ‹å€¼è¿ç®—ç¬¦</td>\n<td>c += a c = c + a</td>\n</tr>\n<tr>\n<td>-=</td>\n<td>å‡æ³•èµ‹å€¼è¿ç®—ç¬¦</td>\n<td>c -= a c = c - a</td>\n</tr>\n<tr>\n<td>*=</td>\n<td>ä¹˜æ³•èµ‹å€¼è¿ç®—ç¬¦</td>\n<td>c *= a c = c * a</td>\n</tr>\n<tr>\n<td>/=</td>\n<td>é™¤æ³•èµ‹å€¼è¿ç®—ç¬¦</td>\n<td>c /= a c = c / a</td>\n</tr>\n<tr>\n<td>%=</td>\n<td>å–æ¨¡èµ‹å€¼è¿ç®—ç¬¦</td>\n<td>c %= a c = c % a</td>\n</tr>\n<tr>\n<td>**=</td>\n<td>å¹‚èµ‹å€¼è¿ç®—ç¬¦</td>\n<td>c **= a c = c ** a</td>\n</tr>\n<tr>\n<td>//=</td>\n<td>å–æ•´é™¤èµ‹å€¼è¿ç®—ç¬¦</td>\n<td>c //= a c = c // a</td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"1 + 1 = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">1</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 2</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"2 - 1 = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">2</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 1</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"3 * 3 = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">3</span> <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 9</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"4 / 2 = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">4</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 2.0</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"11 // 2 = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">11</span> <span class=\"token operator\">//</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 5</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"9 % 2 = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">9</span> <span class=\"token operator\">%</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 1</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"10 ** 10 = </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token number\">10</span> <span class=\"token operator\">**</span> <span class=\"token number\">10</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 10000000000</span></pre></td></tr></table></figure><h1 id=\"å­—ç¬¦ä¸²æ ¼å¼åŒ–\"><a class=\"anchor\" href=\"#å­—ç¬¦ä¸²æ ¼å¼åŒ–\">#</a> å­—ç¬¦ä¸²æ ¼å¼åŒ–</h1>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æ–¹å¼ä¸€</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>name <span class=\"token operator\">=</span> <span class=\"token string\">\"é»‘é©¬ç¨‹åºå‘˜\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>message <span class=\"token operator\">=</span> <span class=\"token string\">\"å­¦ITæ¥ï¼š%s\"</span> <span class=\"token operator\">%</span> name</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># æ–¹å¼äºŒ</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>name <span class=\"token operator\">=</span> <span class=\"token string\">\"é»‘é©¬ç¨‹åºå‘˜\"</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>message <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"å­¦ITæ¥ï¼š</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>name<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># å­¦ IT æ¥ï¼šé»‘é©¬ç¨‹åºå‘˜</span></pre></td></tr></table></figure><table>\n<thead>\n<tr>\n<th>æ ¼å¼ç¬¦å·</th>\n<th>è½¬åŒ–</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>%s</td>\n<td>å°†å†…å®¹è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œæ”¾å…¥å ä½ä½ç½®</td>\n</tr>\n<tr>\n<td>%d</td>\n<td>å°†å†…å®¹è½¬æ¢æˆæ•´æ•°ï¼Œæ”¾å…¥å ä½ä½ç½®</td>\n</tr>\n<tr>\n<td>%f</td>\n<td>å°†å†…å®¹è½¬æ¢æˆæµ®ç‚¹æ•°ï¼Œæ”¾å…¥å ä½ä½ç½®</td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>name <span class=\"token operator\">=</span> <span class=\"token string\">\"ä¼ æ™ºåšå®¢\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>setup_year <span class=\"token operator\">=</span> <span class=\"token number\">2006</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>stock_price <span class=\"token operator\">=</span> <span class=\"token number\">19.99</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>message <span class=\"token operator\">=</span> <span class=\"token string\">\"%s,æˆç«‹äºï¼š%d,æˆ‘ä»Šå¤©çš„è‚¡ä»·æ˜¯ï¼š%f\"</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> setup_year<span class=\"token punctuation\">,</span> stock_price<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># ä¼ æ™ºåšå®¢ï¼Œæˆç«‹äºï¼š2006, æˆ‘ä»Šå¤©çš„è‚¡ä»·æ˜¯ï¼š19.990000</span></pre></td></tr></table></figure><h2 id=\"æ ¼å¼åŒ–æ•°å­—çš„ç²¾åº¦æ§åˆ¶\"><a class=\"anchor\" href=\"#æ ¼å¼åŒ–æ•°å­—çš„ç²¾åº¦æ§åˆ¶\">#</a> æ ¼å¼åŒ–æ•°å­—çš„ç²¾åº¦æ§åˆ¶</h2>\n<ul>\n<li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¾…åŠ©ç¬¦å· <code>m.n</code>  æ¥æ§åˆ¶æ•°æ®çš„çœ‹åº¦å’Œç²¾åº¦ã€‚\n<ul>\n<li><code>m</code>  æ§åˆ¶å®½åº¦ï¼Œè¦æ±‚æ˜¯æ•°å­— (å¾ˆå°‘ä½¿ç”¨), è®¾ç½®çš„çœ‹åº¦å°äºæ•°å­—è‡ªèº«ï¼Œä¸ç”Ÿæ•ˆã€‚</li>\n<li><code>.n</code>  æ§åˆ¶å°æ•°ç‚¹ç²¾åº¦ï¼Œè¦æ±‚æ˜¯æ•°å­—ï¼Œä¼šè¿›è¡Œå°æ•°çš„å››èˆäº”å…¥ã€‚</li>\n</ul>\n</li>\n<li>ä¾‹å¦‚ï¼š\n<ul>\n<li><code>%5d</code> : è¡¨ç¤ºå°†æ•´æ•°çš„å®½åº¦æ§åˆ¶åœ¨ 5 ä½ï¼Œå¦‚æ•°å­— 11, è¢«è®¾ç½®ä¸º 5d, æœºä¼šå˜æˆï¼šã€ç©ºæ ¼ã€‘ã€ç©ºæ ¼ã€‘ã€ç©ºæ ¼ã€‘11, ç”¨ä¸‰ä¸ªç©ºæ ¼è¡¥è¶³å®½åº¦ã€‚</li>\n<li><code>%5.2f</code> : è¡¨ç¤ºå°†å®½åº¦æ§åˆ¶ä¸º 5, å°†å°æ•°ç‚¹ç²¾åº¦è®¾ç½®ä¸º 2ã€‚</li>\n</ul>\n</li>\n<li>å°æ•°ç‚¹å’Œå°æ•°éƒ¨åˆ†ä¹Ÿç®—å…¥å®½åº¦è®¡ç®—ï¼Œå¦‚ï¼šå¯¹ 11.345 è®¾ç½®äº† %7.2f åï¼Œç»“æœæ˜¯ï¼šã€ç©ºæ ¼ã€‘ã€ç©ºæ ¼ã€‘11.35,2 ä¸ªç©ºæ ¼è¡¥è¶³å®½åº¦ï¼Œå°æ•°éƒ¨åˆ†é™åˆ¶ 2 ä½ç²¾åº¦åï¼Œå››èˆäº”å…¥ä¸º.35</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>num1 <span class=\"token operator\">=</span> <span class=\"token number\">11</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>num2 <span class=\"token operator\">=</span> <span class=\"token number\">11.345</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ•°å­—11å®½åº¦é™åˆ¶5ï¼Œç»“æœæ˜¯ï¼š%5d\"</span> <span class=\"token operator\">%</span> num1<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ•°å­—11å®½åº¦é™åˆ¶1ï¼Œç»“æœæ˜¯ï¼š%1d\"</span> <span class=\"token operator\">%</span> num1<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ•°å­—11.345å®½åº¦é™åˆ¶7ï¼Œå°æ•°ç²¾åº¦2ï¼Œç»“æœæ˜¯ï¼š%7.2f\"</span> <span class=\"token operator\">%</span> num2<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ•°å­—11.345ä¸é™åˆ¶ï¼Œå°æ•°ç²¾åº¦2ï¼Œç»“æœæ˜¯ï¼š%.2f\"</span> <span class=\"token operator\">%</span> num2<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># æ•°å­— 11 å®½åº¦é™åˆ¶ 5ï¼Œç»“æœæ˜¯ï¼š   11</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># æ•°å­— 11 å®½åº¦é™åˆ¶ 1ï¼Œç»“æœæ˜¯ï¼š11</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># æ•°å­— 11.345 å®½åº¦é™åˆ¶ 7ï¼Œå°æ•°ç²¾åº¦ 2ï¼Œç»“æœæ˜¯ï¼š  11.35</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># æ•°å­— 11.345 ä¸é™åˆ¶ï¼Œå°æ•°ç²¾åº¦ 2ï¼Œç»“æœæ˜¯ï¼š11.35</span></pre></td></tr></table></figure><h2 id=\"å¿«é€Ÿæ ¼å¼åŒ–\"><a class=\"anchor\" href=\"#å¿«é€Ÿæ ¼å¼åŒ–\">#</a> å¿«é€Ÿæ ¼å¼åŒ–</h2>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># åç§°</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>name <span class=\"token operator\">=</span> <span class=\"token string\">\"ä¼ æ™ºæ’­å®¢\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># è‚¡ç¥¨ä»·æ ¼</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>stock_price <span class=\"token operator\">=</span> <span class=\"token number\">19.99</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># è‚¡ç¥¨ä»£ç </span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>stock_code <span class=\"token operator\">=</span> <span class=\"token string\">\"003032\"</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># è‚¡ç¥¨ä»·æ ¼æ¯æ—¥å¢é•¿å› å­</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>stock_price_daily_growth_factor <span class=\"token operator\">=</span> <span class=\"token number\">1.2</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># å¢é•¿å¤©æ•°</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>growth_days <span class=\"token operator\">=</span> <span class=\"token number\">7</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># è¿ç»­å¢é•¿ 7 å¤©çš„è‚¡ä»·è®¡ç®—</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>finally_stick_price <span class=\"token operator\">=</span> stock_price <span class=\"token operator\">*</span> stock_price_daily_growth_factor <span class=\"token operator\">**</span> growth_days</pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"å…¬å¸ï¼š</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>name<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">,è‚¡ç¥¨ä»£ç ï¼š</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>stock_code<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">,å½“å‰è‚¡ä»·ï¼š</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>stock_price<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ¯æ—¥å¢é•¿ç³»æ•°æ˜¯ï¼š%.1f,ç»è¿‡%då¤©çš„å¢é•¿å,è‚¡ä»·è¾¾åˆ°äº†ï¼š%.2f\"</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    stock_price_daily_growth_factor<span class=\"token punctuation\">,</span> growth_days<span class=\"token punctuation\">,</span> finally_stick_price<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\"># å…¬å¸ï¼šä¼ æ™ºæ’­å®¢ï¼Œè‚¡ç¥¨ä»£ç ï¼š003032, å½“å‰è‚¡ä»·ï¼š19.99</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># æ¯æ—¥å¢é•¿ç³»æ•°æ˜¯ï¼š1.2, ç»è¿‡ 7 å¤©çš„å¢é•¿åï¼Œè‚¡ä»·è¾¾åˆ°äº†ï¼š71.63</span></pre></td></tr></table></figure><h1 id=\"ifåŸºæœ¬æ ¼å¼\"><a class=\"anchor\" href=\"#ifåŸºæœ¬æ ¼å¼\">#</a> if åŸºæœ¬æ ¼å¼</h1>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># if else æ ¼å¼</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>age <span class=\"token operator\">=</span> <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">if</span> age <span class=\"token operator\">>=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤§äº\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å°äº\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># if elif else æ ¼å¼</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">if</span> age <span class=\"token operator\">></span> <span class=\"token number\">10</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤§äº\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">elif</span> guess_num <span class=\"token operator\">==</span> <span class=\"token number\">20</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤§äº\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å°äº\"</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h1 id=\"çŒœæ•°å­—æ¸¸æˆæ¡ˆä¾‹\"><a class=\"anchor\" href=\"#çŒœæ•°å­—æ¸¸æˆæ¡ˆä¾‹\">#</a> çŒœæ•°å­—æ¸¸æˆæ¡ˆä¾‹</h1>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> random</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>num <span class=\"token operator\">=</span> random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>guess_num <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">input</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¾“å…¥ä½ è¦çŒœçš„æ•°å­—ï¼š\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">if</span> guess_num <span class=\"token operator\">></span> num<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¾“å…¥çš„è¿‡å¤§\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">elif</span> guess_num <span class=\"token operator\">&lt;</span> num<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¾“å…¥çš„è¿‡å°\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">elif</span> guess_num <span class=\"token operator\">==</span> num<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¾“å…¥æ­£ç¡®\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>guess_num1 <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">input</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¾“å…¥ä½ è¦çŒœçš„æ•°å­—ï¼š\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">if</span> guess_num1 <span class=\"token operator\">></span> num<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¾“å…¥çš„è¿‡å¤§\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">elif</span> guess_num1 <span class=\"token operator\">&lt;</span> num<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¾“å…¥çš„è¿‡å°\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">elif</span> guess_num1 <span class=\"token operator\">==</span> num<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¾“å…¥æ­£ç¡®\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>guess_num2 <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">input</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¾“å…¥ä½ è¦çŒœçš„æ•°å­—ï¼š\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">if</span> guess_num2 <span class=\"token operator\">></span> num<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¾“å…¥çš„è¿‡å¤§\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token keyword\">elif</span> guess_num2 <span class=\"token operator\">&lt;</span> num<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¾“å…¥çš„è¿‡å°\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">elif</span> guess_num2 <span class=\"token operator\">==</span> num<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¾“å…¥æ­£ç¡®\"</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h1 id=\"whileå¾ªç¯åŸºæœ¬æ ¼å¼\"><a class=\"anchor\" href=\"#whileå¾ªç¯åŸºæœ¬æ ¼å¼\">#</a> while å¾ªç¯åŸºæœ¬æ ¼å¼</h1>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>num <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin\">sum</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">while</span> num <span class=\"token operator\">&lt;=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    num <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token builtin\">sum</span> <span class=\"token operator\">+=</span> num</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1 - 100çš„å’Œï¼š\"</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># 1 - 100 çš„å’Œï¼š 5150</span></pre></td></tr></table></figure><h1 id=\"forå¾ªç¯åŸºæœ¬æ ¼å¼\"><a class=\"anchor\" href=\"#forå¾ªç¯åŸºæœ¬æ ¼å¼\">#</a> for å¾ªç¯åŸºæœ¬æ ¼å¼</h1>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># for ä¸´æ—¶å˜é‡ in è¢«ç»Ÿè®¡çš„æ•°æ®:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># ç»Ÿè®¡ä¸‹é¢å­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªå­—æ¯ a</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>name <span class=\"token operator\">=</span> <span class=\"token string\">\"itheima is a brand of itcast\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>count <span class=\"token operator\">=</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> name<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">if</span> x <span class=\"token operator\">==</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"è¢«ç»Ÿè®¡çš„å­—ç¬¦ä¸²ä¸­æœ‰</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>count<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">ä¸ªa\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token triple-quoted-string string\">\"\"\"</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>æ±‚å¶æ•°</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\"\"\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>num <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>ou_shu <span class=\"token operator\">=</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">if</span> x <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        ou_shu <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"æœ‰</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>ou_shu<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">ä¸ªå¶æ•°\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># æœ‰ 49 ä¸ªå¶æ•°</span></pre></td></tr></table></figure><h1 id=\"rangeè¯­å¥çš„åŸºæœ¬ä½¿ç”¨\"><a class=\"anchor\" href=\"#rangeè¯­å¥çš„åŸºæœ¬ä½¿ç”¨\">#</a> range è¯­å¥çš„åŸºæœ¬ä½¿ç”¨</h1>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token triple-quoted-string string\">\"\"\"</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>æ¼”ç¤ºPythonä¸­çš„range()è¯­å¥çš„åŸºæœ¬ä½¿ç”¨</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\"\"\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># range è¯­æ³• 1 range (name)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># ä» 0 å¼€å§‹ä¸åŒ…å« 10</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># range è¯­æ³• 2 range (num1,num2)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\"># ä» 5 å¼€å§‹åˆ° 10 ç»“æŸ (ä¸åŒ…å« 10 æœ¬èº«) çš„ä¸€ä¸ªæ•°å­—åºåˆ—ï¼Œæ•°å­—ä¹‹é—´çš„é—´éš”æ˜¯ 1</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\"># range è¯­æ³• 3 range (num1,num2,step)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\"># ä» 5 å¼€å§‹åˆ° 10 ç»“æŸ (ä¸åŒ…å« 10 æœ¬èº«) çš„ä¸€ä¸ªæ•°å­—åºåˆ—ï¼Œæ•°å­—ä¹‹é—´çš„é—´éš”æ˜¯ 2</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># end è¡¨ç¤ºä¸æ¢è¡Œ</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\"># 0 1 2 3 4 5 6 7 8 9 </span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\"># 5 6 7 8 9 </span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\"># 5 7 9</span></pre></td></tr></table></figure><h1 id=\"99ä¹˜æ³•è¡¨æ¡ˆä¾‹\"><a class=\"anchor\" href=\"#99ä¹˜æ³•è¡¨æ¡ˆä¾‹\">#</a> 99 ä¹˜æ³•è¡¨æ¡ˆä¾‹</h1>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>i <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">while</span> i <span class=\"token operator\">&lt;=</span> <span class=\"token number\">9</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    j <span class=\"token operator\">=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">while</span> j <span class=\"token operator\">&lt;=</span> i<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>j<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">*</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>i<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">=</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>j <span class=\"token operator\">*</span> i<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\\t\"</span></span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        j <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    i <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 1*1=1\t</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># 1*2=2 2*2=4\t</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># 1*3=3\t2*3=6\t3*3=9\t</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 1*4=4\t2*4=8\t3*4=12\t4*4=16\t</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\"># 1*5=5\t2*5=10\t3*5=15\t4*5=20\t5*5=25\t</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\"># 1*6=6\t2*6=12\t3*6=18\t4*6=24\t5*6=30\t6*6=36\t</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># 1*7=7\t2*7=14\t3*7=21\t4*7=28\t5*7=35\t6*7=42\t7*7=49\t</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\"># 1*8=8\t2*8=16\t3*8=24\t4*8=32\t5*8=40\t6*8=48\t7*8=56\t8*8=64\t</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\"># 1*9=9\t2*9=18\t3*9=27\t4*9=36\t5*9=45\t6*9=54\t7*9=63\t8*9=72\t9*9=81</span></pre></td></tr></table></figure><figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">for</span> c <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> x<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">*</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>x<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">=</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>c <span class=\"token operator\">*</span> x<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\\t\"</span></span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># 1*1=1\t</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 1*2=2 2*2=4\t</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># 1*3=3\t2*3=6\t3*3=9\t</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># 1*4=4\t2*4=8\t3*4=12\t4*4=16\t</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 1*5=5\t2*5=10\t3*5=15\t4*5=20\t5*5=25\t</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># 1*6=6\t2*6=12\t3*6=18\t4*6=24\t5*6=30\t6*6=36\t</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># 1*7=7\t2*7=14\t3*7=21\t4*7=28\t5*7=35\t6*7=42\t7*7=49\t</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 1*8=8\t2*8=16\t3*8=24\t4*8=32\t5*8=40\t6*8=48\t7*8=56\t8*8=64\t</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\"># 1*9=9\t2*9=18\t3*9=27\t4*9=36\t5*9=45\t6*9=54\t7*9=63\t8*9=72\t9*9=81</span></pre></td></tr></table></figure>",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Python",
                "Java",
                "Python"
            ]
        },
        {
            "id": "https://rainrem.top/3D%E5%BB%BA%E6%A8%A1%E4%B8%8E%E8%89%BA%E6%9C%AF/3Dmax%E5%9F%BA%E7%A1%80/",
            "url": "https://rainrem.top/3D%E5%BB%BA%E6%A8%A1%E4%B8%8E%E8%89%BA%E6%9C%AF/3Dmax%E5%9F%BA%E7%A1%80/",
            "title": "3DMaxåŸºç¡€è·Ÿå¿«æ·é”®",
            "date_published": "2023-09-20T08:14:00.000Z",
            "content_html": "<h1 id=\"å¿«æ·é”®\"><a class=\"anchor\" href=\"#å¿«æ·é”®\">#</a> å¿«æ·é”®</h1>\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">#</span> å•ä½è®¾ç½®</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">#</span> è‡ªå®šä¹‰â†’å•ä½è®¾ç½®â†’ç³»ç»Ÿå•ä½è®¾ç½®â†’ç±³æˆ–å˜ç±³æˆ–è€…ä½¿ç”¨é€šç”¨å•ä½</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">#</span> å³é”®å–æ¶ˆå‘½ä»¤</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Alt+W è§†å›¾åˆ‡æ¢</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Alt+é¼ æ ‡ä¸­é—´ è§†å›¾æ—‹è½¬</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>P é€è§†å›¾</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>T é¡¶è§†å›¾</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>F å‰è§†å›¾</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Z æœ€ä½³æ˜¾ç¤º</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>U æ­£äº¤è§†å›¾</pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>F4 å¼€å¯çº¿æ¡†</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>F3 å®ä½“çº¿æ¡†åˆ‡æ¢</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>Alt+X åŠé€æ˜¾ç¤º</pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">#</span> é€‰æ‹©å·¥å…·</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>å¿«æ·é”®ï¼šQ</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>Ctrl+é¼ æ ‡å·¦é”® åŠ é€‰</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>Alt+é¼ æ ‡å·¦é”® å‡é€‰</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">#</span> ç§»åŠ¨å·¥å…·</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>å¿«æ·é”®ï¼šW</pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">#</span> æ—‹è½¬å·¥å…·</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>å¿«æ·é”®ï¼šE</pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">#</span> ç¼©æ”¾å·¥å…·</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>å¿«æ·é”®ï¼šR</pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">#</span> æ•æ‰å·¥å…·</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>å¿«æ·é”®ï¼šS</pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">#</span> è¿›é˜¶å·¥å…·</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">##</span> 3Dæ•æ‰å·¥å…· å¯ä»¥å³é”®3Dæ•æ‰æ‰“å¼€é€‰é¡¹æ‰“å¼€æ•æ‰å†»ç»“å¯¹è±¡ ç©ºæ ¼é”å®šé€‰ä¸­ç‰©ä½“</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>å¿«æ·é”®ï¼šS</pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">##</span> è§’åº¦æ•æ‰å·¥å…·</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>å¿«æ·é”®ï¼šA</pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">##</span> æè´¨ç¼–è¾‘å™¨</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>å¿«æ·é”®ï¼šM</pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token title important\"><span class=\"token punctuation\">##</span> å¯¹é½ä¸é•œåƒ</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>å¿«æ·é”®ï¼šAlt+A</pre></td></tr></table></figure>",
            "tags": [
                "3Då»ºæ¨¡ä¸è‰ºæœ¯",
                "3DMax",
                "3Då»ºæ¨¡ä¸è‰ºæœ¯",
                "3DMax"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/maven/%E4%B8%8A%E4%BC%A0maven%E4%B8%AD%E5%A4%AE%E4%BB%93%E5%BA%93/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/maven/%E4%B8%8A%E4%BC%A0maven%E4%B8%AD%E5%A4%AE%E4%BB%93%E5%BA%93/",
            "title": "å¦‚ä½•å°†ä¸ªäººé¡¹ç›®ä¸Šä¼ è‡³Mavenä¸­å¤®ä»“åº“",
            "date_published": "2023-09-02T03:17:00.000Z",
            "content_html": "<blockquote>\n<p>å°†è‡ªå·±çš„å¼€æº jar åŒ…ä¸Šä¼ è‡³ Maven ä¸­å¤®ä»“åº“ï¼Œå…¶ä¸­è¿˜æ˜¯æœ‰ä¸å°‘å‘çš„ï¼Œæ‰€ä¸€å¼€ä¸€ç¯‡æ–‡ç« åšä¸‹è®°å½•ã€‚</p>\n</blockquote>\n<h1 id=\"æ³¨å†Œsonatypeè´¦å·\"><a class=\"anchor\" href=\"#æ³¨å†Œsonatypeè´¦å·\">#</a> æ³¨å†Œ sonatype è´¦å·</h1>\n<ul>\n<li>è¿›å…¥ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9pc3N1ZXMuc29uYXR5cGUub3JnL3NlY3VyZS9TaWdudXAhZGVmYXVsdC5qc3Bh\">issues.sonatype.org</span> æ³¨å†Œè´¦å·ï¼ŒåŸºäºè¿™ä¸ªå¹³å°æ‰å¯ä»¥ä¸Šä¼ è‡³ <code>Maven</code>  ä»“åº“ã€‚<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBJoeU.png\" alt=\"pPBJoeU.png\" /></li>\n<li>æ³¨å†Œå®Œæˆåéœ€è¦è®°ä½ <code>è´¦å· å¯†ç </code> ï¼Œåé¢ä¸Šä¼ éœ€è¦è¿›è¡ŒæˆæƒéªŒè¯ã€‚</li>\n</ul>\n<h1 id=\"æ–°å»ºmavené¡¹ç›®å·¥å•\"><a class=\"anchor\" href=\"#æ–°å»ºmavené¡¹ç›®å·¥å•\">#</a> æ–°å»º Maven é¡¹ç›®å·¥å•</h1>\n<ol>\n<li>é¡¹ç›®é€‰æ‹©:  <code>Community Support - Open Source Project Repository Hosting (OSSRH)</code></li>\n<li>é—®é¢˜é€‰æ‹©:  <code>New Project</code> <br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBYSeO.png\" alt=\"pPBYSeO.png\" /></li>\n<li><code>Group Id</code> : æ¨èä½¿ç”¨è‡ªå·±çš„åŸŸåï¼Œå¹¶éµå¾ªä»¥ä¸‹æ ¼å¼\n<ul>\n<li>ä¾‹å¦‚ï¼š <code>rainrem.top</code></li>\n<li>åˆ™å¡«ï¼š <code>top.rainrem</code></li>\n</ul>\n</li>\n<li><code>Project URL</code> : é¡¹ç›®åœ°å€</li>\n<li><code>SCM url</code> : é¡¹ç›®å…‹éš†åœ°å€</li>\n<li><code>Username(s)</code> : æ³¨å†Œæ—¶çš„ç”¨æˆ·å<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBtOr6.png\" alt=\"pPBtOr6.png\" /></li>\n<li>æ–°å»ºå·¥å•åç­‰å¾…ç®¡ç†å‘˜å®¡æ ¸</li>\n<li>é—®é¢˜ â†’ æˆ‘çš„æŠ¥å‘Šä¸­æŸ¥çœ‹ <code>issue</code>  è¿›åº¦<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBNseK.png\" alt=\"pPBNseK.png\" /></li>\n<li>ç­‰å¾…å‡ åˆ†é’Ÿåï¼Œå°±ä¼šæ”¶åˆ° <code>OSSRH</code>  çš„å›å¤ï¼Œå¦‚ä¸‹å›¾<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBN4yt.png\" alt=\"pPBN4yt.png\" /></li>\n<li>ç¿»è¯‘ä¸ºä¸­æ–‡çš„æŠ¥å‘Šæ˜¾ç¤º<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBUbB6.png\" alt=\"pPBUbB6.png\" /></li>\n<li>è‡ªå·±çš„åŸŸåï¼Œåˆ™éœ€è¦åœ¨åŸŸåè§£æä¸­å¢åŠ  <code>TXT</code>  çš„è§£æ<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBU81A.png\" alt=\"pPBU81A.png\" /></li>\n<li>å¦‚æœæ˜¯  <code>io.github.xxx</code>  è¿™ç§ <code>git</code>  åŸŸåï¼Œåˆ™éœ€è¦æ–°å»ºå®Œæ•´å…¬å¼€çš„ <code>git</code>  ä»“åº“ï¼Œå¦‚ä¸‹ä¸¤ä¸ªå›¾ (ç½‘ä¸Šæ‰¾çš„)<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBUDpj.png\" alt=\"pPBUDpj.png\" /><br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBUr1s.png\" alt=\"pPBUr1s.png\" /></li>\n<li>ç„¶åç‚¹å‡» <code>Respond</code>  æŒ‰é’®å¼€å¯å·¥å•ï¼Œè®©ç®¡ç†å‘˜å»éªŒè¯</li>\n<li>ç­‰å¾…å›å¤ï¼Œå›å¤ç»“æœå¦‚ä¸‹ï¼Œå°±è¡¨ç¤ºå¯ä»¥æ¨é€ä½ çš„ <code>jar</code>  åŒ…åˆ°ä»“åº“ä¸­äº†<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBUXND.png\" alt=\"pPBUXND.png\" /></li>\n<li>ç¿»è¯‘ä¸ºä¸­æ–‡çš„æŠ¥å‘Šæ˜¾ç¤º<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBUx9H.png\" alt=\"pPBUx9H.png\" /></li>\n</ol>\n<h1 id=\"gpgå¯†åŒ™å¤„ç†\"><a class=\"anchor\" href=\"#gpgå¯†åŒ™å¤„ç†\">#</a> GPG å¯†åŒ™å¤„ç†</h1>\n<ul>\n<li>æˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>gpg</code>  ç”Ÿæˆç§˜é’¥ï¼Œåœ¨åç»­å‘å¸ƒ <code>jar</code>  åŒ…æ—¶ä¼šæ ¹æ®ç”Ÿæˆçš„ç§˜é’¥è¿›è¡Œæ ¡éªŒã€‚</li>\n<li>å› ä¸º <code>sonatype</code>  ä¹Ÿéœ€è¦å¯¹ä¸Šä¼ è¿™ä¸€è¡Œä¸ºè¿›è¡Œæƒé™çš„æ ¡éªŒï¼Œé¿å…æ¶æ„ä¸Šä¼ æ–‡ä»¶çš„è¡Œä¸ºã€‚</li>\n</ul>\n<h2 id=\"å®‰è£…gpg\"><a class=\"anchor\" href=\"#å®‰è£…gpg\">#</a> å®‰è£… gpg</h2>\n<ul>\n<li>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuZ251cGcub3JnL2Rvd25sb2FkLw==\">www.gnupg.org</span></li>\n<li>Window ç‰ˆä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9maWxlcy5ncGc0d2luLm9yZy9ncGc0d2luLTQuMC40LmV4ZQ==\">gpg4win-4.0.4.exe</span></li>\n<li>ä¸‹è½½å®Œæˆåä¸€è·¯ç‚¹å‡»ä¸‹ä¸€æ­¥å³å¯å®Œæˆå®‰è£…ã€‚</li>\n</ul>\n<h2 id=\"åˆ›å»ºç§˜é’¥\"><a class=\"anchor\" href=\"#åˆ›å»ºç§˜é’¥\">#</a> åˆ›å»ºç§˜é’¥</h2>\n<ul>\n<li>å®‰è£…å®Œæˆåï¼Œæ‰“å¼€å‘½ä»¤è¡Œæ‰§è¡Œä¸‹é¢å‘½ä»¤æ¥ç”Ÿæˆç§˜é’¥ã€‚</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>å‘½ä»¤è¡Œæç¤ºç¬¦</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[root@localhost] $\"></td><td><pre>gpg --gen-key</pre></td></tr></table></figure><ul>\n<li>åœ¨ç”Ÿæˆç§˜é’¥çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè¦æ±‚è¾“å…¥å§“åå’Œé‚®ç®±åœ°å€ã€‚</li>\n<li>åœ¨å‘½ä»¤è¡Œçª—å£ä¸‹å¡«å®Œè¿™ä¸¤ä¸ªä¿¡æ¯åï¼Œè¿˜ä¼šå¼¹çª—è¦æ±‚è¾“å…¥ä¸€ä¸ªç”Ÿæˆç§˜é’¥çš„å¯†ç ï¼Œåˆ‡è®°éœ€è¦è®°ä½æ­¤å¯†ç ä¸‹é¢ä¼šç”¨åˆ°ã€‚<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBdbFO.png\" alt=\"pPBdbFO.png\" /></li>\n<li>å¡«å®Œåç»§ç»­ï¼Œç§˜é’¥å°±ä¼šæˆåŠŸç”Ÿæˆå¹¶ä¿å­˜åœ¨æœ¬åœ°ç›®å½•ä¸‹ã€‚<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBw9Tf.png\" alt=\"pPBw9Tf.png\" /></li>\n</ul>\n<h2 id=\"ä¸Šä¼ ç§˜é’¥\"><a class=\"anchor\" href=\"#ä¸Šä¼ ç§˜é’¥\">#</a> ä¸Šä¼ ç§˜é’¥</h2>\n<ul>\n<li>æˆ‘ä»¬éœ€è¦æŠŠå…¬é’¥ä¸Šä¼ è‡³æœåŠ¡å™¨ä¾› <code>sonatype</code>  éªŒè¯ï¼Œé€šè¿‡ä¸‹é¢å‘½ä»¤ä¸Šä¼ å…¬é’¥ã€‚</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>å‘½ä»¤è¡Œæç¤ºç¬¦</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[root@localhost] $\"></td><td><pre>gpg --keyserver hkp://keyserver.ubuntu.com:11371 --send-keys ä½ è‡ªå·±çš„ç§˜é’¥</pre></td></tr></table></figure><ul>\n<li>éªŒè¯å…¬é’¥æ˜¯å¦æˆåŠŸä¸Šä¼ è‡³æœåŠ¡å™¨</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>å‘½ä»¤è¡Œæç¤ºç¬¦</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[root@localhost] $\"></td><td><pre>gpg --keyserver hkp://keyserver.ubuntu.com:11371 --recv-keys ä½ è‡ªå·±çš„ç§˜é’¥</pre></td></tr></table></figure><p><img data-src=\"https://s1.ax1x.com/2023/09/02/pPB0WrR.png\" alt=\"pPB0WrR.png\" /></p>\n<ul>\n<li>å¦‚æœä¸Šä¼ å¤±è´¥è¯·æ›´æ¢æœåŠ¡å™¨åœ°å€å°† <code>keyserver.ubuntu.com</code>  æ›¿æ¢ä»¥ä¸‹å…¶ä¸­ä¹‹ä¸€ï¼Œå…¨éƒ¨éƒ½æ˜¯ <code>11371</code>  çš„ç«¯å£\n<ul>\n<li><code>pool.sks-keyservers.ne</code></li>\n<li><code>keys.openpgp.org</code></li>\n<li><code>pgp.mit.edu</code></li>\n</ul>\n</li>\n<li>è¿™äº›å…¬é’¥æœåŠ¡å™¨é—´ä¼šåŒæ­¥å®ƒä»¬çš„æ•°æ®ç»™å…¶ä»–æœåŠ¡å™¨ï¼Œæ‰€ä»¥åªè¦ä¸Šä¼ æˆåŠŸåˆ°å…¶ä¸­ä¸€å°å¯ä»¥ã€‚</li>\n</ul>\n<h1 id=\"settingsxmlé…ç½®\"><a class=\"anchor\" href=\"#settingsxmlé…ç½®\">#</a> settings.xml é…ç½®</h1>\n<ul>\n<li>å¦‚æœä¸çŸ¥é“ <code>Maven</code>  çš„ <code>settings.xml</code> <br />\n çš„ä½ç½®ï¼Œæ‰“å¼€ <code>IDEA</code> â†’ <code>æ–‡ä»¶</code> â†’ <code>è®¾ç½®</code> â†’ <code>æ„å»ºã€æ‰§è¡Œã€éƒ¨ç½²</code> â†’ <code>æ„å»ºå·¥å…·</code> â†’ <code>Maven</code></li>\n<li>æŸ¥çœ‹ <code>Maven</code>  ä¸»è·¯å¾„ï¼Œå¦‚æœæ˜¯ <code>Bundled (Maven 3)</code> ï¼Œ <code>settings.xml</code>  çš„ä½ç½®åˆ™åœ¨ä½ å®‰è£… <code>IDEA</code> <br />\n è·¯å¾„ä¸‹çš„â†’ <code>plugins</code> â†’ <code>maven</code> â†’ <code>lib</code> â†’ <code>maven3</code> â†’ <code>conf</code>  æ–‡ä»¶å¤¹ä¸‹</li>\n<li>ä¾‹å¦‚ï¼š <code>C:\\LightRainData\\IDEA\\IntelliJ IDEA 2023.1.2\\plugins\\maven\\lib\\maven3\\conf</code></li>\n</ul>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">&lt;!-- åœ¨ settings.xml ä¸­çš„ servers èŠ‚ç‚¹ä¸‹æ·»åŠ  --></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>server</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">&lt;!-- æ­¤å¤„ id éœ€è¦å’Œ pom.xml ä¸­é…ç½®çš„ serverId ä¿æŒä¸€è‡´ --></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>ossrh<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">&lt;!-- é…ç½®ä½ æ³¨å†Œ issues.sonatype.org çš„è´¦å·å¯†ç  --></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>username</span><span class=\"token punctuation\">></span></span>LightRain<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>username</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>password</span><span class=\"token punctuation\">></span></span>xxx<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>password</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>server</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">&lt;!-- åœ¨ settings.xml ä¸­çš„ profiles èŠ‚ç‚¹ä¸‹æ·»åŠ  --></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>profile</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">&lt;!-- æ­¤å¤„ id éœ€è¦å’Œ pom.xml ä¸­é…ç½®çš„ serverId ä¿æŒä¸€è‡´ --></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>ossrh<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>activation</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>activeByDefault</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>activeByDefault</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>activation</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>gpg.executable</span><span class=\"token punctuation\">></span></span>gpg<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>gpg.executable</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">&lt;!-- ç”Ÿæˆç§˜é’¥æ—¶å¡«å†™çš„å¯†ç  --></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>gpg.passphrase</span><span class=\"token punctuation\">></span></span>2qmT84jWycBh<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>gpg.passphrase</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>profile</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><ul>\n<li>ä»¥ä¸‹ä¸º <code>settings.xml</code>  çš„å…¨éƒ¨é…ç½®</li>\n</ul>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>settings.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>settings</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/SETTINGS/1.2.0<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>          <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>          <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/SETTINGS/1.2.0 http://maven.apache.org/xsd/settings-1.2.0.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pluginGroups</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pluginGroups</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>proxies</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>proxies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servers</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>server</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token comment\">&lt;!-- æ­¤å¤„ id éœ€è¦å’Œ pom.xml ä¸­é…ç½®çš„ serverId ä¿æŒä¸€è‡´ --></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>ossrh<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token comment\">&lt;!-- é…ç½®ä½ æ³¨å†Œ issues.sonatype.org çš„è´¦å·å¯†ç  --></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>username</span><span class=\"token punctuation\">></span></span>LightRain<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>username</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>password</span><span class=\"token punctuation\">></span></span>xxx<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>password</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>server</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servers</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirrors</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirror</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>maven-default-http-blocker<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mirrorOf</span><span class=\"token punctuation\">></span></span>external:http:*<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirrorOf</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>Pseudo repository to mirror external repositories initially using HTTP.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>http://0.0.0.0/<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>blocked</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>blocked</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirror</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mirrors</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>profiles</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>profile</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token comment\">&lt;!-- æ­¤å¤„ id éœ€è¦å’Œ pom.xml ä¸­é…ç½®çš„ serverId ä¿æŒä¸€è‡´ --></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>ossrh<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>activation</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>activeByDefault</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>activeByDefault</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>activation</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>gpg.executable</span><span class=\"token punctuation\">></span></span>gpg<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>gpg.executable</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>                <span class=\"token comment\">&lt;!-- ç”Ÿæˆç§˜é’¥æ—¶å¡«å†™çš„å¯†ç  --></span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>gpg.passphrase</span><span class=\"token punctuation\">></span></span>2qmT84jWycBh<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>gpg.passphrase</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>profile</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>profiles</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>settings</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><ul>\n<li>å°†ä¿®æ”¹å®Œæˆåçš„ <code>settings.xml</code>  ä¿å­˜ã€‚\n<ol>\n<li>ä¿®è¯¥ <code>IDEA</code>  ä¸­ <code>Maven</code>  ä¸‹çš„ <code>settings.xml</code>  è·¯å¾„æŒ‡å‘</li>\n<li>æˆ–å°† <code>settings.xml</code>  å¤åˆ¶ä¸€ä»½åˆ° <code>User</code>  ç”¨æˆ·ä¸‹çš„ <code>.m2</code>  æ–‡ä»¶å¤¹ä¸‹</li>\n<li>ä¾‹å¦‚ï¼š <code>C:\\User\\LightRain\\.m2\\settings.xml</code> <br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBsNF0.png\" alt=\"pPBsNF0.png\" /></li>\n</ol>\n</li>\n</ul>\n<h1 id=\"pomxmlé…ç½®\"><a class=\"anchor\" href=\"#pomxmlé…ç½®\">#</a> pom.xml é…ç½®</h1>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>pom.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>project</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/POM/4.0.0<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>         <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>         <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>modelVersion</span><span class=\"token punctuation\">></span></span>4.0.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>modelVersion</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">&lt;!-- æ­¤å¤„çš„ groupId ä¸€å®šè¦å’Œä½ ç”³è¯·å·¥å•çš„ groupId ä¿æŒä¸€è‡´ --></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>top.rainrem<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">&lt;!-- é¡¹ç›®åç§° --></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>toolbox<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">&lt;!-- ç‰ˆæœ¬å· --></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>1.0.0-RELEASE<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">&lt;!-- åç§° --></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>toolbox<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">&lt;!-- æè¿° --></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>description</span><span class=\"token punctuation\">></span></span>å·¥å…·<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>description</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">&lt;!-- é¡¹ç›®ä½¿ç”¨çš„ java ç‰ˆæœ¬ --></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>java.version</span><span class=\"token punctuation\">></span></span>17<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>java.version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maven.compiler.source</span><span class=\"token punctuation\">></span></span>17<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maven.compiler.source</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maven.compiler.target</span><span class=\"token punctuation\">></span></span>17<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maven.compiler.target</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>project.build.sourceEncoding</span><span class=\"token punctuation\">></span></span>UTF-8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>project.build.sourceEncoding</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">&lt;!-- é¡¹ç›®ä»“åº“åœ°å€ï¼Œæ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ --></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>projectUrl</span><span class=\"token punctuation\">></span></span>https://gitee.com/RainSauce/toolbox.git<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>projectUrl</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token comment\">&lt;!-- serverId é…ç½®ï¼Œéœ€è¦å’Œ settings.xml ä¸­ servers.server.id ä¿æŒä¸€è‡´ --></span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>serverId</span><span class=\"token punctuation\">></span></span>ossrh<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>serverId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>properties</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token comment\">&lt;!-- å¼€å‘è€…ä¿¡æ¯ --></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>developers</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>developer</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>LightRain<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>email</span><span class=\"token punctuation\">></span></span>3164395730@qq.com<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>email</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>$&#123;projectUrl&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>developer</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>developers</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>$&#123;projectUrl&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token comment\">&lt;!-- è®¸å¯è¯ä¿¡æ¯ï¼Œè¿™é‡Œæ˜¯ Apache 2.0 çš„è®¸å¯è¯ï¼Œå¤§å®¶æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ --></span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>licenses</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>license</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>The Apache Software License, Version2.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>https://www.apache.org/licenses/LICENSE-2.0.txt<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>distribution</span><span class=\"token punctuation\">></span></span>repo,manual<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>distribution</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>license</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>licenses</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scm</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token comment\">&lt;!-- é‡‡ç”¨ projectUrl å˜é‡ä»£æ›¿è¿™ä¸ªå€¼ï¼Œæ–¹ä¾¿ç»™é‡å¤åˆ©ç”¨è¿™ä¸ªé…ç½®ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„æ ‡ç­¾æ›¿æ¢ä¸€ä¸‹å€¼å°±è¡Œ --></span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>connection</span><span class=\"token punctuation\">></span></span>$&#123;projectUrl&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>connection</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>developerConnection</span><span class=\"token punctuation\">></span></span>$&#123;projectUrl&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>developerConnection</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>$&#123;projectUrl&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scm</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>distributionManagement</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>snapshotRepository</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            <span class=\"token comment\">&lt;!-- è¿™ä¸ª id å’Œ settings.xml ä¸­ servers.server.id è¦ç›¸åŒï¼Œå› ä¸ºä¸Šä¼  jar éœ€è¦ç™»å½•æ‰æœ‰æƒé™ --></span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>$&#123;serverId&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>OSS Snapshots Repository<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            <span class=\"token comment\">&lt;!-- å®˜æ–¹ä»“åº“åœ°å€ä¸éœ€è¦ä¿®æ”¹ --></span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>https://s01.oss.sonatype.org/content/repositories/snapshots/<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>snapshotRepository</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>repository</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>            <span class=\"token comment\">&lt;!-- è¿™ä¸ª id å’Œ settings.xml ä¸­ servers.server.id è¦ç›¸åŒï¼Œå› ä¸ºä¸Šä¼  jar éœ€è¦ç™»å½•æ‰æœ‰æƒé™ --></span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>$&#123;serverId&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>OSS Staging Repository<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>            <span class=\"token comment\">&lt;!-- å®˜æ–¹ä»“åº“åœ°å€ä¸éœ€è¦ä¿®æ”¹ --></span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>repository</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>distributionManagement</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token comment\">&lt;!-- æ­¤å¤„åæ ‡ä¾èµ–è‡ªå·±å†³å®šæ·»åŠ  --></span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token comment\">&lt;!-- æ‰“åŒ…åŠæ’ä»¶ä¿¡æ¯ --></span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>    <span class=\"token comment\">&lt;!-- è¿™äº›é…ç½®åŸºæœ¬ä¸ç”¨ä¿®æ”¹ï¼ŒåŸæ ·ç²˜è´´è¿›å»å³å¯ --></span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    <span class=\"token comment\">&lt;!-- å¦‚æœ plugins ä¸­çš„åæ ‡çˆ†çº¢ï¼Œå°†å…¶æ·»åŠ åˆ° dependencies ä¸­å®Œæˆæ‹‰å»å³å¯è§£å†³ --></span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token comment\">&lt;!-- å…¶ä¸­ maven-gpg-plugin æ’ä»¶ä¼šè°ƒç”¨ä¸Šæ–‡ä¸­å®‰è£…çš„ GnuPG è½¯ä»¶ï¼Œå¯¹æ–‡ä»¶è¿›è¡Œç­¾å --></span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>profiles</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>profile</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>id</span><span class=\"token punctuation\">></span></span>release<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>id</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>build</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugins</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>                    <span class=\"token comment\">&lt;!-- Source --></span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.apache.maven.plugins<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>maven-source-plugin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>2.2.1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>executions</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>execution</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>phase</span><span class=\"token punctuation\">></span></span>package<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>phase</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>goals</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>                                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>goal</span><span class=\"token punctuation\">></span></span>jar-no-fork<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>goal</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>goals</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>execution</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>executions</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>                    <span class=\"token comment\">&lt;!-- Javadoc --></span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.apache.maven.plugins<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>maven-javadoc-plugin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>2.9.1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>show</span><span class=\"token punctuation\">></span></span>private<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>show</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nohelp</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nohelp</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>charset</span><span class=\"token punctuation\">></span></span>UTF-8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>charset</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>encoding</span><span class=\"token punctuation\">></span></span>UTF-8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>encoding</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>docencoding</span><span class=\"token punctuation\">></span></span>UTF-8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>docencoding</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>additionalparam</span><span class=\"token punctuation\">></span></span>-Xdoclint:none<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>additionalparam</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>                            <span class=\"token comment\">&lt;!-- TODO ä¸´æ—¶è§£å†³ä¸è§„èŒƒçš„ javadoc ç”ŸæˆæŠ¥é”™ï¼Œåé¢è¦è§„èŒƒåŒ–åæŠŠè¿™è¡Œå»æ‰ --></span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>executions</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>execution</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>phase</span><span class=\"token punctuation\">></span></span>package<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>phase</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>goals</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>                                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>goal</span><span class=\"token punctuation\">></span></span>jar<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>goal</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>goals</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>execution</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>executions</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>                    <span class=\"token comment\">&lt;!-- GPG --></span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.apache.maven.plugins<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>maven-gpg-plugin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>1.6<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>executions</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>execution</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>phase</span><span class=\"token punctuation\">></span></span>verify<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>phase</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>goals</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>                                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>goal</span><span class=\"token punctuation\">></span></span>sign<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>goal</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>                                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>goals</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>execution</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>executions</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>                    <span class=\"token comment\">&lt;!--Compiler --></span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.apache.maven.plugins<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>maven-compiler-plugin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>3.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span><span class=\"token punctuation\">></span></span>1.8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>source</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>target</span><span class=\"token punctuation\">></span></span>1.8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>target</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>fork</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>fork</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>verbose</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>verbose</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre>                            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>encoding</span><span class=\"token punctuation\">></span></span>UTF-8<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>encoding</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre>                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"144\"></td><td><pre>                    <span class=\"token comment\">&lt;!--Release --></span></pre></td></tr><tr><td data-num=\"145\"></td><td><pre>                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.apache.maven.plugins<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>maven-release-plugin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"148\"></td><td><pre>                        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>2.5.1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"149\"></td><td><pre>                    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugin</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"150\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>plugins</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"151\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>build</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"152\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>profile</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"153\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>profiles</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"154\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>project</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><ul>\n<li>éœ€è¦æ³¨æ„çš„åœ°æ–¹:\n<ul>\n<li><code>snapshotRepository</code>  æ˜¯é¡¹ç›®å¿«ç…§ç‰ˆæœ¬ <code>snapshot</code>  ä¸Šä¼ åœ°å€ï¼Œå¦‚æœé¡¹ç›®çš„ç‰ˆæœ¬å·ï¼Œå¦‚ï¼š <code>1.0.0-SNAPSHOT</code> ï¼Œä¼šä¸Šä¼ åˆ°è¿™ä¸ªä»“åº“ã€‚</li>\n<li>é€šå¸¸æƒ…å†µä¸‹ <code>repository</code>  æ˜¯æˆ‘ä»¬çœŸæ­£éœ€è¦å‘å¸ƒé¡¹ç›®çš„è¿œç¨‹ä»“åº“ä¸Šä¼ åœ°å€ã€‚éœ€è¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬è¿™é‡Œå†™çš„æ˜¯ <code>staging</code> <br />\n æš‚å­˜åœ°å€ï¼Œè€Œä¸æ˜¯ <code>release</code>  ç‰ˆæœ¬çš„åœ°å€ã€‚ï¼ˆä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿåæ–‡è¯¦è¿°ï¼‰</li>\n<li>æˆ‘ä»¬ä¸Šä¼ çš„è¿œç¨‹ä»“åº“çš„åœ°å€æ˜¯å¸¦ <code>s01</code>  å‰ç¼€çš„ï¼Œè€Œæ¯”è¾ƒæ—§çš„æ–‡ç« ä¸­ä¸å¸¦ <code>s01</code>  å‰ç¼€ã€‚</li>\n<li>å› ä¸ºæ—§çš„ <code>sonatype</code>   <code>maven</code>  ä»“åº“å·²ç»èµ„æºæ»¡äº†ï¼Œå®˜æ–¹æ–°å»ºäº†ä¸€ä¸ª <code>s01</code>   <code>maven</code>  ä»“åº“ã€‚</li>\n<li>ç°é˜¶æ®µåœ¨ <code>sonatype</code>   <code>JIRA</code>  ç®¡ç†å¹³å°ä¸Šæ³¨å†Œçš„ç”¨æˆ·ï¼Œåªèƒ½ä¸Šä¼ è¿™ä¸ªæ–°çš„ <code>s01</code>  ä»“åº“ã€‚</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"æ‰“åŒ…ä¸Šä¼ \"><a class=\"anchor\" href=\"#æ‰“åŒ…ä¸Šä¼ \">#</a> æ‰“åŒ…ä¸Šä¼ </h1>\n<ul>\n<li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤è¿›è¡Œ <code>maven</code>  æ‰“åŒ…æ“ä½œ (åŒæ—¶å°†é¡¹ç›® <code>jar</code>   <code>deploy</code>  åˆ°è¿œç¨‹ <code>maven</code>  ä»“åº“)ã€‚</li>\n<li>åœ¨æ‰“åŒ…è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†æç¤ºä½ è¾“å…¥å¯†é’¥ <code>Passphrase</code> ï¼Œè¾“å…¥ä¸Šæ–‡<a href=\"#%E5%88%9B%E5%BB%BA%E7%A7%98%E9%92%A5\"> <code>gpg</code> </a> ç”Ÿæˆç§˜é’¥çš„å¯†ç å³å¯ã€‚</li>\n<li><code>-Dmaven.test.skip=true</code>  è¡¨ç¤ºè·³è¿‡æµ‹è¯•ä»£ç </li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>å‘½ä»¤è¡Œæç¤ºç¬¦</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[root@localhost] $\"></td><td><pre>mvn clean <span class=\"token function\">install</span> deploy -P release -Dmaven.test.skip<span class=\"token operator\">=</span>true</pre></td></tr></table></figure><p><img data-src=\"https://s1.ax1x.com/2023/09/02/pPBRGmF.png\" alt=\"pPBRGmF.png\" /></p>\n<ul>\n<li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š\n<ul>\n<li>ä¸è¦ä½¿ç”¨ <code>IDEA</code>  çš„ <code>maven</code>  æ‰“åŒ…ï¼Œ <code>IDEA</code>  çš„ <code>maven</code>  æ‰“åŒ…ä¼šæŠ¥é”™ï¼Œæ— æ³•æ‰§è¡Œ <code>gpg</code> <br />\n å‘½ä»¤ï¼Œè‡³äºä¸ºä»€ä¹ˆæˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œä½¿ç”¨ä¸Šæ–‡çš„ <code>CMD</code>  å‘½ä»¤è¡Œæ‰“åŒ…å³å¯ã€‚</li>\n<li>ä½¿ç”¨ <code>mvn</code>  å‘½ä»¤è¡Œæ‰“åŒ…çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„ä½ çš„ <code>JAVA_HOME</code>  ç¯å¢ƒå˜é‡çš„æŒ‡å‘ï¼Œæ˜¯ä¸æ˜¯ä½ æœŸæœ›çš„ç‰ˆæœ¬ã€‚</li>\n<li>å¦‚æœ <code>maven depoly</code>  å‘å¸ƒå‘½ä»¤æŠ¥ <code>401 authentication</code>  é”™è¯¯ï¼Œæ˜¯å› ä¸ºä½ çš„ <code>maven</code>  çš„ <code>setting.xml</code> <br />\n çš„ <code>server</code>  é…ç½®çš„ç”¨æˆ·åå¯†ç é”™è¯¯ï¼Œæˆ–è€… <code>setting.xml</code>  çš„ <code>server</code>  é…ç½® <code>id</code>  ä¸ <code>pom</code> <br />\n é‡Œé¢é…ç½®çš„ <code>repository id</code>  ä¸ä¸€è‡´å¯¼è‡´çš„ã€‚</li>\n<li>ä¹Ÿæœ‰å¯èƒ½ä½ çš„ç”µè„‘ä¸Š <code>maven</code>  å¤šä¸ªç‰ˆæœ¬ï¼Œé¡¹ç›®ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ª <code>setting.xml</code> ã€‚</li>\n<li>å¦‚æœæŠ¥ <code>400</code>  é”™è¯¯ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯ä½ å·²ç»ä¸Šä¼ è¿‡çš„ jarï¼ŒåŒä¸€ä¸ªç‰ˆæœ¬å†æ¬¡é‡å¤ä¸Šä¼ äº†ã€‚</li>\n</ul>\n</li>\n<li>å¦‚æœä½¿ç”¨ <code>mvn</code>  å‘½ä»¤æ—¶å‡ºç°<a href=\"/computer-science/maven/mvn%E4%B8%8D%E6%98%AF%E5%86%85%E9%83%A8%E6%88%96%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4/\"> mvn ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤</a>â†è¯·ç‚¹å‡»æŸ¥çœ‹<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPB6e8f.png\" alt=\"pPB6e8f.png\" /></li>\n<li>ä¸Šä¼ æˆåŠŸåï¼Œå¯åœ¨å®˜ç½‘æŸ¥çœ‹åˆ°<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zMDEub3NzLnNvbmF0eXBlLm9yZy8=\"> Nexus Repository Manager</span><br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPBR0l6.png\" alt=\"pPBR0l6.png\" /></li>\n<li>å¹¶ä¸”åœ¨ <code>OSSRH</code>  ä¸­ä¹Ÿèƒ½æ”¶åˆ°åé¦ˆã€‚<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPB27J1.png\" alt=\"pPB27J1.png\" /></li>\n</ul>\n<h1 id=\"åŒæ­¥åˆ°ä¸­å¤®ä»“åº“\"><a class=\"anchor\" href=\"#åŒæ­¥åˆ°ä¸­å¤®ä»“åº“\">#</a> åŒæ­¥åˆ°ä¸­å¤®ä»“åº“</h1>\n<ul>\n<li>ä¸Šé¢çš„æ­¥éª¤åªæ˜¯æŠŠé¡¹ç›®ä¼ åˆ°äº† <code>sonatype</code>  ä¸Šäº†ï¼Œè¿˜æ²¡æœ‰å‘å¸ƒå‡ºå»ï¼Œä¸­å¤®ä»“åº“ä¸­è¿˜ä¸å­˜åœ¨ã€‚</li>\n<li>è¿›å…¥<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zMDEub3NzLnNvbmF0eXBlLm9yZy8=\"> Nexus Repository Manager</span> ä½¿ç”¨åœ¨<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pc3N1ZXMuc29uYXR5cGUub3JnLw==\"> sonatype</span> æ³¨å†Œçš„è´¦å·ç™»å½•å³å¯ã€‚</li>\n<li>ç‚¹å‡»æ—è¾¹çš„ <code>Staging Repositories</code>  å³å¯çœ‹åˆ°æˆ‘ä»¬ä¸Šä¼ çš„é¡¹ç›®ã€‚<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPB2PrF.png\" alt=\"pPB2PrF.png\" /><br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPB2kVJ.png\" alt=\"pPB2kVJ.png\" /><br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPB2Aa9.png\" alt=\"pPB2Aa9.png\" /></li>\n<li>ç‚¹å‡» <code>Refresh</code>  æŒ‰é’®åˆ·æ–°æŸ¥çœ‹ <code>Release</code>  æŒ‰é’®æ˜¯å¦å¯ä»¥ç‚¹å‡»<br />\n<img data-src=\"https://s1.ax1x.com/2023/09/02/pPB2WsU.png\" alt=\"pPB2WsU.png\" /></li>\n<li>åªè¦ç¡®è®¤åŒæ­¥åˆ° <code>Maven</code>  ä¸­å¤®ä»“åº“ä¸­ä½ å°±æ— æ³•è¿›è¡Œä¿®æ”¹å’Œåˆ é™¤è¿™æ˜¯ä¸ºäº†ä¿æŠ¤ç¨³å®šæ€§ï¼Œä½†ä½ å¯ä»¥å‘å¸ƒæ–°ç‰ˆæœ¬ã€‚</li>\n<li>ç„¶åå°±æ˜¯ç­‰å¾…å°±å¯ä»¥äº†ï¼\n<ul>\n<li>è´¦å·å¯†ç å’Œä¸Šé¢æ³¨å†Œçš„ <code>ossrh</code>  ä¸€è‡´</li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zMDEub3NzLnNvbmF0eXBlLm9yZw==\">https://s01.oss.sonatype.org</span></li>\n<li>ä¸€èˆ¬ <code>30</code>  åˆ†é’Ÿåèƒ½æŸ¥çœ‹</li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9yZXBvMS5tYXZlbi5vcmcvbWF2ZW4yLw==\">https://repo1.maven.org/maven2/</span></li>\n<li>ä¸€èˆ¬ <code>4</code>  å°æ—¶åèƒ½æŸ¥çœ‹</li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zZWFyY2gubWF2ZW4ub3JnLw==\">https://search.maven.org/</span></li>\n<li>ä¸€èˆ¬ <code>24</code>  å°æ—¶åèƒ½æŸ¥çœ‹</li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tdm5yZXBvc2l0b3J5LmNvbS8=\">https://mvnrepository.com/</span></li>\n</ul>\n</li>\n<li>ä¸€åˆ‡éƒ½ <code>OK</code>  ä¹‹åï¼Œæœ€å¥½å›åˆ° <code>sonatype JIRA</code>  ç®¡ç†å¹³å°å°† â€œé—®é¢˜â€ å…³é—­ï¼Œè¿™æ · <code>sonatype JIRA</code>  ç®¡ç†æµç¨‹å°±å…¨éƒ¨å®Œæˆäº†ã€‚</li>\n</ul>\n<h1 id=\"æ€»ç»“\"><a class=\"anchor\" href=\"#æ€»ç»“\">#</a> æ€»ç»“</h1>\n<p>ä»¥åå‘å¸ƒé¡¹ç›®ï¼Œå¦‚æœ <code>groupId</code>  ä¸å˜çš„è¯ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†å»ç”³è¯·å·¥å•äº†ã€‚<br />\nä¸Šè¿° <code>settings.xml</code>  å·²ç»é…ç½®äº† <code>servers</code> ï¼Œå°±ä¸ç”¨å†æ¬¡é…ç½®äº†ï¼Œå³ç¬¬äºŒæ­¥é…ç½® <code>settings.xml</code>  å¯ä»¥çœç•¥äº†ã€‚<br />\nç§˜é’¥ä¹Ÿå·²ç»ç”Ÿæˆè¿‡äº†ï¼Œä¹Ÿä¸éœ€è¦å†æ¬¡ç”Ÿæˆäº†ï¼Œ å³ç¬¬ä¸‰æ­¥çš„ç§˜é’¥ç”Ÿæˆä¹Ÿä¸éœ€è¦äº†ã€‚<br />\nä¸è¿‡å¦‚æœæ›´æ¢äº†ç”µè„‘ï¼Œé‚£å°±è¦é‡æ–°é…ç½® <code>settings.xml</code>  å¹¶é‡æ–°ç”Ÿæˆå¹¶ä¸Šä¼ ç§˜é’¥äº†ã€‚</p>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Maven",
                "Maven",
                "è®¡ç®—æœºç§‘å­¦"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/maven/mvn%E4%B8%8D%E6%98%AF%E5%86%85%E9%83%A8%E6%88%96%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/maven/mvn%E4%B8%8D%E6%98%AF%E5%86%85%E9%83%A8%E6%88%96%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4/",
            "title": "Maven mvnä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤",
            "date_published": "2023-09-02T02:15:00.000Z",
            "content_html": "<ul>\n<li>ä»Šå¤©åœ¨ <code>cmd</code>  ä¸Šè¿è¡Œ <code>mvn</code>  å‘½ä»¤æ—¶æç¤ºæ²¡æœ‰è¿™ä¸ªç¯å¢ƒï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹é…ç½®è¿™ä¸ªç¯å¢ƒçš„è¿‡ç¨‹ã€‚</li>\n<li>é¦–å…ˆåˆ°å®˜ç½‘ä¸‹è½½ maven åŒ…ï¼š<span class=\"exturl\" data-url=\"aHR0cDovL21hdmVuLmFwYWNoZS5vcmcvZG93bmxvYWQuY2dp\">http://maven.apache.org/download.cgi</span></li>\n<li><img data-src=\"https://s1.ax1x.com/2023/09/02/pPB8Wkj.png\" alt=\"pPB8Wkj.png\" /></li>\n<li>è¿›å»åé€‰æ‹©å¯¹åº”ç‰ˆæœ¬ä¸‹è½½ï¼Œä¸‹è½½åè§£å‹åˆ°å¯¹åº”æ–‡ä»¶å¤¹ã€‚</li>\n<li>æ¥ä¸‹æ¥æ‰¾åˆ° <code>æˆ‘çš„ç”µè„‘</code> ï¼Œé¼ æ ‡é€‰ä¸­åå³é”®é€‰æ‹© <code>å±æ€§</code> æ‰“å¼€ <code>é«˜çº§ç³»ç»Ÿé…ç½®</code></li>\n<li><img data-src=\"https://s1.ax1x.com/2023/09/02/pPB8fts.png\" alt=\"pPB8fts.png\" /></li>\n<li>æ‰“å¼€ <code>ç¯å¢ƒå˜é‡</code></li>\n<li><img data-src=\"https://s1.ax1x.com/2023/09/02/pPB8hhn.png\" alt=\"pPB8hhn.png\" /></li>\n<li>åœ¨ <code>ç³»ç»Ÿå˜é‡</code> é‡Œé¢æ‰¾åˆ° <code>path</code>  è¿™ä¸€è¡Œ</li>\n<li><img data-src=\"https://s1.ax1x.com/2023/09/02/pPB8ocV.png\" alt=\"pPB8ocV.png\" /></li>\n<li>é¼ æ ‡åŒå‡»åè¿›å…¥ <code>path</code>  ç•Œé¢ï¼Œåœ¨æœ€åä¸€è¡ŒåŠ ä¸Š (ç‚¹å‡»å³è¾¹æ–°å»º) åˆšæ‰ä¸‹è½½çš„ <code>maven</code>  ç›®å½•çš„è·¯å¾„è¦åˆ° <code>bin</code>  ç›®å½•</li>\n<li><img data-src=\"https://s1.ax1x.com/2023/09/02/pPB8TXT.png\" alt=\"pPB8TXT.png\" /></li>\n<li>ç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹è¿˜é…ç½®äº†ä¸€ä¸ª <code>MAVEN_HOME</code>  çš„è·¯å¾„ï¼Œæˆ‘å®æµ‹äº†é…ç½®è¿™ä¸€ä¸ªå°± ok äº†ã€‚</li>\n<li>é…ç½®å¥½äº†ä¹‹åä¸€è·¯ç‚¹ç¡®å®šï¼Œä¸ç„¶æ²¡ç”Ÿæ•ˆã€‚</li>\n<li>ç„¶åæ‰“å¼€ä¸€ä¸ªæ–°çš„ <code>cmd</code>  çª—å£ï¼Œæ³¨æ„ä¸€å®šæ˜¯ <code>ç®¡ç†å‘˜</code> çš„èº«ä»½æ‰“å¼€ã€‚</li>\n<li>è¾“å…¥ <code>mvn -version</code>  æµ‹è¯•æ˜¯å¦é…ç½®æˆåŠŸã€‚</li>\n<li><img data-src=\"https://s1.ax1x.com/2023/09/02/pPBGmgP.png\" alt=\"pPBGmgP.png\" /></li>\n</ul>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Maven",
                "Maven",
                "è®¡ç®—æœºç§‘å­¦"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/Java%E5%8F%8D%E5%B0%84%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%BD%BF%E7%94%A8/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/Java%E5%8F%8D%E5%B0%84%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%BD%BF%E7%94%A8/",
            "title": "Javaåå°„ä»‹ç»ä¸ä½¿ç”¨",
            "date_published": "2023-08-29T07:00:00.000Z",
            "content_html": "<h1 id=\"åå°„çš„æ¦‚è¿°\"><a class=\"anchor\" href=\"#åå°„çš„æ¦‚è¿°\">#</a> åå°„çš„æ¦‚è¿°</h1>\n<ul>\n<li>åå°„æ˜¯æ¡†æ¶è®¾è®¡çš„çµé­‚ã€‚</li>\n<li>åå°„æ˜¯ä¸€ç§åœ¨è¿è¡Œæ—¶åŠ¨æ€è·å–ç±»çš„ä¿¡æ¯å¹¶æ“ä½œç±»çš„å±æ€§ã€æ–¹æ³•å’Œæ„é€ å‡½æ•°çš„æŠ€æœ¯ã€‚</li>\n<li>å®ƒå…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è·å–ç±»çš„ä¿¡æ¯å¹¶æ“ä½œç±»çš„å±æ€§ã€æ–¹æ³•å’Œæ„é€ å‡½æ•°ç­‰ã€‚</li>\n</ul>\n<h1 id=\"åå°„çš„ç®€ä»‹\"><a class=\"anchor\" href=\"#åå°„çš„ç®€ä»‹\">#</a> åå°„çš„ç®€ä»‹</h1>\n<ul>\n<li>åå°„æ˜¯ <code>Java</code>  ç¼–ç¨‹è¯­è¨€ä¸­ä¸€ç§å¼ºå¤§çš„æœºåˆ¶ï¼Œå®ƒå…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è·å–ç±»çš„ä¿¡æ¯å¹¶æ“ä½œç±»æˆ–å¯¹è±¡ã€‚</li>\n<li>é€šè¿‡åå°„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶è·å–ç±»çš„å±æ€§ã€æ–¹æ³•ã€æ„é€ å‡½æ•°ç­‰ï¼Œå¹¶ä¸”å¯ä»¥åŠ¨æ€è°ƒç”¨è¿™äº›æˆå‘˜ã€‚</li>\n<li>è¿™ç§èƒ½åŠ›ä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨äº‹å…ˆä¸çŸ¥é“ç±»çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡è¿è¡Œæ—¶è·å–ç±»çš„ä¿¡æ¯å¹¶è¿›è¡Œç›¸å…³æ“ä½œã€‚</li>\n<li><code>Java</code>  åå°„æä¾›äº†ä»¥ä¸‹å‡ ä¸ªé‡è¦çš„ç±»å’Œæ¥å£ï¼š\n<ul>\n<li><code>Class</code>  ç±»ï¼šå®ƒæ˜¯åå°„çš„æ ¸å¿ƒç±»ï¼Œä»£è¡¨äº†ä¸€ä¸ªç±»çš„ä¿¡æ¯ï¼Œå¯ä»¥è·å–ç±»çš„å±æ€§ã€æ–¹æ³•ã€æ„é€ å‡½æ•°ç­‰ã€‚</li>\n<li><code>Field</code>  ç±»ï¼šå®ƒè¡¨ç¤ºç±»çš„æˆå‘˜å˜é‡ï¼ˆå±æ€§ï¼‰ï¼Œå¯ä»¥é€šè¿‡å®ƒè·å–å’Œè®¾ç½®æˆå‘˜å˜é‡çš„å€¼ã€‚</li>\n<li><code>Method</code>  ç±»ï¼šå®ƒè¡¨ç¤ºç±»çš„æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å®ƒè°ƒç”¨ç±»çš„æ–¹æ³•ã€‚</li>\n<li><code>Constructor</code>  ç±»ï¼šå®ƒè¡¨ç¤ºç±»çš„æ„é€ å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡å®ƒåˆ›å»ºç±»çš„å®ä¾‹ã€‚</li>\n</ul>\n</li>\n<li>é€šè¿‡åå°„ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸€äº›çµæ´»çš„åŠŸèƒ½ï¼Œæ¯”å¦‚åŠ¨æ€åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨ç§æœ‰æ–¹æ³•ã€è®¿é—®ç§æœ‰å±æ€§ç­‰ã€‚</li>\n<li>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºåå°„æ¶‰åŠåˆ°åº•å±‚çš„æ“ä½œï¼Œä½¿ç”¨ä¸å½“å¯èƒ½ä¼šå½±å“æ€§èƒ½ï¼Œå¹¶ä¸”ä¹Ÿä¼šç ´åäº†é¢å‘å¯¹è±¡çš„å°è£…æ€§ã€‚</li>\n</ul>\n<h1 id=\"åå°„çš„åŸç†\"><a class=\"anchor\" href=\"#åå°„çš„åŸç†\">#</a> åå°„çš„åŸç†</h1>\n<p>åå°„æœºåˆ¶çš„å®ç°ä¾èµ–äº  <code>Java</code>  çš„ç±»åŠ è½½æœºåˆ¶ã€‚ åœ¨  <code>Java</code>  ä¸­ï¼Œæ¯ä¸ªç±»éƒ½å¿…é¡»é€šè¿‡  <code>ClassLoader</code>  ç±»æ¥åŠ è½½ï¼Œè€Œ  <code>ClassLoader</code>  ç±»åˆåˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š <code>BootStrap ClassLoader</code> ã€ <code>Extension ClassLoader</code>  å’Œ  <code>Application ClassLoader</code> ã€‚å½“ä¸€ä¸ªç±»è¢«åŠ è½½æ—¶ï¼Œ <code>Java</code>  è™šæ‹Ÿæœºä¼šæ ¹æ®ç±»çš„å…¨é™å®šåæ‰¾åˆ°ç›¸åº”çš„  <code>ClassLoader</code>  æ¥åŠ è½½ç±»æ–‡ä»¶ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º  <code>Class</code>  å¯¹è±¡ã€‚</p>\n<h1 id=\"åå°„åº”ç”¨åœºæ™¯\"><a class=\"anchor\" href=\"#åå°„åº”ç”¨åœºæ™¯\">#</a> åå°„åº”ç”¨åœºæ™¯</h1>\n<ul>\n<li>ä¾‹å¦‚ï¼š\n<ul>\n<li>åŠ¨æ€åˆ›å»ºå¯¹è±¡ï¼šé€šè¿‡åå°„æœºåˆ¶å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡ï¼Œè€Œä¸éœ€è¦æå‰çŸ¥é“ç±»çš„å…·ä½“ä¿¡æ¯ã€‚</li>\n<li>åŠ¨æ€è°ƒç”¨æ–¹æ³•ï¼šé€šè¿‡åå°„æœºåˆ¶å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•ï¼Œè€Œä¸éœ€è¦æå‰çŸ¥é“æ–¹æ³•çš„å…·ä½“åç§°å’Œå‚æ•°ã€‚</li>\n<li>è·å–ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼šé€šè¿‡åå°„æœºåˆ¶å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è·å–ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼ŒåŒ…æ‹¬å±æ€§çš„åç§°ã€ç±»å‹ã€ä¿®é¥°ç¬¦ç­‰ç­‰ã€‚</li>\n<li>æ“ä½œç±»çš„æ³¨è§£ï¼šé€šè¿‡åå°„æœºåˆ¶å¯ä»¥è·å–ç±»çš„æ³¨è§£ä¿¡æ¯ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</li>\n<li>å®ç°ä»£ç†å’Œé€‚é…å™¨ï¼šé€šè¿‡åå°„æœºåˆ¶å¯ä»¥åŠ¨æ€åœ°ç”Ÿæˆä»£ç†å’Œé€‚é…å™¨ï¼Œå®ç°å¯¹ç°æœ‰ç±»çš„æ‰©å±•å’Œä¿®æ”¹ã€‚</li>\n</ul>\n</li>\n<li>ç”±äºåå°„æœºåˆ¶éœ€è¦åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è·å–ç±»çš„ä¿¡æ¯ï¼Œå› æ­¤ä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½å¼€é”€å’Œå®‰å…¨é£é™©ã€‚</li>\n<li>åå°„æœºåˆ¶è™½ç„¶å¼ºå¤§ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›é™åˆ¶å’Œç¼ºï¼Œæ­¤å¤–ï¼Œåå°„æœºåˆ¶ä¹Ÿå®¹æ˜“è¢«è¯¯ç”¨ï¼Œå¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤å’Œè°ƒè¯•ã€‚</li>\n</ul>\n<h1 id=\"åå°„ä½¿ç”¨æ­¥éª¤\"><a class=\"anchor\" href=\"#åå°„ä½¿ç”¨æ­¥éª¤\">#</a> åå°„ä½¿ç”¨æ­¥éª¤</h1>\n<ol>\n<li>è·å–  <code>Class</code>  å¯¹è±¡ï¼šä½¿ç”¨  <code>Class.forName()</code>  æˆ–  <code>ClassLoader.loadClass()</code>  æ–¹æ³•è·å–ä¸€ä¸ªç±»çš„  <code>Class</code>  å¯¹è±¡ã€‚</li>\n<li>è·å–ç±»çš„æˆå‘˜ä¿¡æ¯ï¼šä½¿ç”¨  <code>Class</code>  ç±»çš„  <code>getDeclaredFields()</code> ã€ <code>getDeclaredMethods()</code>  å’Œ  <code>getDeclaredConstructors()</code>  æ–¹æ³•è·å–ç±»çš„æˆå‘˜ä¿¡æ¯ï¼ŒåŒ…æ‹¬å­—æ®µã€æ–¹æ³•å’Œæ„é€ æ–¹æ³•ã€‚</li>\n<li>è®¿é—®ç±»çš„æˆå‘˜ï¼šä½¿ç”¨  <code>Class</code>  ç±»çš„  <code>getField()</code> ã€ <code>getMethod()</code>  å’Œ  <code>getConstructor()</code>  æ–¹æ³•è·å–ç±»çš„æˆå‘˜å¯¹è±¡ï¼Œç„¶åä½¿ç”¨æˆå‘˜å¯¹è±¡çš„ç›¸åº”æ–¹æ³•è®¿é—®ç±»çš„å±æ€§ã€æ–¹æ³•å’Œæ„é€ å‡½æ•°ã€‚</li>\n<li>è°ƒç”¨ç±»çš„æ–¹æ³•ï¼šä½¿ç”¨  <code>Method</code>  ç±»çš„  <code>invoke()</code>  æ–¹æ³•è°ƒç”¨ç±»çš„æ–¹æ³•ï¼Œå¹¶ä¼ é€’ç›¸åº”çš„å‚æ•°ã€‚</li>\n<li>åˆ›å»ºç±»çš„å®ä¾‹ï¼šä½¿ç”¨  <code>Class</code>  ç±»çš„  <code>newInstance()</code>  æ–¹æ³•åˆ›å»ºç±»çš„å®ä¾‹ã€‚</li>\n</ol>\n<h1 id=\"åå°„çš„ä½¿ç”¨\"><a class=\"anchor\" href=\"#åå°„çš„ä½¿ç”¨\">#</a> åå°„çš„ä½¿ç”¨</h1>\n<h2 id=\"åå°„è·å–å­—æ®µ\"><a class=\"anchor\" href=\"#åå°„è·å–å­—æ®µ\">#</a> åå°„è·å–å­—æ®µ</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Person.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * @Description: Bean å¯¹è±¡</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @DateTime: 2023-08-29 18:08</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> address<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ReflectDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * @Description: ä½¿ç”¨åå°„è·å– Bean å¯¹è±¡ä¸­çš„å­—æ®µ</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @DateTime: 2023-08-29 16:04</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ReflectDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\">// è·å–ä¸€ä¸ªç±»çš„æ‰€æœ‰å±æ€§</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">// è·å–å£°æ˜å­—æ®µ</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token class-name\">Field</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> fields <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredFields</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">// éå†æ‰€æœ‰å±æ€§å¹¶æ‰“å°å‡ºå®ƒä»¬çš„åç§°</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Field</span> field <span class=\"token operator\">:</span> fields<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"åå°„è·å–getæ–¹æ³•\"><a class=\"anchor\" href=\"#åå°„è·å–getæ–¹æ³•\">#</a> åå°„è·å– Get æ–¹æ³•</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Person.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * @Description: Bean å¯¹è±¡</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @DateTime: 2023-08-29 18:08</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> address<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">return</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">return</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getAddress</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">return</span> address<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAddress</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> address<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>address <span class=\"token operator\">=</span> address<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>ReflectDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * @Description: ä½¿ç”¨åå°„è·å– Bean å¯¹è±¡ä¸­çš„æ‰€æœ‰ get æ–¹æ³•å’Œå‚æ•°</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @DateTime: 2023-08-29 16:04</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ReflectDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">NoSuchFieldException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">NoSuchMethodException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InvocationTargetException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IllegalAccessException</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»ºå¯¹è±¡å¹¶è®¾ç½®å‚æ•°</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token class-name\">Person</span> person <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        person<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¼ ä¸‰\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        person<span class=\"token punctuation\">.</span><span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        person<span class=\"token punctuation\">.</span><span class=\"token function\">setAddress</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\">// è·å–ä¸€ä¸ªç±»ä¸­æ‰€æœ‰çš„ get æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> clazz <span class=\"token operator\">=</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">Method</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> methods <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredMethods</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">Method</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> getMethods <span class=\"token operator\">=</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span>methods<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>method <span class=\"token operator\">-></span> <span class=\"token class-name\">Modifier</span><span class=\"token punctuation\">.</span><span class=\"token function\">isPublic</span><span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">.</span><span class=\"token function\">getModifiers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> method<span class=\"token punctuation\">.</span><span class=\"token function\">getReturnType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span> <span class=\"token operator\">&amp;&amp;</span> method<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"get\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                <span class=\"token punctuation\">.</span><span class=\"token function\">toArray</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Method</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">::</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">// è°ƒç”¨æ¯ä¸ª get æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Method</span> method <span class=\"token operator\">:</span> getMethods<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token class-name\">Object</span> result <span class=\"token operator\">=</span> method<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" = \"</span> <span class=\"token operator\">+</span> result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaé«˜çº§ç‰¹æ€§",
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaé«˜çº§ç‰¹æ€§",
                "Javaåå°„"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/JavaAop%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%BD%BF%E7%94%A8/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/JavaAop%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%BD%BF%E7%94%A8/",
            "title": "JavaAopè¯¦ç»†ä»‹ç»ä¸ä½¿ç”¨",
            "date_published": "2023-08-29T06:58:00.000Z",
            "content_html": "<h1 id=\"aopç®€ä»‹\"><a class=\"anchor\" href=\"#aopç®€ä»‹\">#</a> Aop ç®€ä»‹</h1>\n<ul>\n<li>AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼å’Œä¸€ç§åœ¨è½¯ä»¶ç³»ç»Ÿä¸­å®ç°å…³æ³¨ç‚¹åˆ†ç¦»çš„æŠ€æœ¯ã€‚</li>\n<li>AOP é€šè¿‡åœ¨ç‰¹å®šçš„åˆ‡å…¥ç‚¹å¤„è‡ªåŠ¨æ‰§è¡Œé¢„å®šä¹‰çš„æ“ä½œï¼Œå°†è¿™äº›åŠŸèƒ½ä¸æ ¸å¿ƒä¸šåŠ¡é€»è¾‘è¿›è¡Œè§£è€¦ã€‚</li>\n<li>å®ƒå…è®¸æ‚¨å°†ä¸æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ— å…³çš„åŠŸèƒ½ï¼ˆä¾‹å¦‚æ—¥å¿—è®°å½•ã€äº‹åŠ¡ç®¡ç†ã€æ€§èƒ½ç›‘æ§ç­‰ï¼‰ä»æºä»£ç ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œå¹¶ä»¥æ¨¡å—åŒ–çš„æ–¹å¼åº”ç”¨äºæ•´ä¸ªåº”ç”¨ç¨‹åºã€‚</li>\n<li>åœ¨ AOP ä¸­ï¼Œåˆ‡é¢æ˜¯ä¸€ç§æ¨¡å—åŒ–å•å…ƒï¼Œå®ƒåŒ…å«äº†ä¸ç‰¹å®šæ¨ªåˆ‡å…³æ³¨ç‚¹ç›¸å…³çš„é€šç”¨åŠŸèƒ½ã€‚</li>\n<li>åˆ‡é¢ç”±åˆ‡ç‚¹ï¼ˆå®šä¹‰å°†åœ¨ä½•å¤„åº”ç”¨é€šç”¨åŠŸèƒ½ï¼‰å’Œå»ºè®®ï¼ˆå®šä¹‰åœ¨åˆ‡ç‚¹å¤„è¦æ‰§è¡Œçš„æ“ä½œï¼‰ç»„æˆã€‚</li>\n<li>åˆ‡ç‚¹æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæè¿°äº†åœ¨åº”ç”¨ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå…·ä½“å“ªäº›æ–¹æ³•æˆ–å‡½æ•°å°†è¢«æ‹¦æˆªä»¥åº”ç”¨é€šç”¨åŠŸèƒ½ã€‚</li>\n<li>å»ºè®®å®šä¹‰äº†åœ¨åˆ‡ç‚¹å¤„æ‰§è¡Œçš„ç‰¹å®šæ“ä½œï¼Œä¾‹å¦‚åœ¨æ–¹æ³•è°ƒç”¨ä¹‹å‰æˆ–ä¹‹åæ‰§è¡Œä»£ç ï¼Œç”šè‡³æ›¿æ¢åŸå§‹çš„æ–¹æ³•è°ƒç”¨ã€‚</li>\n<li>åœ¨ Java ä¸­ï¼ŒAOP å¸¸å¸¸ä½¿ç”¨ AspectJ åº“å®ç°ã€‚</li>\n<li>Spring æ¡†æ¶ä¹Ÿæä¾›äº†å¯¹ AOP çš„æ”¯æŒï¼Œå¹¶ä¸”ä½¿ç”¨ AspectJ ä½œä¸ºé»˜è®¤çš„ AOP æ¡†æ¶ã€‚</li>\n<li>Spring AOP ä½¿å¾—åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ AOP æ›´åŠ ç®€å•å’Œç›´è§‚ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨æ³¨è§£æˆ– XML é…ç½®å®šä¹‰åˆ‡é¢å’Œåˆ‡ç‚¹ï¼Œå®ç°é€šç”¨åŠŸèƒ½çš„åº”ç”¨ã€‚</li>\n</ul>\n<h1 id=\"aopä¼˜ç‚¹\"><a class=\"anchor\" href=\"#aopä¼˜ç‚¹\">#</a> Aop ä¼˜ç‚¹</h1>\n<ul>\n<li>å…³æ³¨ç‚¹åˆ†ç¦»ï¼š\n<ul>\n<li>AOP ä½¿å¾—æ‚¨å¯ä»¥å°†ä¸æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ— å…³çš„åŠŸèƒ½ä»ä»£ç ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œä½¿å¾—ä»£ç æ›´åŠ å¹²å‡€å’Œæ˜“äºç»´æŠ¤ã€‚</li>\n</ul>\n</li>\n<li>ä»£ç é‡ç”¨ï¼š\n<ul>\n<li>AOP å…è®¸æ‚¨å°†é€šç”¨åŠŸèƒ½å®šä¹‰åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œå¹¶åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­å¤šæ¬¡é‡ç”¨ã€‚</li>\n</ul>\n</li>\n<li>æ¨ªå‘å…³æ³¨ç‚¹ï¼š\n<ul>\n<li>AOP ä»¥æ¨ªå‘çš„æ–¹å¼ç‹¬ç«‹äºä»£ç çš„çºµå‘å±‚æ¬¡ç»“æ„ï¼Œå› æ­¤å®ƒå¯ä»¥è·¨è¶Šå¤šä¸ªå±‚æ¬¡ç»“æ„åº”ç”¨äºä¸åŒçš„æ¨¡å—å’Œç±»ã€‚</li>\n</ul>\n</li>\n<li>æ ¸å¿ƒé€»è¾‘å½±å“è¾ƒå°ï¼š\n<ul>\n<li>å¼•å…¥ AOP å¹¶ä¸ä¼šå¯¹æ ¸å¿ƒä¸šåŠ¡é€»è¾‘äº§ç”Ÿå¤ªå¤§çš„å½±å“ï¼Œåªéœ€è¦åœ¨åˆ‡å…¥ç‚¹å¤„åº”ç”¨å³å¯ã€‚</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"ä»€ä¹ˆæ˜¯aop\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯aop\">#</a> ä»€ä¹ˆæ˜¯ AOP</h1>\n<ol>\n<li><code>AOP</code> ï¼š <code>Aspect Oriented Programming</code>  (é¢å‘åˆ‡é¢ç¼–ç¨‹)ï¼Œ <code>OOP</code>  æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œ <code>AOP</code>  æ˜¯åœ¨ <code>OOP</code> <br />\n åŸºç¡€ä¹‹ä¸Šçš„ä¸€ç§æ›´é«˜çº§çš„è®¾è®¡æ€æƒ³ã€‚</li>\n<li><code>OOP</code>  å’Œ <code>AOP</code>  ä¹‹é—´ä¹Ÿå­˜åœ¨ä¸€äº›åŒºåˆ«ï¼Œ <code>OOP</code>  ä¾§é‡äºå¯¹è±¡çš„æå–å’Œå°ï¼Œ <code>AOP</code> <br />\n ä¾§é‡äºç»„ä»¶æ–¹é¢ï¼Œç»„ä»¶å¯ä»¥ç†è§£æˆå°è£…äº†é€šç”¨åŠŸèƒ½çš„ç»„ä»¶ï¼Œç»„ä»¶å¯ä»¥é€šè¿‡é…ç½®æ–¹å¼ï¼Œçµæ´»åœ°åˆ‡å…¥åˆ°æŸä¸€æ‰¹ç›®æ ‡å¯¹è±¡æ–¹æ³•ä¸Šã€‚</li>\n<li><code>AOP</code>  ç”¨äºå¤„ç†ç³»ç»Ÿä¸­åˆ†å¸ƒäºå„ä¸ªæ¨¡å—çš„æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œæ¯”å¦‚äº‹åŠ¡ç®¡ç†ã€æ—¥å¿—ã€ç¼“å­˜ç­‰ã€‚</li>\n</ol>\n<h1 id=\"ä¸ºä»€ä¹ˆä½¿ç”¨aop\"><a class=\"anchor\" href=\"#ä¸ºä»€ä¹ˆä½¿ç”¨aop\">#</a> ä¸ºä»€ä¹ˆä½¿ç”¨ AOP</h1>\n<ul>\n<li>Java æ˜¯ä¸€ä¸ªé¢å‘å¯¹è±¡ (OOP)<br />\n çš„ç¼–ç¨‹è¯­è¨€ï¼Œä½†å®ƒæœ‰ä¸ªå¼Šç«¯å°±æ˜¯å½“éœ€è¦ä¸ºå¤šä¸ªä¸å…·æœ‰ç»§æ‰¿å…³ç³»çš„å¯¹è±¡å¼•å…¥ä¸€ä¸ªå…¬å…±è¡Œä¸ºæ—¶ï¼Œä¾‹å¦‚æ—¥å¿—è®°å½•ã€æƒé™æ ¡éªŒã€äº‹åŠ¡ç®¡ç†ã€ç»Ÿè®¡ç­‰åŠŸèƒ½ï¼Œåªèƒ½åœ¨æ¯ä¸ªå¯¹è±¡é‡Œéƒ½å¼•ç”¨å…¬å…±è¡Œä¸ºï¼Œè¿™æ ·åšä¸ä¾¿äºç»´æŠ¤ï¼Œè€Œä¸”æœ‰å¤§é‡é‡å¤ä»£ç ï¼ŒAOP çš„å‡ºç°å¼¥è¡¥äº† OOP çš„è¿™ç‚¹ä¸è¶³ã€‚</li>\n<li>ä¾‹å¦‚ï¼š<a href=\"https://imgse.com/i/pPam2OP\"><img data-src=\"https://s1.ax1x.com/2023/08/28/pPam2OP.png\" alt=\"pPam2OP.png\" /></a>\n<ul>\n<li>æœ‰å¤šå°‘ä¸ªä¸šåŠ¡æ“ä½œï¼Œå°±è¦å†™å¤šå°‘é‡å¤çš„æ ¡éªŒå’Œæ—¥å¿—è®°å½•ä»£ç ï¼Œè¿™æ˜¾ç„¶æ˜¯æ— æ³•æ¥å—çš„ã€‚å½“ç„¶ç”¨é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œå¯ä»¥æŠŠè¿™äº›é‡å¤çš„ä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œå†™æˆå…¬å…±æ–¹æ³•ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·ã€‚<br />\n<a href=\"https://imgse.com/i/pPamMZT\"><img data-src=\"https://s1.ax1x.com/2023/08/28/pPamMZT.png\" alt=\"pPamMZT.png\" /></a></li>\n<li>ä»£ç å†—ä½™å’Œå¯ç»´æŠ¤æ€§çš„é—®é¢˜å¾—åˆ°äº†è§£å†³ï¼Œä½†æ¯ä¸ªä¸šåŠ¡æ–¹æ³•ä¸­ä¾ç„¶è¦ä¾æ¬¡æ‰‹åŠ¨è°ƒç”¨è¿™äº›å…¬å…±æ–¹æ³•ï¼Œä¹Ÿæ˜¯ç•¥æ˜¾ç¹çã€‚<br />\næœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹å¼å‘¢ï¼Ÿæœ‰çš„ï¼Œé‚£å°±æ˜¯ <code>AOP</code> ï¼Œ <code>AOP</code>  å°†æƒé™æ ¡éªŒã€æ—¥å¿—è®°å½•ç­‰éä¸šåŠ¡ä»£ç å®Œå…¨æå–å‡ºæ¥ï¼Œä¸ä¸šåŠ¡ä»£ç åˆ†ç¦»ï¼Œå¹¶å¯»æ‰¾èŠ‚ç‚¹åˆ‡å…¥ä¸šåŠ¡ä»£ç ä¸­ã€‚</li>\n</ul>\n</li>\n<li>åŠ¨æ€ä»£ç†ï¼š<a href=\"https://imgse.com/i/pPaukgs\"><img data-src=\"https://s1.ax1x.com/2023/08/28/pPaukgs.png\" alt=\"pPaukgs.png\" /></a></li>\n</ul>\n<h1 id=\"aopçš„ä½“ç³»ç»“æ„\"><a class=\"anchor\" href=\"#aopçš„ä½“ç³»ç»“æ„\">#</a> AOP çš„ä½“ç³»ç»“æ„</h1>\n<ol>\n<li>AOP è¦åšçš„ä¸‰ä»¶äº‹æ˜¯ï¼š\n<ul>\n<li>åœ¨å“ªé‡Œåˆ‡å…¥</li>\n<li>ä»€ä¹ˆæ—¶å€™åˆ‡å…¥</li>\n<li>åˆ‡å…¥ååšä»€ä¹ˆäº‹</li>\n</ul>\n</li>\n<li>åœ¨å“ªé‡Œåˆ‡å…¥ï¼šå°±æ˜¯æƒé™æ ¡éªŒç­‰éä¸šåŠ¡æ“ä½œåœ¨å“ªäº›ä¸šåŠ¡ä»£ç ä¸­æ‰§è¡Œã€‚</li>\n<li>ä»€ä¹ˆæ—¶å€™åˆ‡å…¥ï¼šå°±æ˜¯ä¸šåŠ¡ä»£ç æ‰§è¡Œå‰è¿˜æ˜¯æ‰§è¡Œåã€‚</li>\n<li>åˆ‡å…¥ååšä»€ä¹ˆäº‹ï¼šæ¯”å¦‚åšæƒé™æ ¡éªŒï¼Œæ—¥å¿—è®°å½•ç­‰ç­‰ã€‚</li>\n<li><a href=\"https://imgse.com/i/pPaMxD1\"><img data-src=\"https://s1.ax1x.com/2023/08/28/pPaMxD1.png\" alt=\"pPaMxD1.png\" /></a>\n<ul>\n<li><code>Pointcut</code> ï¼šåˆ‡ç‚¹ï¼Œå†³å®šå¤„ç†å¦‚æƒé™æ ¡éªŒã€æ—¥å¿—è®°å½•ç­‰åœ¨ä½•å¤„åˆ‡å…¥ä¸šåŠ¡ä»£ç ä¸­ï¼ˆå³ç»‡å…¥åˆ‡é¢ï¼‰ï¼Œåˆ‡ç‚¹åˆ†ä¸º <code>execution</code> <br />\n æ–¹å¼å’Œ <code>annotation</code>  æ–¹å¼ï¼Œå‰è€…å¯ä»¥ç”¨è·¯å¾„è¡¨è¾¾å¼æŒ‡å®šå“ªäº›ç±»ç»‡å…¥åˆ‡é¢ï¼Œåè€…å¯ä»¥æŒ‡å®šè¢«å“ªäº›æ³¨è§£ä¿®é¥°çš„ä»£ç ç»‡å…¥åˆ‡é¢ã€‚</li>\n<li><code>Advice</code> ï¼šå¤„ç†ï¼ŒåŒ…æ‹¬å¤„ç†æ—¶æœºå’Œå¤„ç†å†…å®¹ï¼Œå¤„ç†å†…å®¹å°±æ˜¯è¦åšä»€ä¹ˆäº‹ï¼Œæ¯”å¦‚æ ¡éªŒæƒé™å’Œè®°å½•æ—¥å¿—ï¼Œå¤„ç†æ—¶æœºå°±æ˜¯åœ¨ä»€ä¹ˆæ—¶æœºæ‰§è¡Œå¤„ç†å†…å®¹ï¼Œåˆ†ä¸ºå‰ç½®å¤„ç†ï¼ˆå³ä¸šåŠ¡ä»£ç æ‰§è¡Œå‰ï¼‰ã€åç½®å¤„ç†ï¼ˆä¸šåŠ¡ä»£ç æ‰§è¡Œåï¼‰ç­‰ã€‚</li>\n<li><code>Aspect</code> ï¼šåˆ‡é¢ï¼Œå³ <code>Pointcut</code>  å’Œ <code>Advice</code> ã€‚</li>\n<li><code>JointPoint</code> ï¼šè¿æ¥ç‚¹ï¼Œæ˜¯ç¨‹åºæ‰§è¡Œçš„ä¸€ä¸ªç‚¹ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªæ–¹æ³•çš„æ‰§è¡Œæˆ–è€…ä¸€ä¸ªå¼‚å¸¸å¤„ç†ï¼Œåœ¨  <code>Spring AOP</code> <br />\n ä¸­ï¼Œä¸€ä¸ªè¿æ¥ç‚¹æ€»æ˜¯ä»£è¡¨ä¸€ä¸ªæ–¹æ³•æ‰§è¡Œã€‚</li>\n<li><code>Weaving</code> ï¼šç»‡å…¥ï¼Œå°±æ˜¯é€šè¿‡åŠ¨æ€ä»£ç†ï¼Œåœ¨ç›®æ ‡å¯¹è±¡æ–¹æ³•ä¸­æ‰§è¡Œå¤„ç†å†…å®¹çš„è¿‡ç¨‹ã€‚</li>\n</ul>\n</li>\n</ol>\n<h1 id=\"aopåŸç†\"><a class=\"anchor\" href=\"#aopåŸç†\">#</a> Aop åŸç†</h1>\n<ul>\n<li><a href=\"/computer-science/design-pattern/course-1/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F-proxy-pattern\">ğŸš€åŠ¨æ€ä»£ç†</a></li>\n<li>ä¹‹å‰æåˆ° JDK ä»£ç†å’Œ Cglib ä»£ç†ä¸¤ç§åŠ¨æ€ä»£ç†ï¼Œä¼˜ç§€çš„ Spring æ¡†æ¶æŠŠä¸¤ç§æ–¹å¼åœ¨åº•å±‚éƒ½é›†æˆäº†è¿›å»ï¼Œæ— éœ€æ‹…å¿ƒè‡ªå·±å»å®ç°åŠ¨æ€ç”Ÿæˆä»£ç†ã€‚</li>\n<li>é‚£ä¹ˆ Spring æ˜¯å¦‚ä½•ç”Ÿæˆä»£ç†å¯¹è±¡çš„ï¼Ÿåˆ›å»ºå®¹å™¨å¯¹è±¡çš„æ—¶å€™ï¼Œæ ¹æ®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ‹¦æˆªçš„ç±»ï¼Œç”Ÿæˆä»£ç†å¯¹è±¡ã€‚</li>\n<li>å¦‚æœç›®æ ‡å¯¹è±¡æœ‰å®ç°æ¥å£ï¼Œä½¿ç”¨ jdk ä»£ç†ã€‚å¦‚æœç›®æ ‡å¯¹è±¡æ²¡æœ‰å®ç°æ¥å£ï¼Œåˆ™ä½¿ç”¨ Cglib ä»£ç†ã€‚</li>\n<li>ç„¶åä»å®¹å™¨è·å–ä»£ç†åçš„å¯¹è±¡ï¼Œåœ¨è¿è¡ŒæœŸæ¤å…¥ &quot;åˆ‡é¢&quot; ç±»çš„æ–¹æ³•ã€‚</li>\n<li>å¦‚æœç›®æ ‡ç±»æ²¡æœ‰å®ç°æ¥å£ï¼Œä¸” class ä¸º final ä¿®é¥°çš„ï¼Œåˆ™ä¸èƒ½è¿›è¡Œ Spring AOP ç¼–ç¨‹ã€‚</li>\n<li>å°è£…äº† JDK ä»£ç†å’Œ Cglib ä»£ç†ï¼Œå½“è¢«ä»£ç†çš„ç±»å®ç°äº†æ¥å£ï¼Œåˆ™ä½¿ç”¨ JDK ä»£ç†ã€‚</li>\n<li>å¦‚æœæ²¡æœ‰å®ç°æ¥å£åˆ™ä½¿ç”¨ Cglib ä»£ç†ï¼Œç±»æ²¡æœ‰å®ç°æ¥å£ä¸”ä½¿ç”¨ final ä¿®é¥° ä¸èƒ½ä½¿ç”¨ AOPã€‚</li>\n</ul>\n<h1 id=\"aopèƒ½åšä»€ä¹ˆ\"><a class=\"anchor\" href=\"#aopèƒ½åšä»€ä¹ˆ\">#</a> AOP èƒ½åšä»€ä¹ˆ</h1>\n<ul>\n<li><code>Spring</code>  å£°æ˜å¼äº‹åŠ¡ç®¡ç†é…ç½®</li>\n<li><code>Controller</code>  å±‚çš„å‚æ•°æ ¡éªŒ</li>\n<li>ä½¿ç”¨ <code>Spring AOP</code>  å®ç° <code>MySQL</code>  æ•°æ®åº“è¯»å†™åˆ†ç¦»æ¡ˆä¾‹åˆ†æ</li>\n<li>åœ¨æ‰§è¡Œæ–¹æ³•å‰ï¼Œåˆ¤æ–­æ˜¯å¦å…·æœ‰æƒé™ã€‚</li>\n<li>å¯¹éƒ¨åˆ†å‡½æ•°çš„è°ƒç”¨è¿›è¡Œæ—¥å¿—è®°å½•ï¼Œç›‘æ§éƒ¨åˆ†é‡è¦å‡½æ•°ï¼Œè‹¥æŠ›å‡ºæŒ‡å®šçš„å¼‚å¸¸ï¼Œå¯ä»¥ä»¥çŸ­ä¿¡æˆ–é‚®ä»¶æ–¹å¼é€šçŸ¥ç›¸å…³äººå‘˜ï¼Œä¿¡æ¯è¿‡æ»¤ï¼Œé¡µé¢è½¬å‘ç­‰ç­‰åŠŸèƒ½ã€‚</li>\n<li>ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿ\n<ul>\n<li>æœ‰ä¸€ç³»åˆ—åŠ¨ä½œç»„æˆçš„ä¸€ä¸ªå•å…ƒï¼Œè¿™äº›åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œã€‚</li>\n<li>ä¾‹å­ï¼šå¼ ä¸‰ç»™æå››è½¬è´¦ã€‚</li>\n<li>1. å¼ ä¸‰å‡é’± 2. æå››åŠ é’±ã€‚</li>\n<li>mysql æ˜¯æ”¯æŒäº‹åŠ¡çš„ã€‚</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"aopä½¿ç”¨\"><a class=\"anchor\" href=\"#aopä½¿ç”¨\">#</a> Aop ä½¿ç”¨</h1>\n<ol>\n<li>åˆ›å»º <code>SpringBoot</code>  é¡¹ç›®</li>\n<li>å¼•å…¥ <code>SpringAop</code>  ä¾èµ–</li>\n<li>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"><span>pom.xml</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>         <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>         <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-aop<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure></li>\n<li>è‡ªå®šä¹‰æ³¨è§£<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>LogNotes.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Retention</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Target</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>* è‡ªå®šä¹‰ Aop æ³¨è§£</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>* @author LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  */</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>METHOD<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>TYPE<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">LogNotes</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token class-name\">String</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n<li>Aop å®ç°ç±»<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>LogAspect.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">lombok<span class=\"token punctuation\">.</span>extern<span class=\"token punctuation\">.</span>slf4j<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Slf4j</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>aspectj<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ProceedingJoinPoint</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>aspectj<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Component</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * æ—¥å¿— Aop å®ç°ç±»</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> *</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token annotation punctuation\">@Slf4j</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token annotation punctuation\">@Aspect</span><span class=\"token comment\">//@Aspectï¼šæŠŠå½“å‰ç±»æ ‡è¯†ä¸ºä¸€ä¸ªåˆ‡é¢ä¾›å®¹å™¨è¯»å–</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token annotation punctuation\">@Component</span><span class=\"token comment\">// äº¤ç”± Spring å®¹å™¨ç®¡ç†</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">LogAspect</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     * &amp;#064;Pointcut:aop åˆ‡å…¥ç‚¹ï¼Œè¡¨ç¤ºåœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹è§¦å‘</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * &amp;#064;annotationï¼šå£°æ˜ä»¥æ³¨è§£çš„æ–¹å¼æ¥å®šä¹‰åˆ‡ç‚¹ï¼Œæ³¨è§£ä¸º NeedAuth çš„åŒ…è·¯å¾„</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token annotation punctuation\">@Pointcut</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"@annotation(com.example.aop.aop.NeedAuth)\"</span><span class=\"token punctuation\">)</span><span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">logPoint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">// è¿™å°±æ˜¯ä¸ªæ ‡å¿—ï¼Œçˆ±å«å•¥å«å•¥ï¼Œç»™ä¸‹é¢ç”¨çš„</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>     * &amp;#064;@Beforeï¼šå‰ç½®å¢å¼ºæ–¹æ³•çš„æ ‡è¯†ï¼Œè¡¨ç¤ºåœ¨æ ‡æœ‰æ³¨è§£çš„æ–¹æ³•å‰æ‰§è¡Œåˆ‡é¢æ–¹æ³•</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token annotation punctuation\">@Before</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"logPoint()\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">beforeAop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å‰ç½®é€šçŸ¥...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>     * &amp;#064;Afterï¼šåç½®å¢å¼ºæ–¹æ³•çš„æ ‡è¯†ï¼Œè¡¨ç¤ºåœ¨æ ‡æœ‰æ³¨è§£çš„æ–¹æ³•åæ‰§è¡Œåˆ‡é¢æ–¹æ³•</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token annotation punctuation\">@AfterReturning</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"logPoint()\"</span><span class=\"token punctuation\">,</span> returning <span class=\"token operator\">=</span> <span class=\"token string\">\"returnValue\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">afterAop</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> returnValue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"returnValue = \"</span> <span class=\"token operator\">+</span> returnValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åç½®é€šçŸ¥...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>     * &amp;#064;@Aroundï¼šç¯ç»•å¢å¼ºæ–¹æ³•çš„æ ‡è¯†ï¼Œè¡¨ç¤ºåœ¨æ ‡æœ‰æ³¨è§£çš„æ–¹æ³•å‰åéƒ½æ‰§è¡Œåˆ‡é¢æ–¹æ³•</pre></td></tr><tr><td data-num=\"42\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token annotation punctuation\">@Around</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"logPoint()\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">aroundAop</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ProceedingJoinPoint</span> pj<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Throwable</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;&#125;,å¼€å§‹æ‰§è¡Œï¼\"</span><span class=\"token punctuation\">,</span> pj<span class=\"token punctuation\">.</span><span class=\"token function\">getSignature</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¯ç»•é€šçŸ¥å‰...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre><span class=\"token comment\">//            pj.proceed ();// è¿™ä¸ªæœ‰ç‚¹ä¸œè¥¿ï¼Œå‡ ä¸ªæ³¨è§£çš„æ‰§è¡Œé¡ºåºæœ‰å…³</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pj.getTarget() = \"</span> <span class=\"token operator\">+</span> pj<span class=\"token punctuation\">.</span><span class=\"token function\">getTarget</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pj.getThis() = \"</span> <span class=\"token operator\">+</span> pj<span class=\"token punctuation\">.</span><span class=\"token function\">getThis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¯ç»•é€šçŸ¥å...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>pj<span class=\"token punctuation\">.</span><span class=\"token function\">getSignature</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>            <span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args <span class=\"token operator\">=</span> pj<span class=\"token punctuation\">.</span><span class=\"token function\">getArgs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> arg <span class=\"token operator\">:</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å‚æ•°ï¼š\"</span> <span class=\"token operator\">+</span> arg<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&#123;&#125;,æ‰§è¡Œå®Œæˆï¼\"</span><span class=\"token punctuation\">,</span> pj<span class=\"token punctuation\">.</span><span class=\"token function\">getSignature</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Throwable</span> ignored<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token keyword\">return</span> pj<span class=\"token punctuation\">.</span><span class=\"token function\">proceed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token annotation punctuation\">@AfterThrowing</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"logPoint()\"</span><span class=\"token punctuation\">,</span> throwing <span class=\"token operator\">=</span> <span class=\"token string\">\"e\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">afterThrowing</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"AOPå¤„ç†å¼‚å¸¸\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token class-name\">Throwable</span> throwable <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">fillInStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>throwable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n<li>Aop æµ‹è¯•ï¼Œåœ¨éœ€è¦åˆ‡å…¥ Aop çš„æ–¹æ³•ä¸Šæ·»åŠ è‡ªå®šä¹‰æ³¨è§£å³å¯æ‰§è¡Œåˆ‡å…¥<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>TestController.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>example<span class=\"token punctuation\">.</span>aop<span class=\"token punctuation\">.</span>aop<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">NeedAuth</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>example<span class=\"token punctuation\">.</span>aop<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">TestServiceImpl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">jakarta<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Resource</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>web<span class=\"token punctuation\">.</span>bind<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RequestMapping</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>web<span class=\"token punctuation\">.</span>bind<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">RestController</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * aop æµ‹è¯• Controller</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token annotation punctuation\">@RestController</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/aop\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">TestController</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token annotation punctuation\">@Resource</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token class-name\">TestServiceImpl</span> test<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/test\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token annotation punctuation\">@NeedAuth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token comment\">// åˆ‡å…¥ç‚¹</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">anoMessage</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>       <span class=\"token keyword\">return</span> test<span class=\"token punctuation\">.</span><span class=\"token function\">anoMessage</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>TestServiceImpl.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">TestServiceImpl</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>     <span class=\"token class-name\">String</span> <span class=\"token function\">anoMessage</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>TestService.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * @author LightRain</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token annotation punctuation\">@Service</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">TestService</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">TestServiceImpl</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">anoMessage</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ‰§è¡Œæ–¹æ³•needAuth\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"æµ‹è¯•\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n</ol>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaé«˜çº§ç‰¹æ€§",
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaé«˜çº§ç‰¹æ€§",
                "JavaAop"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/Java%E5%BC%82%E5%B8%B8%E4%B8%8E%E5%A4%84%E7%90%86/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/java/java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/Java%E5%BC%82%E5%B8%B8%E4%B8%8E%E5%A4%84%E7%90%86/",
            "title": "Javaå¼‚å¸¸ä¸å¤„ç†",
            "date_published": "2023-06-26T10:20:00.000Z",
            "content_html": "<h1 id=\"javaå¸¸è§å¼‚å¸¸\"><a class=\"anchor\" href=\"#javaå¸¸è§å¼‚å¸¸\">#</a> java å¸¸è§å¼‚å¸¸</h1>\n<details class=\"danger\"><summary>NullPointerException-ç©ºæŒ‡é’ˆå¼‚å¸¸</summary><div>\n<p>å½“å¼•ç”¨ä¸€ä¸ª null å¯¹è±¡æ—¶ï¼Œä¼šæŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œé€šå¸¸éœ€è¦æ£€æŸ¥å¯¹è±¡æ˜¯å¦ä¸ºç©ºå†åšæ“ä½œã€‚</p>\n</div></details>\n<details class=\"danger\"><summary>ClassNotFoundException-ç±»ä¸å­˜åœ¨å¼‚å¸¸</summary><div>\n<p>å½“ä½¿ç”¨ä¸å­˜åœ¨çš„ç±»è¿›è¡Œåå°„æˆ–åŠ¨æ€åŠ è½½æ—¶ï¼Œä¼šæŠ›å‡ºæ­¤å¼‚å¸¸ï¼Œéœ€è¦æ£€æŸ¥ç±»åæ˜¯å¦æ­£ç¡®æˆ–ç±»è·¯å¾„æ˜¯å¦å­˜åœ¨ã€‚</p>\n</div></details>\n<details class=\"danger\"><summary>IndexOutOfBoundsException-ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸</summary><div>\n<p>å½“ä½¿ç”¨äº†ä¸åˆæ³•çš„æ•°ç»„æˆ–åˆ—è¡¨ä¸‹æ ‡æ—¶ï¼Œä¼šæŠ›å‡ºæ­¤å¼‚å¸¸ï¼Œé€šå¸¸éœ€è¦æ£€æŸ¥ä¸‹æ ‡æ˜¯å¦è¶…è¿‡äº†æ•°ç»„æˆ–åˆ—è¡¨é•¿åº¦ã€‚</p>\n</div></details>\n<details class=\"danger\"><summary>SQLException-æ“ä½œæ•°æ®åº“å¼‚å¸¸</summary><div>\n<p>æ“ä½œæ•°æ®åº“ Sql è¯­æ³•æœ‰é—®é¢˜</p>\n</div></details>\n<details class=\"danger\"><summary>NoSuchMethodException-æ–¹æ³•æœªæ‰¾åˆ°å¼‚å¸¸</summary><div>\n<p>å½“è°ƒç”¨ä¸å­˜åœ¨çš„æ–¹æ³•åç§°æˆ–å‚æ•°ç±»å‹æ—¶ï¼Œä¼šæŠ›å‡ºæ­¤å¼‚å¸¸ï¼Œéœ€è¦æ£€æŸ¥æ–¹æ³•åå’Œå‚æ•°æ˜¯å¦æ­£ç¡®ã€‚</p>\n</div></details>\n<details class=\"danger\"><summary>IOException-è¾“å…¥è¾“å‡ºå¼‚å¸¸</summary><div>\n<p>å½“è¯»å–æˆ–å†™å…¥æ–‡ä»¶ã€ç½‘ç»œç­‰æ“ä½œæ—¶å‡ºç°å¼‚å¸¸ï¼Œä¼šæŠ›å‡ºæ­¤å¼‚å¸¸ï¼Œéœ€è¦æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€è¯»å†™æƒé™ç­‰ã€‚</p>\n</div></details>\n<details class=\"danger\"><summary>OutOfMemoryError</summary><div>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>OutOfMemoryErrorDemo.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">top<span class=\"token punctuation\">.</span>rem<span class=\"token punctuation\">.</span>rain<span class=\"token punctuation\">.</span>synchronized_example</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ArrayList</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * @Description: å †å†…å­˜æº¢å‡ºç¤ºä¾‹</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * @DateTime: 2023-12-23 21:43</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OutOfMemoryErrorDemo</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">List</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                list<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Byte</span><span class=\"token punctuation\">[</span><span class=\"token number\">1024</span> <span class=\"token operator\">*</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Throwable</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ‰§è¡Œäº†\"</span><span class=\"token operator\">+</span>i<span class=\"token operator\">+</span><span class=\"token string\">\"æ¬¡\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        ç”±äºå†…å­˜ä¸è¶³ï¼Œè™šæ‹Ÿæœºæ²¡æœ‰å¯åˆ†é…çš„å†…å­˜äº†ï¼Œåƒåœ¾å›æ”¶å™¨ä¹Ÿä¸èƒ½é‡Šæ”¾æ›´å¤šçš„å†…å­˜</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            at java.base/java.lang.Throwable.printStackTrace (Throwable.java:659)</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            at java.base/java.lang.Throwable.printStackTrace (Throwable.java:650)</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            at top.rem.rain.synchronized_example.volatileDemo1.main (volatileDemo1.java:23)</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>         */</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></div></details>\n",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaå¼‚å¸¸å¤„ç†",
                "è®¡ç®—æœºç§‘å­¦",
                "Java",
                "Javaå¼‚å¸¸å¤„ç†"
            ]
        },
        {
            "id": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AC%AC%E5%9B%9B%E8%8A%82%E9%93%BE%E8%A1%A8/",
            "url": "https://rainrem.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AC%AC%E5%9B%9B%E8%8A%82%E9%93%BE%E8%A1%A8/",
            "title": "ç¬¬å››èŠ‚é“¾è¡¨",
            "date_published": "2023-05-09T07:00:00.000Z",
            "content_html": "<h1 id=\"é“¾è¡¨\"><a class=\"anchor\" href=\"#é“¾è¡¨\">#</a> é“¾è¡¨</h1>\n<h2 id=\"å“ˆå¸Œè¡¨çš„ç®€å•ä»‹ç»\"><a class=\"anchor\" href=\"#å“ˆå¸Œè¡¨çš„ç®€å•ä»‹ç»\">#</a> å“ˆå¸Œè¡¨çš„ç®€å•ä»‹ç»</h2>\n<ol>\n<li>å“ˆå¸Œè¡¨åœ¨ä½¿ç”¨å±‚é¢ä¸Šå¯ä»¥ç†è§£ä¸ºä¸€ç§é›†åˆç»“æ„ã€‚</li>\n<li>å¦‚æœåªæœ‰ keyï¼Œæ²¡æœ‰ä¼´éšæ•°æ® valueï¼Œå¯ä»¥ä½¿ç”¨ HashSet ç»“æ„ (C++ ä¸­å« UnOrderedSet)ã€‚</li>\n<li>å¦‚æœæ—¢æœ‰ keyï¼Œåˆæœ‰ä¼´éšæ•°æ® valueï¼Œå¯ä»¥ä½¿ç”¨ HashMap ç»“æ„ (C++ ä¸­å« UnOrderedMap)ã€‚</li>\n<li>æœ‰æ— ä¼´éšæ•°æ®ï¼Œæ˜¯ HashMap å’Œ HashSet å”¯ä¸€çš„åŒºåˆ«ï¼Œåº•å±‚çš„å®é™…ç»“æ„æ˜¯ä¸€å›äº‹ã€‚</li>\n<li>ä½¿ç”¨å“ˆå¸Œè¡¨ (put)ã€åˆ  (remove)ã€æ”¹ (put)ã€æŸ¥ (get) çš„æ“ä½œï¼Œå¯ä»¥è®¤ä¸ºæ—¶é—´å¤æ‚åº¦ä¸º O (1)ï¼Œä½†æ˜¯å¸¸æ•°æ—¶é—´æ¯”è¾ƒå¤§ã€‚</li>\n<li>æ”¾å…¥å“ˆå¸Œè¡¨çš„ä¸œè¥¿ï¼Œå¦‚æœæ˜¯åŸºç¡€ç±»å‹ï¼Œå†…éƒ¨æŒ‰å€¼ä¼ é€’ï¼Œå†…å­˜å ç”¨å°±æ˜¯è¿™ä¸ªä¸œè¥¿çš„å¤§å°ã€‚</li>\n<li>æ”¾å…¥å“ˆå¸Œè¡¨çš„ä¸œè¥¿ï¼Œå¦‚æœä¸æ˜¯åŸºç¡€ç±»å‹ï¼Œå†…éƒ¨æŒ‰å¼•ç”¨ä¼ é€’ï¼Œå†…å­˜å ç”¨æ˜¯è¿™ä¸ªä¸œè¥¿å†…å­˜åœ°å€çš„å¤§å° (8bit)ã€‚</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Node.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Objects</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: é“¾è¡¨èŠ‚ç‚¹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-05-09 21:38</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Node</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Node</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> data<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Node</span> next<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">==</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>o <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> <span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> o<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token class-name\">Node</span> node <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Node</span><span class=\"token punctuation\">)</span> o<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token keyword\">return</span> data <span class=\"token operator\">==</span> node<span class=\"token punctuation\">.</span>data <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">,</span> node<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> next<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>HashSetAndHashMap.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HashMap</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HashSet</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Description: HashSet å’Œ HashMap çš„ä½¿ç”¨</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * å“ˆå¸Œè¡¨åœ¨ä½¿ç”¨çš„æ—¶å€™éƒ½æ˜¯å¸¸æ•°çº§åˆ«çš„æ—¶é—´å¤æ‚åº¦</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * å’Œæ•°æ®é‡æ²¡æœ‰å…³ç³»ï¼Œæ•°æ®é‡å†å¤§ä¹Ÿå¯ä»¥åšåˆ°å¸¸æ•°</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * çº§åˆ«çš„è¿”å›å€¼</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * æ—¶é—´å¤æ‚åº¦ï¼šO (logN)</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @DateTime: 2023-05-09 21:37</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HashSetAndHashMap</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">Node</span> nodeA <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">Node</span> nodeB <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">Node</span> nodeC <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token class-name\">HashSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> hashSet1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        hashSet1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashSet1.contains(3) = \"</span> <span class=\"token operator\">+</span> hashSet1<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        hashSet1<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashSet1.contains(3) = \"</span> <span class=\"token operator\">+</span> hashSet1<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"================================================\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> hashMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        hashMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"zuo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        hashMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cheng\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        hashMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap.containsKey(1) = \"</span> <span class=\"token operator\">+</span> hashMap<span class=\"token punctuation\">.</span><span class=\"token function\">containsKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap.get(1) = \"</span> <span class=\"token operator\">+</span> hashMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap.get(4) = \"</span> <span class=\"token operator\">+</span> hashMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        hashMap<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap.get(2) = \"</span> <span class=\"token operator\">+</span> hashMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"================================================\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token comment\">//HashSet2 çš„ key æ˜¯éåŸºç¡€ç±»å‹ ->Node ç±»å‹</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        nodeA <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        nodeB <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token class-name\">HashSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Node</span><span class=\"token punctuation\">></span></span> hashSet2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        hashSet2<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>nodeA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashSet2.contains(nodeA) = \"</span> <span class=\"token operator\">+</span> hashSet2<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>nodeA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashSet2.contains(nodeB) = \"</span> <span class=\"token operator\">+</span> hashSet2<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>nodeB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        hashSet2<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>nodeA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashSet2.contains(nodeA) = \"</span> <span class=\"token operator\">+</span> hashSet2<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>nodeA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"================================================\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token comment\">//HashMap1 çš„ key æ˜¯åŸºç¡€ç±»å‹ ->String ç±»å‹</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> hashMap1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token class-name\">String</span> str1 <span class=\"token operator\">=</span> <span class=\"token string\">\"key\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token class-name\">String</span> str2 <span class=\"token operator\">=</span> <span class=\"token string\">\"key\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap1.containsKey(str1) = \"</span> <span class=\"token operator\">+</span> hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">containsKey</span><span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap1.containsKey(str2) = \"</span> <span class=\"token operator\">+</span> hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">containsKey</span><span class=\"token punctuation\">(</span>str2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap1.get(str1) = \"</span> <span class=\"token operator\">+</span> hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap1.get(str2) = \"</span> <span class=\"token operator\">+</span> hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>str2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>str2<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap1.containsKey(str1) = \"</span> <span class=\"token operator\">+</span> hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">containsKey</span><span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap1.containsKey(str2) = \"</span> <span class=\"token operator\">+</span> hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">containsKey</span><span class=\"token punctuation\">(</span>str2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap1.get(str1) = \"</span> <span class=\"token operator\">+</span> hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap1.get(str2) = \"</span> <span class=\"token operator\">+</span> hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>str2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap1.containsKey(str1) = \"</span> <span class=\"token operator\">+</span> hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">containsKey</span><span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashMap1.containsKey(str2) = \"</span> <span class=\"token operator\">+</span> hashMap1<span class=\"token punctuation\">.</span><span class=\"token function\">containsKey</span><span class=\"token punctuation\">(</span>str2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"================================================\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"æœ‰åºè¡¨çš„ç®€å•ä»‹ç»\"><a class=\"anchor\" href=\"#æœ‰åºè¡¨çš„ç®€å•ä»‹ç»\">#</a> æœ‰åºè¡¨çš„ç®€å•ä»‹ç»</h2>\n<ol>\n<li>æœ‰åºè¡¨åœ¨ä½¿ç”¨å±‚é¢ä¸Šå¯ä»¥ç†è§£ä¸ºä¸€ç§é›†åˆç»“æ„ã€‚</li>\n<li>å¦‚æœåªæœ‰ keyï¼Œæ²¡æœ‰ä¼´éšæ•°æ® valueï¼Œå¯ä»¥ä½¿ç”¨ TreeSet ç»“æ„ (C++ ä¸­å« OrderedSet)ã€‚</li>\n<li>å¦‚æœæ—¢æœ‰ keyï¼Œåˆæœ‰ä¼´éšæ•°æ® valueï¼Œå¯ä»¥ä½¿ç”¨ TreeMap ç»“æ„ (C++ ä¸­å« OrderedMap)ã€‚</li>\n<li>æœ‰æ— ä¼´éšæ•°æ®ï¼Œæ˜¯ TreeSet å’Œ TreeMap å”¯ä¸€çš„åŒºåˆ«ï¼Œåº•å±‚çš„å®é™…ç»“æ„æ˜¯ä¸€å›äº‹ã€‚</li>\n<li>æœ‰åºè¡¨å’Œå“ˆå¸Œè¡¨çš„åŒºåˆ«æ˜¯ï¼Œæœ‰åºè¡¨æŠŠ key æŒ‰ç…§é¡ºåºç»„ç»‡èµ·æ¥ï¼Œè€Œå“ˆå¸Œè¡¨å®Œå…¨ä¸ç»„ç»‡ã€‚</li>\n<li>çº¢é»‘æ ‘ã€AVL æ•°ã€size-balance-tree å’Œè·³è¡¨ç­‰éƒ½å±äºæœ‰åºè¡¨ç»“æ„ï¼Œåªæ˜¯åº•å±‚å…·ä½“å®ç°ä¸åŒã€‚</li>\n<li>æ”¾å…¥æœ‰åºè¡¨çš„ä¸œè¥¿ï¼Œå¦‚æœæ˜¯åŸºç¡€ç±»å‹ï¼Œå†…éƒ¨æŒ‰å€¼ä¼ é€’ï¼Œå†…å­˜å ç”¨å°±æ˜¯è¿™ä¸ªä¸œè¥¿çš„å¤§å°ã€‚</li>\n<li>æ”¾å…¥æœ‰åºè¡¨çš„ä¸œè¥¿ï¼Œå¦‚æœä¸æ˜¯åŸºç¡€ç±»å‹ï¼Œå¿…é¡»æä¾›æ¯”è¾ƒå™¨ï¼Œå†…éƒ¨æŒ‰å¼•ç”¨ä¼ é€’ï¼Œå†…å­˜å ç”¨æ˜¯è¿™ä¸ªä¸œè¥¿å†…å­˜åœ°å€çš„å¤§å°ã€‚</li>\n<li>ä¸ç®¡æ˜¯ä»€ä¹ˆåº•å±‚å…·ä½“å®ç°ï¼Œåªè¦æ˜¯æœ‰åºè¡¨ï¼Œéƒ½æœ‰ä»¥ä¸‹å›ºå®šçš„åŸºæœ¬åŠŸèƒ½å’Œå›ºå®šçš„æ—¶é—´å¤æ‚åº¦ O (logN) çº§åˆ«ã€‚</li>\n</ol>\n<h3 id=\"æœ‰åºè¡¨çš„å›ºå®šæ“ä½œ\"><a class=\"anchor\" href=\"#æœ‰åºè¡¨çš„å›ºå®šæ“ä½œ\">#</a> æœ‰åºè¡¨çš„å›ºå®šæ“ä½œ</h3>\n<ol>\n<li>void put (K key,V value): å°†ä¸€ä¸ª (key,value) è®°å½•åŠ å…¥åˆ°è¡¨ä¸­ï¼Œæˆ–è€…å°† key çš„è®°å½•æ›´æ–°æˆ valueã€‚</li>\n<li>V get (K key): æ ¹æ®ç»™å®šçš„ keyï¼ŒæŸ¥è¯¢ value å¹¶è¿”å›ã€‚</li>\n<li>void remove (K key): ç§»é™¤ key çš„è®°å½•ã€‚</li>\n<li>boolean containsKey (K key): è¯¢é—®æ˜¯å¦æœ‰å…³äº key çš„è®°å½•ã€‚</li>\n<li>K firstKey (): è¿”å›æ‰€æœ‰é”®å€¼çš„æ’åºç»“æœä¸­ï¼Œæœ€å·¦ (æœ€å°) çš„é‚£ä¸ªã€‚</li>\n<li>K lastKey (): è¿”å›æ‰€æœ‰é”®å€¼çš„æ’åºç»“æœä¸­ï¼Œæœ€å³ (æœ€å¤§) çš„é‚£ä¸ªã€‚</li>\n<li>K floorKey (K key): å¦‚æœè¡¨ä¸­å­˜å…¥è¿‡ keyï¼Œè¿”å› key: å¦åˆ™è¿”å›æ‰€æœ‰é”®å€¼çš„æ’åºç»“æœä¸­ï¼Œkey çš„å‰ä¸€ä¸ªã€‚</li>\n<li>K ceilingKey (K key): å¦‚æœè¡¨ä¸­å­˜å…¥è¿‡ keyï¼Œè¿”å› key: å¦åˆ™è¿”å›æ‰€æœ‰é”®å€¼çš„æ’åºç»“æœä¸­ï¼Œkey çš„åä¸€ä¸ªã€‚</li>\n<li>ä»¥ä¸Šæ‰€æœ‰æ“ä½œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O (logN),N ä¸ºæœ‰åºè¡¨å«æœ‰çš„è®°å½•æ•°ã€‚</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Comparator</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Objects</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Description: é“¾è¡¨èŠ‚ç‚¹</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @DateTime: 2023-05-09 21:38</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Node</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Node</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> data<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Node</span> next<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">==</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>o <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> <span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> o<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">Node</span> node <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Node</span><span class=\"token punctuation\">)</span> o<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token keyword\">return</span> data <span class=\"token operator\">==</span> node<span class=\"token punctuation\">.</span>data <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>next<span class=\"token punctuation\">,</span> node<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">hashCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Objects</span><span class=\"token punctuation\">.</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> next<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>     * è‡ªå®šä¹‰æ¯”è¾ƒå™¨</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NodeComparator</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Comparator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Node</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">compare</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Node</span> o1<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Node</span> o2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            <span class=\"token keyword\">return</span> o1<span class=\"token punctuation\">.</span>data <span class=\"token operator\">-</span> o2<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>TreeSetAndTreeMap.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">TreeMap</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">TreeSet</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @Description: TreeSet å’Œ TreeMap</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * æœ‰åºè¡¨åœ¨ä½¿ç”¨çš„æ—¶å€™éƒ½æ˜¯å¸¸æ•°çº§åˆ«çš„æ—¶é—´å¤æ‚åº¦</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> * å’Œæ•°æ®é‡æ²¡æœ‰å…³ç³»ï¼Œæ•°æ®é‡å†å¤§ä¹Ÿå¯ä»¥åšåˆ°å¸¸æ•°</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> * çº§åˆ«çš„è¿”å›å€¼</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> * æ—¶é—´å¤æ‚åº¦ï¼šO (logN)</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> * @DateTime: 2023-05-09 22:28</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">TreeSetAndTreeMap</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\">Node</span> nodeA <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\">Node</span> nodeB <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">Node</span> nodeC <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        nodeA <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        nodeB <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        nodeC <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token comment\">// çº¢é»‘æ ‘</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token class-name\">TreeSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Node</span><span class=\"token punctuation\">></span></span> treeSet <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TreeSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">// ä»¥ä¸‹ä»£ç ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰æä¾› Node ç±»å‹çš„æ¯”è¾ƒå™¨</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            treeSet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>nodeA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            treeSet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>nodeB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            treeSet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>nodeC<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"é”™è¯¯ä¿¡æ¯ï¼š\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"================================================\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\">// æ·»åŠ æ¯”è¾ƒå™¨æ‰å¯æ·»åŠ èŠ‚ç‚¹æˆåŠŸ</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        treeSet <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TreeSet</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Node<span class=\"token punctuation\">.</span>NodeComparator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            treeSet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>nodeA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            treeSet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>nodeB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>            treeSet<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>nodeC<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"èŠ‚ç‚¹æ·»åŠ æˆåŠŸ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"é”™è¯¯ä¿¡æ¯ï¼š\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"================================================\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token comment\">// å±•ç¤ºæœ‰åºè¡¨å¸¸ç”¨æ“ä½œ</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token class-name\">TreeMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> treeMap1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TreeMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æˆ‘æ˜¯7\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æˆ‘æ˜¯5\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æˆ‘æ˜¯4\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æˆ‘æ˜¯3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æˆ‘æ˜¯9\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"æˆ‘æ˜¯2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">containsKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">firstKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\",æˆ‘æœ€å°\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">lastKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\",æˆ‘æœ€å¤§\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">floorKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\",åœ¨è¡¨ä¸­æ‰€æœ‰&lt;=8çš„æ•°ä¸­ï¼Œæˆ‘ç¦»8æœ€è¿‘\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">ceilingKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\",åœ¨è¡¨ä¸­æ‰€æœ‰>=8çš„æ•°ä¸­ï¼Œæˆ‘ç¦»8æœ€è¿‘\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">floorKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\",åœ¨è¡¨ä¸­æ‰€æœ‰&lt;=7çš„æ•°ä¸­ï¼Œæˆ‘ç¦»7æœ€è¿‘\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">ceilingKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\",åœ¨è¡¨ä¸­æ‰€æœ‰>=7çš„æ•°ä¸­ï¼Œæˆ‘ç¦»7æœ€è¿‘\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>treeMap1<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"ï¼Œåˆ äº†å°±æ²¡æœ‰äº†å“¦\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"================================================\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"å•é“¾è¡¨çš„èŠ‚ç‚¹ç»“æ„\"><a class=\"anchor\" href=\"#å•é“¾è¡¨çš„èŠ‚ç‚¹ç»“æ„\">#</a> å•é“¾è¡¨çš„èŠ‚ç‚¹ç»“æ„</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Node</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token class-name\">V</span> value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token class-name\">Node</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>ç”±ä»¥ä¸Šç»“æ„çš„èŠ‚ç‚¹ä¾æ¬¡è¿æ¥èµ·æ¥æ‰€å½¢æˆçš„é“¾å«å•é“¾è¡¨ç»“æ„ã€‚</p>\n<h2 id=\"åŒé“¾è¡¨çš„èŠ‚ç‚¹ç»“æ„\"><a class=\"anchor\" href=\"#åŒé“¾è¡¨çš„èŠ‚ç‚¹ç»“æ„\">#</a> åŒé“¾è¡¨çš„èŠ‚ç‚¹ç»“æ„</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Node</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">V</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token class-name\">V</span> value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token class-name\">Node</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">Node</span> last<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>ç”±ä»¥ä¸Šç»“æ„çš„èŠ‚ç‚¹ä¾æ¬¡è¿æ¥èµ·æ¥æ‰€å½¢æˆçš„é“¾å«åŒé“¾è¡¨ç»“æ„ã€‚<br />\nå•é“¾è¡¨å’ŒåŒé“¾è¡¨ç»“æ„åªéœ€è¦ç»™å®šä¸€ä¸ªå¤´éƒ¨èŠ‚ç‚¹ headï¼Œå°±å¯ä»¥æ‰¾åˆ°å‰©ä¸‹çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</p>\n<h2 id=\"åè½¬å•å‘å’ŒåŒå‘é“¾è¡¨\"><a class=\"anchor\" href=\"#åè½¬å•å‘å’ŒåŒå‘é“¾è¡¨\">#</a> åè½¬å•å‘å’ŒåŒå‘é“¾è¡¨</h2>\n<ul>\n<li>é¢˜ç›®ï¼šåˆ†åˆ«å®ç°åè½¬å•å‘é“¾è¡¨å’Œåè½¬åŒå‘é“¾è¡¨çš„å‡½æ•°ã€‚</li>\n<li>è¦æ±‚ï¼šå¦‚æœé“¾è¡¨é•¿åº¦ä¸º N, æ—¶é—´å¤æ‚åº¦è¦æ±‚ä¸º O (N), é¢å¤–ç©ºé—´å¤æ‚åº¦è¦æ±‚ä¸º O (1)ã€‚</li>\n<li>ä»£ç ä»¥åå†è´´ã€‚</li>\n</ul>\n<h2 id=\"æ‰“å°ä¸¤ä¸ªæœ‰åºè¡¨çš„å…¬å…±éƒ¨åˆ†\"><a class=\"anchor\" href=\"#æ‰“å°ä¸¤ä¸ªæœ‰åºè¡¨çš„å…¬å…±éƒ¨åˆ†\">#</a> æ‰“å°ä¸¤ä¸ªæœ‰åºè¡¨çš„å…¬å…±éƒ¨åˆ†</h2>\n<ul>\n<li>é¢˜ç›®ï¼šç»™å®šä¸¤ä¸ªæœ‰åºé“¾è¡¨çš„å¤´æŒ‡é’ˆ head1 å’Œ head2, æ‰“å°ä¸¤ä¸ªé“¾è¡¨çš„å…¬å…±éƒ¨åˆ†ã€‚</li>\n<li>è¦æ±‚ï¼šå¦‚æœä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦ä¹‹å’Œä¸º N, æ—¶é—´å¤æ‚åº¦è¦æ±‚ä¸º O (N), é¢å¤–ç©ºé—´å¤æ‚åº¦è¦æ±‚ä¸º O (1)ã€‚</li>\n<li>ä»£ç ä»¥åå†è´´ã€‚</li>\n</ul>\n<h2 id=\"é¢è¯•æ—¶é“¾è¡¨è§£é¢˜çš„æ–¹æ³•è®º\"><a class=\"anchor\" href=\"#é¢è¯•æ—¶é“¾è¡¨è§£é¢˜çš„æ–¹æ³•è®º\">#</a> é¢è¯•æ—¶é“¾è¡¨è§£é¢˜çš„æ–¹æ³•è®º</h2>\n<ol>\n<li>å¯¹äºç¬”è¯•ï¼Œä¸ç”¨å¤ªåœ¨ä¹ç©ºé—´å¤æ‚åº¦ï¼Œä¸€åˆ‡ä¸ºäº†æ—¶é—´å¤æ‚åº¦ã€‚</li>\n<li>å¯¹äºé¢è¯•ï¼Œæ—¶é—´å¤æ‚åº¦ä¾ç„¶æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œä½†æ˜¯ä¸€å®šè¦æ‰¾åˆ°ç©ºé—´æœ€çœçš„æ–¹æ³•ã€‚</li>\n</ol>\n<h2 id=\"é‡è¦æŠ€å·§\"><a class=\"anchor\" href=\"#é‡è¦æŠ€å·§\">#</a> é‡è¦æŠ€å·§</h2>\n<ol>\n<li>é¢å¤–æ•°æ®ç»“æ„è®°å½• (å“ˆå¸Œè¡¨ç­‰)ã€‚</li>\n<li>å¿«æ…¢æŒ‡é’ˆã€‚</li>\n</ol>\n<h2 id=\"åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡ç»“æ„\"><a class=\"anchor\" href=\"#åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡ç»“æ„\">#</a> åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡ç»“æ„</h2>\n<ul>\n<li>é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head, è¯·åˆ¤æ–­è¯¥é“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡ç»“æ„ã€‚</li>\n<li>ä¾‹å­ï¼š1-&gt;2-&gt;1, è¿”å› true;1-&gt;2-&gt;2-&gt;1, è¿”å› true;15-&gt;6-&gt;15, è¿”å› true;1-&gt;2-&gt;3, è¿”å› falseã€‚</li>\n<li>ä¾‹å­ï¼šå¦‚æœé“¾è¡¨é•¿åº¦ä¸º Nï¼Œæ—¶é—´å¤æ‚åº¦è¾¾åˆ° O (N)ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦è¾¾åˆ° O (1)ã€‚</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>Palindrome.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Stack</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡ç»“æ„</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-05-09 23:40</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Palindrome</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">// æµ‹è¯•ä¸ä¼šå†™ä¹‹åå†è¡¥</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     * @Author: LightRain</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     * @Date: 2023/5/9 23:41</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * @Param: [head]</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     * @Return: boolean</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     * @Description: need n extra space éœ€è¦ n ä¸ªé¢å¤–çš„ç©ºé—´ï¼Œå‹å…¥åˆ°æ ˆå½¢å¼çš„å›æ–‡</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     * @since 17</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isPalindrome1</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Node</span> head<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»º Stack å¯¹è±¡</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token class-name\">Stack</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Node</span><span class=\"token punctuation\">></span></span> stack <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Stack</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">Node</span> cur <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cur <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token comment\">// å°†æ‰€æœ‰ä¸œè¥¿å‹å…¥è¿›æ ˆå†…</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            stack<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            cur <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">// ä¸ä¸ºç©ºåˆ™ç»§ç»­éå†</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>head <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token comment\">// æ ˆå¼¹å‡ºä¸€ä¸ªå¯¹æ¯”ä¸€ä¸ª å…¨éƒ¨éƒ½ä¸€æ ·è¿”å› true</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">.</span>value <span class=\"token operator\">!=</span> stack<span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>                <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            head <span class=\"token operator\">=</span> head<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>     * @Author: LightRain</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>     * @Date: 2023/5/9 23:53</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>     * @Param: [head]</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>     * @Return: boolean</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>     * @Description: need n/2 extra space éœ€è¦ n2 é¢å¤–ç©ºé—´ï¼ŒäºŒåˆ†ä¹‹ N æ–¹æ³•æŸ¥æ‰¾å¿«æ…¢æŒ‡é’ˆ</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>     * @since 17</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isPalindrome2</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Node</span> head<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>head <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> head<span class=\"token punctuation\">.</span>next <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token class-name\">Node</span> right <span class=\"token operator\">=</span> head<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token class-name\">Node</span> cur <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">.</span>next <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> cur<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">.</span>next <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            right <span class=\"token operator\">=</span> right<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>            cur <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        <span class=\"token class-name\">Stack</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Node</span><span class=\"token punctuation\">></span></span> stack <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Stack</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>right <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>            stack<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>right<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            right <span class=\"token operator\">=</span> right<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>stack<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">.</span>value <span class=\"token operator\">!=</span> stack<span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>                <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>            head <span class=\"token operator\">=</span> head<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"75\"></td><td><pre>     * @Author: LightRain</pre></td></tr><tr><td data-num=\"76\"></td><td><pre>     * @Date: 2023/5/10 0:33</pre></td></tr><tr><td data-num=\"77\"></td><td><pre>     * @Param: [head]</pre></td></tr><tr><td data-num=\"78\"></td><td><pre>     * @Return: boolean</pre></td></tr><tr><td data-num=\"79\"></td><td><pre>     * @Description: need O (1) extra space éœ€è¦ O (1) ä¸ªé¢å¤–ç©ºé—´å®ç°åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡ç»“æ„</pre></td></tr><tr><td data-num=\"80\"></td><td><pre>     * @since 17</pre></td></tr><tr><td data-num=\"81\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isPalindrome3</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Node</span> head<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>head <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> head<span class=\"token punctuation\">.</span>next <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>        <span class=\"token class-name\">Node</span> n1 <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        <span class=\"token class-name\">Node</span> n2 <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>        <span class=\"token comment\">//find mid node æŸ¥æ‰¾ä¸­é—´èŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>        <span class=\"token comment\">//n2 èµ°å®Œ n1 ä¼šæ¥åˆ°ä¸­ç‚¹ä½ç½®</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>n2<span class=\"token punctuation\">.</span>next <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> n2<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">.</span>next <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>            <span class=\"token comment\">//n1 ä¸€æ¬¡èµ°ä¸€æ­¥ n1 -> mid</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>            n1 <span class=\"token operator\">=</span> n1<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>            <span class=\"token comment\">//n2 ä¸€æ¬¡èµ°ä¸¤æ­¥ n2 -> end</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>            n2 <span class=\"token operator\">=</span> n2<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>        <span class=\"token comment\">//n2 -> right part first node å³éƒ¨åˆ†ç¬¬ä¸€èŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>        n2 <span class=\"token operator\">=</span> n1<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>        <span class=\"token comment\">//mid.next -> null</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>        n1<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>        <span class=\"token class-name\">Node</span> n3 <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>        <span class=\"token comment\">//right part convert</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>        <span class=\"token comment\">// ä» n1 å¼€å§‹é€†åº</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>n2 <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>            <span class=\"token comment\">// å³åŠéƒ¨åˆ†å¼€å§‹é€†åº</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>            <span class=\"token comment\">//n3 -> save next node ä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>            n3 <span class=\"token operator\">=</span> n2<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>            <span class=\"token comment\">//next of right node convert å³èŠ‚ç‚¹è½¬æ¢çš„ä¸‹ä¸€ä¸ª</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>            n2<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> n1<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>            <span class=\"token comment\">//n1 move n1 ç§»åŠ¨</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>            n1 <span class=\"token operator\">=</span> n2<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>            <span class=\"token comment\">//n2 move n2 ç§»åŠ¨</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>            n2 <span class=\"token operator\">=</span> n3<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>        <span class=\"token comment\">// å³è¾¹é€†åºåˆ°ä¸­ç‚¹æ—¶</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>        <span class=\"token comment\">//n3 -> save last node ä¿å­˜æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>        n3 <span class=\"token operator\">=</span> n1<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>        <span class=\"token comment\">//n2 -> left first node å·¦ç¬¬ä¸€èŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>        n2 <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>        <span class=\"token keyword\">boolean</span> res <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>        <span class=\"token comment\">//check palindrome æ£€æŸ¥å›æ–‡</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>        <span class=\"token comment\">// å·¦è¾¹ä¸€ä¸ªç‚¹</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>        <span class=\"token comment\">// å³è¾¹ä¸€ä¸ªç‚¹</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>n1 <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> n2 <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>            <span class=\"token comment\">//n1 å’Œ n2 æ¯ä»ä¸€æ­¥éªŒè¯ä¸€æ¬¡ï¼Œä¸ä¸€è‡´ res è®¾ç½®ä¸º false</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n1<span class=\"token punctuation\">.</span>value <span class=\"token operator\">!=</span> n2<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>                res <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>            <span class=\"token comment\">//left to mid å·¦è‡³ä¸­</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>            <span class=\"token comment\">//n1 ä»ä¸­é—´èµ°</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>            n1 <span class=\"token operator\">=</span> n1<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>            <span class=\"token comment\">//right to mid ä»å³è¾¹åˆ°ä¸­é—´</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>            <span class=\"token comment\">//n2 ä¹Ÿä»ä¸­é—´èµ°</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>            n2 <span class=\"token operator\">=</span> n2<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>        n1 <span class=\"token operator\">=</span> n3<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>        n3<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre>        <span class=\"token comment\">//recover list æ¢å¤å³åŠé€†åºé“¾è¡¨</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>n1 <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre>            n2 <span class=\"token operator\">=</span> n1<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre>            n1<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> n3<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre>            n3 <span class=\"token operator\">=</span> n1<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre>            n1 <span class=\"token operator\">=</span> n2<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"144\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"145\"></td><td><pre>        <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre></pre></td></tr><tr><td data-num=\"148\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"149\"></td><td><pre>     * é“¾è¡¨èŠ‚ç‚¹</pre></td></tr><tr><td data-num=\"150\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"151\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Node</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"152\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"153\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"154\"></td><td><pre></pre></td></tr><tr><td data-num=\"155\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"156\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"157\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"158\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"159\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"å°†å•å‘é“¾è¡¨æŒ‰ç…§æŸå€¼åˆ’åˆ†\"><a class=\"anchor\" href=\"#å°†å•å‘é“¾è¡¨æŒ‰ç…§æŸå€¼åˆ’åˆ†\">#</a> å°†å•å‘é“¾è¡¨æŒ‰ç…§æŸå€¼åˆ’åˆ†</h2>\n<ul>\n<li>å°†å•å‘é“¾è¡¨æŒ‰ç…§æŸå€¼åˆ’åˆ†æˆå·¦è¾¹å°ã€ä¸­é—´ç›¸ç­‰ã€å³è¾¹å¤§çš„å½¢å¼ã€‚</li>\n<li>é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ headï¼ŒèŠ‚ç‚¹çš„å€¼ç±»å‹æ˜¯æ•´å½¢ï¼Œå†ç»™å®šä¸€ä¸ªæ•´æ•° pivotã€‚</li>\n<li>å®ç°ä¸€ä¸ªè°ƒæ•´é“¾è¡¨çš„å‡½æ•°ï¼Œå°†é“¾è¡¨è°ƒæ•´ä¸ºå·¦éƒ¨åˆ†éƒ½æ˜¯å€¼å°äº pivot çš„èŠ‚ç‚¹ï¼Œä¸­é—´éƒ¨åˆ†éƒ½æ˜¯å€¼ç­‰äº pivot çš„èŠ‚ç‚¹ï¼Œå³éƒ¨åˆ†éƒ½æ˜¯å€¼å¤§äº pivot çš„èŠ‚ç‚¹ã€‚</li>\n</ul>\n<blockquote>\n<p>ã€è¿›é˜¶ã€‘åœ¨å®ç°åŸé—®é¢˜åŠŸèƒ½çš„åŸºç¡€ä¸Šå¢åŠ å¦‚ä¸‹çš„è¦æ±‚</p>\n</blockquote>\n<ol>\n<li>è°ƒæ•´åæ‰€æœ‰å°äº pivot çš„èŠ‚ç‚¹ä¹‹é—´çš„ç›¸å¯¹é¡ºåºå’Œè°ƒæ•´å‰ä¸€æ ·ã€‚</li>\n<li>è°ƒæ•´åæ‰€æœ‰ç­‰äº pivot çš„èŠ‚ç‚¹ä¹‹é—´çš„ç›¸å¯¹é¡ºåºå’Œè°ƒæ•´å‰ä¸€æ ·ã€‚</li>\n<li>è°ƒæ•´åæ‰€æœ‰å¤§äº pivot çš„èŠ‚ç‚¹ä¹‹é—´çš„ç›¸å¯¹é¡ºåºå’Œè°ƒæ•´å‰ä¸€æ ·ã€‚</li>\n<li>æ—¶é—´å¤æ‚åº¦è¯·è¾¾åˆ° O (N)ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦è¯·è¾¾åˆ° O (1)ã€‚</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>SmallerEqualBigger.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"2\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> * @Description: å°†å•å‘é“¾è¡¨æŒ‰ç…§æŸå€¼åˆ’åˆ†æˆå·¦è¾¹å°ã€ä¸­é—´ç›¸ç­‰ã€å³è¾¹å¤§çš„å½¢å¼ã€‚</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @DateTime: 2023-05-10 00:51</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SmallerEqualBigger</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\">// æµ‹è¯•ä¸ä¼šå†™ä¹‹åå†è¡¥</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>     * @Author: LightRain</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     * @Date: 2023/5/10 1:05</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     * @Param: [head, pivot]</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     * @Return: com.example.cleanemptyfolders.sort.SmallerEqualBigger.Node</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * @Description: åˆ—è¡¨åˆ†åŒº</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     * @since 17</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Node</span> <span class=\"token function\">listPartition</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Node</span> head<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> pivot<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">//small head å°äºå¤´</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token class-name\">Node</span> sH <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">//small tail å°äºå°¾</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token class-name\">Node</span> sT <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token comment\">//equal head ç­‰äºå¤´</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token class-name\">Node</span> eH <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token comment\">//equal tail ç­‰äºå°¾</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token class-name\">Node</span> eT <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">//big head å¤§äºå¤´</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token class-name\">Node</span> mH <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">//big tail å¤§äºå°¾</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token class-name\">Node</span> mT <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">//save next node ä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token class-name\">Node</span> next <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token comment\">//every node distributed to three lists</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token comment\">// æ¯ä¸ªèŠ‚ç‚¹åˆ†å‘åˆ°ä¸‰ä¸ªåˆ—è¡¨</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>head <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            next <span class=\"token operator\">=</span> head<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>            head<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">.</span>value <span class=\"token operator\">&lt;</span> pivot<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>                <span class=\"token comment\">// ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sH <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>                    sH <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>                    sT <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>                    <span class=\"token comment\">// å¦‚æœä¸æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°†è€çš„å°¾å·´é“¾æ¥åˆ°å½“å‰ head èŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>                    sT<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>                    <span class=\"token comment\">// å½“å‰èŠ‚ç‚¹å˜æˆå°äºåŒºçš„æ–°çš„å°¾å·´</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>                    sT <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">.</span>value <span class=\"token operator\">==</span> pivot<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>eH <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>                    eH <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>                    eT <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>                    eT<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>                    eT <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mH <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>                    mH <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>                    mT <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>                    mT<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>                    mT <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>            head <span class=\"token operator\">=</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token comment\">//small and equal reconnect</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token comment\">// å°è€Œç›¸ç­‰çš„é‡æ–°è¿æ¥</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sT <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>            sT<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> eH<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>            <span class=\"token comment\">// ä¸‹ä¸€æ­¥ï¼Œè°å»é“¾æ¥å¤§äºåŒºåŸŸçš„å¤´è°å°±å˜æˆ eT</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>            eT <span class=\"token operator\">=</span> eT <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> sT <span class=\"token operator\">:</span> eT<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token comment\">// ä¸Šé¢çš„ if, ä¸ç®¡è·‘äº†æ²¡æœ‰ eT</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token comment\">//all reconnect å…¨éƒ¨é‡æ–°è¿æ¥</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>eT <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>            <span class=\"token comment\">// å¦‚æœå°äºåŒºåŸŸå’Œç­‰äºåŒºåŸŸï¼Œä¸æ˜¯éƒ½æ²¡æœ‰</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>            eT<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> mH<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token keyword\">return</span> sH <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> sH <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>eH <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> eH <span class=\"token operator\">:</span> mH<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"87\"></td><td><pre>     * é“¾è¡¨èŠ‚ç‚¹</pre></td></tr><tr><td data-num=\"88\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Node</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"å¤åˆ¶å«æœ‰éšæœºæŒ‡é’ˆèŠ‚ç‚¹çš„é“¾è¡¨\"><a class=\"anchor\" href=\"#å¤åˆ¶å«æœ‰éšæœºæŒ‡é’ˆèŠ‚ç‚¹çš„é“¾è¡¨\">#</a> å¤åˆ¶å«æœ‰éšæœºæŒ‡é’ˆèŠ‚ç‚¹çš„é“¾è¡¨</h2>\n<ul>\n<li>é¢˜ç›®ä¸€ç§ç‰¹æ®Šçš„å•é“¾è¡¨èŠ‚ç‚¹ç±»æè¿°å¦‚ä¸‹<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">int</span> value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token class-name\">Node</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">Node</span> rand<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token class-name\">Node</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        value <span class=\"token operator\">=</span> val<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span>     </pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n<li>rand æŒ‡é’ˆæ˜¯å•é“¾è¡¨èŠ‚ç‚¹ç»“æ„ä¸­æ–°å¢çš„æŒ‡é’ˆï¼Œrand å¯èƒ½æŒ‡å‘é“¾è¡¨ä¸­çš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå¯èƒ½æŒ‡å‘ nullã€‚</li>\n<li>ç»™å®šä¸€ä¸ªç”± Node èŠ‚ç‚¹ç±»å‹ç»„æˆçš„æ— ç¯å•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ headï¼Œè¯·å®ç°ä¸€ä¸ªå‡½æ•°å®Œæˆè¿™ä¸ªé“¾è¡¨çš„å¤åˆ¶ï¼Œå¹¶è¿”å›å¤åˆ¶çš„æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚</li>\n</ul>\n<blockquote>\n<p>ã€è¦æ±‚ã€‘æ—¶é—´å¤æ‚åº¦ O (N)ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦ O (1)</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>CopyListWithRand.java</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HashMap</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> * @Author: LightRain</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * @Description: å¤åˆ¶å«æœ‰éšæœºæŒ‡é’ˆèŠ‚ç‚¹çš„é“¾è¡¨</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @DateTime: 2023-05-10 01:47</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> * @Versionï¼š1.0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> **/</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CopyListWithRand</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>     * @Author: LightRain</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>     * @Date: 2023/5/10 2:07</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>     * @Param: [head]</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>     * @Return: com.example.cleanemptyfolders.sort.CopyListWithRand.Node</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>     * @Description: ä½¿ç”¨é“¾è¡¨å®ŒæˆèŠ‚ç‚¹å¤åˆ¶</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>     * @since 17</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Node</span> <span class=\"token function\">copyListWithRand1</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Node</span> head<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token comment\">// åˆ›å»º Map</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Node</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">></span></span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token class-name\">Node</span> cur <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cur <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token comment\">// åšå‡ºå…‹éš†èŠ‚ç‚¹æ·»åŠ åˆ° map å†…</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token comment\">// è¿›è¡Œä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            cur <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        cur <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cur <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token comment\">//cur è€é“¾è¡¨</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token comment\">//map.get (cur) æ–°é“¾è¡¨</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>rand <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">.</span>rand<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            <span class=\"token comment\">// è¿›è¡Œä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            cur <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token keyword\">return</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"43\"></td><td><pre>     * @Author: LightRain</pre></td></tr><tr><td data-num=\"44\"></td><td><pre>     * @Date: 2023/5/10 2:07</pre></td></tr><tr><td data-num=\"45\"></td><td><pre>     * @Param: [head]</pre></td></tr><tr><td data-num=\"46\"></td><td><pre>     * @Return: com.example.cleanemptyfolders.sort.CopyListWithRand.Node</pre></td></tr><tr><td data-num=\"47\"></td><td><pre>     * @Description: ä¸ä½¿ç”¨é“¾è¡¨å®ŒæˆèŠ‚ç‚¹å¤åˆ¶</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>     * @since 17</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Node</span> <span class=\"token function\">copyListWithRand2</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Node</span> head<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>head <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token class-name\">Node</span> cur <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        <span class=\"token class-name\">Node</span> next <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token comment\">//copy node and link to every node å¤åˆ¶èŠ‚ç‚¹å¹¶é“¾æ¥åˆ°æ¯ä¸ªèŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token comment\">// 1->2->3</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        <span class=\"token comment\">// 1->1'->2->2'->3->3'</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cur <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            next <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>            <span class=\"token comment\">// å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªæ”¾å…‹éš†èŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>            cur<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            <span class=\"token comment\">// å…‹éš†èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªæ˜¯è€çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>            cur<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>            cur <span class=\"token operator\">=</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        cur <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token class-name\">Node</span> curCopy <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token comment\">//set copy node rand è®¾ç½®å¤åˆ¶èŠ‚ç‚¹ rand</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token comment\">//1->1'->2->2'</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cur <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>            next <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>            curCopy <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>            <span class=\"token comment\">// å¦‚æœ cur.rand != null è®¾ç½®ä¸º cur.rand.next å¦åˆ™è®¾ç½®ä¸º null</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>            curCopy<span class=\"token punctuation\">.</span>rand <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>rand <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> cur<span class=\"token punctuation\">.</span>rand<span class=\"token punctuation\">.</span>next <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>            cur <span class=\"token operator\">=</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token class-name\">Node</span> res <span class=\"token operator\">=</span> head<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        cur <span class=\"token operator\">=</span> head<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        <span class=\"token comment\">//split æ‹†åˆ†</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cur <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>            next <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>            curCopy <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>            cur<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>            curCopy<span class=\"token punctuation\">.</span>next <span class=\"token operator\">=</span> next <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> next<span class=\"token punctuation\">.</span>next <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>            cur <span class=\"token operator\">=</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>        <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>    <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"92\"></td><td><pre>     * é“¾è¡¨èŠ‚ç‚¹</pre></td></tr><tr><td data-num=\"93\"></td><td><pre>     */</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Node</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span> next<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span> rand<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Node</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>",
            "tags": [
                "è®¡ç®—æœºç§‘å­¦",
                "ç®—æ³•ä¸æ•°æ®ç»“æ„",
                "è®¡ç®—æœºç§‘å­¦",
                "ç®—æ³•ä¸æ•°æ®ç»“æ„"
            ]
        }
    ]
}